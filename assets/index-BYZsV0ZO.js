var jx=Object.defineProperty;var Vx=(a,t,e)=>t in a?jx(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var by=(a,t,e)=>Vx(a,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var Jf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function Zx(){if(My)return zl;My=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:a,type:i,key:u,ref:r!==void 0?r:null,props:o}}return zl.Fragment=t,zl.jsx=e,zl.jsxs=e,zl}var Ay;function qx(){return Ay||(Ay=1,Jf.exports=Zx()),Jf.exports}var Re=qx(),$f={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function Kx(){if(Dy)return Et;Dy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function p(b){return b===null||typeof b!="object"?null:(b=y&&b[y]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function C(b,U,k){this.props=b,this.context=U,this.refs=T,this.updater=k||E}C.prototype.isReactComponent={},C.prototype.setState=function(b,U){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,U,"setState")},C.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function R(){}R.prototype=C.prototype;function M(b,U,k){this.props=b,this.context=U,this.refs=T,this.updater=k||E}var A=M.prototype=new R;A.constructor=M,x(A,C.prototype),A.isPureReactComponent=!0;var L=Array.isArray,D={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function W(b,U,k,et,$,at){return k=at.ref,{$$typeof:a,type:b,key:U,ref:k!==void 0?k:null,props:at}}function H(b,U){return W(b.type,U,void 0,void 0,void 0,b.props)}function F(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function q(b){var U={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(k){return U[k]})}var it=/\/+/g;function rt(b,U){return typeof b=="object"&&b!==null&&b.key!=null?q(""+b.key):U.toString(36)}function ot(){}function tt(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ot,ot):(b.status="pending",b.then(function(U){b.status==="pending"&&(b.status="fulfilled",b.value=U)},function(U){b.status==="pending"&&(b.status="rejected",b.reason=U)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function gt(b,U,k,et,$){var at=typeof b;(at==="undefined"||at==="boolean")&&(b=null);var ct=!1;if(b===null)ct=!0;else switch(at){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(b.$$typeof){case a:case t:ct=!0;break;case _:return ct=b._init,gt(ct(b._payload),U,k,et,$)}}if(ct)return $=$(b),ct=et===""?"."+rt(b,0):et,L($)?(k="",ct!=null&&(k=ct.replace(it,"$&/")+"/"),gt($,U,k,"",function(Ut){return Ut})):$!=null&&(F($)&&($=H($,k+($.key==null||b&&b.key===$.key?"":(""+$.key).replace(it,"$&/")+"/")+ct)),U.push($)),1;ct=0;var Gt=et===""?".":et+":";if(L(b))for(var yt=0;yt<b.length;yt++)et=b[yt],at=Gt+rt(et,yt),ct+=gt(et,U,k,at,$);else if(yt=p(b),typeof yt=="function")for(b=yt.call(b),yt=0;!(et=b.next()).done;)et=et.value,at=Gt+rt(et,yt++),ct+=gt(et,U,k,at,$);else if(at==="object"){if(typeof b.then=="function")return gt(tt(b),U,k,et,$);throw U=String(b),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ct}function P(b,U,k){if(b==null)return b;var et=[],$=0;return gt(b,et,"","",function(at){return U.call(k,at,$++)}),et}function J(b){if(b._status===-1){var U=b._result;U=U(),U.then(function(k){(b._status===0||b._status===-1)&&(b._status=1,b._result=k)},function(k){(b._status===0||b._status===-1)&&(b._status=2,b._result=k)}),b._status===-1&&(b._status=0,b._result=U)}if(b._status===1)return b._result.default;throw b._result}var Q=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function nt(){}return Et.Children={map:P,forEach:function(b,U,k){P(b,function(){U.apply(this,arguments)},k)},count:function(b){var U=0;return P(b,function(){U++}),U},toArray:function(b){return P(b,function(U){return U})||[]},only:function(b){if(!F(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Et.Component=C,Et.Fragment=e,Et.Profiler=r,Et.PureComponent=M,Et.StrictMode=i,Et.Suspense=f,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(b){return function(){return b.apply(null,arguments)}},Et.cloneElement=function(b,U,k){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var et=x({},b.props),$=b.key,at=void 0;if(U!=null)for(ct in U.ref!==void 0&&(at=void 0),U.key!==void 0&&($=""+U.key),U)!V.call(U,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&U.ref===void 0||(et[ct]=U[ct]);var ct=arguments.length-2;if(ct===1)et.children=k;else if(1<ct){for(var Gt=Array(ct),yt=0;yt<ct;yt++)Gt[yt]=arguments[yt+2];et.children=Gt}return W(b.type,$,void 0,void 0,at,et)},Et.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:o,_context:b},b},Et.createElement=function(b,U,k){var et,$={},at=null;if(U!=null)for(et in U.key!==void 0&&(at=""+U.key),U)V.call(U,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&($[et]=U[et]);var ct=arguments.length-2;if(ct===1)$.children=k;else if(1<ct){for(var Gt=Array(ct),yt=0;yt<ct;yt++)Gt[yt]=arguments[yt+2];$.children=Gt}if(b&&b.defaultProps)for(et in ct=b.defaultProps,ct)$[et]===void 0&&($[et]=ct[et]);return W(b,at,void 0,void 0,null,$)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(b){return{$$typeof:h,render:b}},Et.isValidElement=F,Et.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:J}},Et.memo=function(b,U){return{$$typeof:g,type:b,compare:U===void 0?null:U}},Et.startTransition=function(b){var U=D.T,k={};D.T=k;try{var et=b(),$=D.S;$!==null&&$(k,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(nt,Q)}catch(at){Q(at)}finally{D.T=U}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(b){return D.H.use(b)},Et.useActionState=function(b,U,k){return D.H.useActionState(b,U,k)},Et.useCallback=function(b,U){return D.H.useCallback(b,U)},Et.useContext=function(b){return D.H.useContext(b)},Et.useDebugValue=function(){},Et.useDeferredValue=function(b,U){return D.H.useDeferredValue(b,U)},Et.useEffect=function(b,U){return D.H.useEffect(b,U)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(b,U,k){return D.H.useImperativeHandle(b,U,k)},Et.useInsertionEffect=function(b,U){return D.H.useInsertionEffect(b,U)},Et.useLayoutEffect=function(b,U){return D.H.useLayoutEffect(b,U)},Et.useMemo=function(b,U){return D.H.useMemo(b,U)},Et.useOptimistic=function(b,U){return D.H.useOptimistic(b,U)},Et.useReducer=function(b,U,k){return D.H.useReducer(b,U,k)},Et.useRef=function(b){return D.H.useRef(b)},Et.useState=function(b){return D.H.useState(b)},Et.useSyncExternalStore=function(b,U,k){return D.H.useSyncExternalStore(b,U,k)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.0.0",Et}var Ly;function eg(){return Ly||(Ly=1,$f.exports=Kx()),$f.exports}var j=eg(),td={exports:{}},Fl={},ed={exports:{}},nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function Wx(){return Oy||(Oy=1,function(a){function t(P,J){var Q=P.length;P.push(J);t:for(;0<Q;){var nt=Q-1>>>1,b=P[nt];if(0<r(b,J))P[nt]=J,P[Q]=b,Q=nt;else break t}}function e(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var J=P[0],Q=P.pop();if(Q!==J){P[0]=Q;t:for(var nt=0,b=P.length,U=b>>>1;nt<U;){var k=2*(nt+1)-1,et=P[k],$=k+1,at=P[$];if(0>r(et,Q))$<b&&0>r(at,et)?(P[nt]=at,P[$]=Q,nt=$):(P[nt]=et,P[k]=Q,nt=k);else if($<b&&0>r(at,Q))P[nt]=at,P[$]=Q,nt=$;else break t}}return J}function r(P,J){var Q=P.sortIndex-J.sortIndex;return Q!==0?Q:P.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();a.unstable_now=function(){return u.now()-h}}var f=[],g=[],_=1,y=null,p=3,E=!1,x=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function A(P){for(var J=e(g);J!==null;){if(J.callback===null)i(g);else if(J.startTime<=P)i(g),J.sortIndex=J.expirationTime,t(f,J);else break;J=e(g)}}function L(P){if(T=!1,A(P),!x)if(e(f)!==null)x=!0,tt();else{var J=e(g);J!==null&&gt(L,J.startTime-P)}}var D=!1,V=-1,W=5,H=-1;function F(){return!(a.unstable_now()-H<W)}function q(){if(D){var P=a.unstable_now();H=P;var J=!0;try{t:{x=!1,T&&(T=!1,R(V),V=-1),E=!0;var Q=p;try{e:{for(A(P),y=e(f);y!==null&&!(y.expirationTime>P&&F());){var nt=y.callback;if(typeof nt=="function"){y.callback=null,p=y.priorityLevel;var b=nt(y.expirationTime<=P);if(P=a.unstable_now(),typeof b=="function"){y.callback=b,A(P),J=!0;break e}y===e(f)&&i(f),A(P)}else i(f);y=e(f)}if(y!==null)J=!0;else{var U=e(g);U!==null&&gt(L,U.startTime-P),J=!1}}break t}finally{y=null,p=Q,E=!1}J=void 0}}finally{J?it():D=!1}}}var it;if(typeof M=="function")it=function(){M(q)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ot=rt.port2;rt.port1.onmessage=q,it=function(){ot.postMessage(null)}}else it=function(){C(q,0)};function tt(){D||(D=!0,it())}function gt(P,J){V=C(function(){P(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_continueExecution=function(){x||E||(x=!0,tt())},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return p},a.unstable_getFirstCallbackNode=function(){return e(f)},a.unstable_next=function(P){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var Q=p;p=J;try{return P()}finally{p=Q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Q=p;p=P;try{return J()}finally{p=Q}},a.unstable_scheduleCallback=function(P,J,Q){var nt=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?nt+Q:nt):Q=nt,P){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=Q+b,P={id:_++,callback:J,priorityLevel:P,startTime:Q,expirationTime:b,sortIndex:-1},Q>nt?(P.sortIndex=Q,t(g,P),e(f)===null&&P===e(g)&&(T?(R(V),V=-1):T=!0,gt(L,Q-nt))):(P.sortIndex=b,t(f,P),x||E||(x=!0,tt())),P},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(P){var J=p;return function(){var Q=p;p=J;try{return P.apply(this,arguments)}finally{p=Q}}}}(nd)),nd}var Iy;function Qx(){return Iy||(Iy=1,ed.exports=Wx()),ed.exports}var id={exports:{}},Oe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function Jx(){if(Ny)return Oe;Ny=1;var a=eg();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:g,implementation:_}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Oe.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},Oe.flushSync=function(f){var g=u.T,_=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=_,i.d.f()}},Oe.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Oe.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Oe.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,y=h(_,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:p,fetchPriority:E}):_==="script"&&i.d.X(f,{crossOrigin:y,integrity:p,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Oe.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Oe.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,y=h(_,g.crossOrigin);i.d.L(f,_,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Oe.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Oe.requestFormReset=function(f){i.d.r(f)},Oe.unstable_batchedUpdates=function(f,g){return f(g)},Oe.useFormState=function(f,g,_){return u.H.useFormState(f,g,_)},Oe.useFormStatus=function(){return u.H.useHostTransitionStatus()},Oe.version="19.0.0",Oe}var zy;function $x(){if(zy)return id.exports;zy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),id.exports=Jx(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function tS(){if(Fy)return Fl;Fy=1;var a=Qx(),t=eg(),e=$x();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var W=Symbol.for("react.client.reference");function H(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===W?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case f:return"Fragment";case h:return"Portal";case _:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case E:return(n.displayName||"Context")+".Provider";case p:return(n._context.displayName||"Context")+".Consumer";case x:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:H(n.type)||"Memo";case M:s=n._payload,n=n._init;try{return H(n(s))}catch{}}return null}var F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Object.assign,it,rt;function ot(n){if(it===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);it=s&&s[1]||"",rt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+n+rt}var tt=!1;function gt(n,s){if(!n||tt)return"";tt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(Y){var G=Y}Reflect.construct(n,[],K)}else{try{K.call()}catch(Y){G=Y}n.call(K.prototype)}}else{try{throw Error()}catch(Y){G=Y}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var w=v.split(`
`),I=S.split(`
`);for(d=c=0;c<w.length&&!w[c].includes("DetermineComponentFrameRoot");)c++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(c===w.length||d===I.length)for(c=w.length-1,d=I.length-1;1<=c&&0<=d&&w[c]!==I[d];)d--;for(;1<=c&&0<=d;c--,d--)if(w[c]!==I[d]){if(c!==1||d!==1)do if(c--,d--,0>d||w[c]!==I[d]){var X=`
`+w[c].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=c&&0<=d);break}}}finally{tt=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ot(l):""}function P(n){switch(n.tag){case 26:case 27:case 5:return ot(n.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return n=gt(n.type,!1),n;case 11:return n=gt(n.type.render,!1),n;case 1:return n=gt(n.type,!0),n;default:return""}}function J(n){try{var s="";do s+=P(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Q(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function nt(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function b(n){if(Q(n)!==n)throw Error(i(188))}function U(n){var s=n.alternate;if(!s){if(s=Q(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,c=s;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return b(d),n;if(m===c)return b(d),s;m=m.sibling}throw Error(i(188))}if(l.return!==c.return)l=d,c=m;else{for(var v=!1,S=d.child;S;){if(S===l){v=!0,l=d,c=m;break}if(S===c){v=!0,c=d,l=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===l){v=!0,l=m,c=d;break}if(S===c){v=!0,c=m,l=d;break}S=S.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function k(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=k(n),s!==null)return s;n=n.sibling}return null}var et=Array.isArray,$=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ct=[],Gt=-1;function yt(n){return{current:n}}function Ut(n){0>Gt||(n.current=ct[Gt],ct[Gt]=null,Gt--)}function vt(n,s){Gt++,ct[Gt]=n.current,n.current=s}var Ge=yt(null),jn=yt(null),en=yt(null),nn=yt(null);function Vn(n,s){switch(vt(en,s),vt(jn,n),vt(Ge,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?ny(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=ny(n),s=iy(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ut(Ge),vt(Ge,s)}function Ee(){Ut(Ge),Ut(jn),Ut(en)}function Ve(n){n.memoizedState!==null&&vt(nn,n);var s=Ge.current,l=iy(s,n.type);s!==l&&(vt(jn,n),vt(Ge,l))}function Ln(n){jn.current===n&&(Ut(Ge),Ut(jn)),nn.current===n&&(Ut(nn),Dl._currentValue=at)}var On=Object.prototype.hasOwnProperty,Zn=a.unstable_scheduleCallback,hi=a.unstable_cancelCallback,In=a.unstable_shouldYield,fi=a.unstable_requestPaint,Ht=a.unstable_now,ka=a.unstable_getCurrentPriorityLevel,zs=a.unstable_ImmediatePriority,Fs=a.unstable_UserBlockingPriority,Rr=a.unstable_NormalPriority,wo=a.unstable_LowPriority,Pa=a.unstable_IdlePriority,Ua=a.log,jc=a.unstable_setDisableYieldValue,Gs=null,be=null;function bo(n){if(be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Gs,n,void 0,(n.current.flags&128)===128)}catch{}}function fn(n){if(typeof Ua=="function"&&jc(n),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Gs,n)}catch{}}var Me=Math.clz32?Math.clz32:ks,Vc=Math.log,Ya=Math.LN2;function ks(n){return n>>>=0,n===0?32:31-(Vc(n)/Ya|0)|0}var qn=128,Kn=4194304;function Wn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ps(n,s){var l=n.pendingLanes;if(l===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var S=l&134217727;return S!==0?(l=S&~d,l!==0?c=Wn(l):(m&=S,m!==0?c=Wn(m):n||(v=S&~v,v!==0&&(c=Wn(v))))):(S=l&~d,S!==0?c=Wn(S):m!==0?c=Wn(m):n||(v=l&~v,v!==0&&(c=Wn(v)))),c===0?0:s!==0&&s!==c&&(s&d)===0&&(d=c&-c,v=s&-s,d>=v||d===32&&(v&4194176)!==0)?s:c}function ce(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function di(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var n=qn;return qn<<=1,(qn&4194176)===0&&(qn=128),n}function sn(){var n=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),n}function Ae(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Pe(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Nn(n,s,l,c,d,m){var v=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var S=n.entanglements,w=n.expirationTimes,I=n.hiddenUpdates;for(l=v&~l;0<l;){var X=31-Me(l),K=1<<X;S[X]=0,w[X]=-1;var G=I[X];if(G!==null)for(I[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}l&=~K}c!==0&&Kt(n,c,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~s))}function Kt(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Me(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|l&4194218}function he(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var c=31-Me(l),d=1<<c;d&s|n[c]&s&&(n[c]|=s),l&=~d}}function dn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mo(){var n=$.p;return n!==0?n:(n=window.event,n===void 0?32:xy(n.type))}function zv(n,s){var l=$.p;try{return $.p=n,s()}finally{$.p=l}}var Wi=Math.random().toString(36).slice(2),De="__reactFiber$"+Wi,Ze="__reactProps$"+Wi,wr="__reactContainer$"+Wi,Zc="__reactEvents$"+Wi,Fv="__reactListeners$"+Wi,Gv="__reactHandles$"+Wi,t_="__reactResources$"+Wi,Xa="__reactMarker$"+Wi;function qc(n){delete n[De],delete n[Ze],delete n[Zc],delete n[Fv],delete n[Gv]}function Us(n){var s=n[De];if(s)return s;for(var l=n.parentNode;l;){if(s=l[wr]||l[De]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=ay(n);n!==null;){if(l=n[De])return l;n=ay(n)}return s}n=l,l=n.parentNode}return null}function br(n){if(n=n[De]||n[wr]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Ba(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Mr(n){var s=n[t_];return s||(s=n[t_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fe(n){n[Xa]=!0}var e_=new Set,n_={};function Ys(n,s){Ar(n,s),Ar(n+"Capture",s)}function Ar(n,s){for(n_[n]=s,n=0;n<s.length;n++)e_.add(s[n])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),i_={},s_={};function Pv(n){return On.call(s_,n)?!0:On.call(i_,n)?!1:kv.test(n)?s_[n]=!0:(i_[n]=!0,!1)}function Ao(n,s,l){if(Pv(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function Do(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function _i(n,s,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+c)}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function r_(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Uv(n){var s=r_(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Lo(n){n._valueTracker||(n._valueTracker=Uv(n))}function a_(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return n&&(c=r_(n)?n.checked?"true":"false":n.value),n=c,n!==l?(s.setValue(n),!0):!1}function Oo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yv=/[\n"\\]/g;function _n(n){return n.replace(Yv,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Kc(n,s,l,c,d,m,v,S){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+gn(s)):n.value!==""+gn(s)&&(n.value=""+gn(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?Wc(n,v,gn(s)):l!=null?Wc(n,v,gn(l)):c!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+gn(S):n.removeAttribute("name")}function l_(n,s,l,c,d,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;l=l!=null?""+gn(l):"",s=s!=null?""+gn(s):l,S||s===n.value||(n.value=s),n.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=S?n.checked:!!c,n.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Wc(n,s,l){s==="number"&&Oo(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Dr(n,s,l,c){if(n=n.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=s.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&c&&(n[l].defaultSelected=!0)}else{for(l=""+gn(l),s=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function o_(n,s,l){if(s!=null&&(s=""+gn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+gn(l):""}function u_(n,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(et(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=gn(s),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c)}function Lr(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Xv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function c_(n,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,l):typeof l!="number"||l===0||Xv.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function h_(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&l[d]!==c&&c_(n,d,c)}else for(var m in s)s.hasOwnProperty(m)&&c_(n,m,s[m])}function Qc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(n){return Hv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Jc=null;function $c(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Or=null,Ir=null;function f_(n){var s=br(n);if(s&&(n=s.stateNode)){var l=n[Ze]||null;t:switch(n=s.stateNode,s.type){case"input":if(Kc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==n&&c.form===n.form){var d=c[Ze]||null;if(!d)throw Error(i(90));Kc(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===n.form&&a_(c)}break t;case"textarea":o_(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Dr(n,!!l.multiple,s,!1)}}}var th=!1;function d_(n,s,l){if(th)return n(s,l);th=!0;try{var c=n(s);return c}finally{if(th=!1,(Or!==null||Ir!==null)&&(mu(),Or&&(s=Or,n=Ir,Ir=Or=null,f_(s),n)))for(s=0;s<n.length;s++)f_(n[s])}}function Ha(n,s){var l=n.stateNode;if(l===null)return null;var c=l[Ze]||null;if(c===null)return null;l=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var eh=!1;if(gi)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){eh=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{eh=!1}var Qi=null,nh=null,No=null;function g_(){if(No)return No;var n,s=nh,l=s.length,c,d="value"in Qi?Qi.value:Qi.textContent,m=d.length;for(n=0;n<l&&s[n]===d[n];n++);var v=l-n;for(c=1;c<=v&&s[l-c]===d[m-c];c++);return No=d.slice(n,1<c?1-c:void 0)}function zo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Fo(){return!0}function __(){return!1}function qe(n){function s(l,c,d,m,v){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(l=n[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Fo:__,this.isPropagationStopped=__,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),s}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=qe(Xs),Va=q({},Xs,{view:0,detail:0}),jv=qe(Va),ih,sh,Za,ko=q({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Za&&(Za&&n.type==="mousemove"?(ih=n.screenX-Za.screenX,sh=n.screenY-Za.screenY):sh=ih=0,Za=n),ih)},movementY:function(n){return"movementY"in n?n.movementY:sh}}),m_=qe(ko),Vv=q({},ko,{dataTransfer:0}),Zv=qe(Vv),qv=q({},Va,{relatedTarget:0}),rh=qe(qv),Kv=q({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Wv=qe(Kv),Qv=q({},Xs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jv=qe(Qv),$v=q({},Xs,{data:0}),y_=qe($v),tE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iE(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=nE[n])?!!s[n]:!1}function ah(){return iE}var sE=q({},Va,{key:function(n){if(n.key){var s=tE[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=zo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(n){return n.type==="keypress"?zo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),rE=qe(sE),aE=q({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p_=qe(aE),lE=q({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),oE=qe(lE),uE=q({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cE=qe(uE),hE=q({},ko,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fE=qe(hE),dE=q({},Xs,{newState:0,oldState:0}),gE=qe(dE),_E=[9,13,27,32],lh=gi&&"CompositionEvent"in window,qa=null;gi&&"documentMode"in document&&(qa=document.documentMode);var mE=gi&&"TextEvent"in window&&!qa,v_=gi&&(!lh||qa&&8<qa&&11>=qa),E_=" ",x_=!1;function S_(n,s){switch(n){case"keyup":return _E.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nr=!1;function yE(n,s){switch(n){case"compositionend":return C_(s);case"keypress":return s.which!==32?null:(x_=!0,E_);case"textInput":return n=s.data,n===E_&&x_?null:n;default:return null}}function pE(n,s){if(Nr)return n==="compositionend"||!lh&&S_(n,s)?(n=g_(),No=nh=Qi=null,Nr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v_&&s.locale!=="ko"?null:s.data;default:return null}}var vE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!vE[n.type]:s==="textarea"}function R_(n,s,l,c){Or?Ir?Ir.push(c):Ir=[c]:Or=c,s=xu(s,"onChange"),0<s.length&&(l=new Go("onChange","change",null,l,c),n.push({event:l,listeners:s}))}var Ka=null,Wa=null;function EE(n){Q0(n,0)}function Po(n){var s=Ba(n);if(a_(s))return n}function w_(n,s){if(n==="change")return s}var b_=!1;if(gi){var oh;if(gi){var uh="oninput"in document;if(!uh){var M_=document.createElement("div");M_.setAttribute("oninput","return;"),uh=typeof M_.oninput=="function"}oh=uh}else oh=!1;b_=oh&&(!document.documentMode||9<document.documentMode)}function A_(){Ka&&(Ka.detachEvent("onpropertychange",D_),Wa=Ka=null)}function D_(n){if(n.propertyName==="value"&&Po(Wa)){var s=[];R_(s,Wa,n,$c(n)),d_(EE,s)}}function xE(n,s,l){n==="focusin"?(A_(),Ka=s,Wa=l,Ka.attachEvent("onpropertychange",D_)):n==="focusout"&&A_()}function SE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Po(Wa)}function CE(n,s){if(n==="click")return Po(s)}function TE(n,s){if(n==="input"||n==="change")return Po(s)}function RE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var rn=typeof Object.is=="function"?Object.is:RE;function Qa(n,s){if(rn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!On.call(s,d)||!rn(n[d],s[d]))return!1}return!0}function L_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function O_(n,s){var l=L_(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=s&&c>=s)return{node:l,offset:s-n};n=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=L_(l)}}function I_(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?I_(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function N_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Oo(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Oo(n.document)}return s}function ch(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function wE(n,s){var l=N_(s);s=n.focusedElem;var c=n.selectionRange;if(l!==s&&s&&s.ownerDocument&&I_(s.ownerDocument.documentElement,s)){if(c!==null&&ch(s)){if(n=c.start,l=c.end,l===void 0&&(l=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(l,s.value.length);else if(l=(n=s.ownerDocument||document)&&n.defaultView||window,l.getSelection){l=l.getSelection();var d=s.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!l.extend&&m>c&&(d=c,c=m,m=d),d=O_(s,m);var v=O_(s,c);d&&v&&(l.rangeCount!==1||l.anchorNode!==d.node||l.anchorOffset!==d.offset||l.focusNode!==v.node||l.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),l.removeAllRanges(),m>c?(l.addRange(n),l.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),l.addRange(n)))}}for(n=[],l=s;l=l.parentNode;)l.nodeType===1&&n.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)l=n[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var bE=gi&&"documentMode"in document&&11>=document.documentMode,zr=null,hh=null,Ja=null,fh=!1;function z_(n,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fh||zr==null||zr!==Oo(c)||(c=zr,"selectionStart"in c&&ch(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ja&&Qa(Ja,c)||(Ja=c,c=xu(hh,"onSelect"),0<c.length&&(s=new Go("onSelect","select",null,s,l),n.push({event:s,listeners:c}),s.target=zr)))}function Bs(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Fr={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},dh={},F_={};gi&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Hs(n){if(dh[n])return dh[n];if(!Fr[n])return n;var s=Fr[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in F_)return dh[n]=s[l];return n}var G_=Hs("animationend"),k_=Hs("animationiteration"),P_=Hs("animationstart"),ME=Hs("transitionrun"),AE=Hs("transitionstart"),DE=Hs("transitioncancel"),U_=Hs("transitionend"),Y_=new Map,X_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(n,s){Y_.set(n,s),Ys(s,[n])}var mn=[],Gr=0,gh=0;function Uo(){for(var n=Gr,s=gh=Gr=0;s<n;){var l=mn[s];mn[s++]=null;var c=mn[s];mn[s++]=null;var d=mn[s];mn[s++]=null;var m=mn[s];if(mn[s++]=null,c!==null&&d!==null){var v=c.pending;v===null?d.next=d:(d.next=v.next,v.next=d),c.pending=d}m!==0&&B_(l,d,m)}}function Yo(n,s,l,c){mn[Gr++]=n,mn[Gr++]=s,mn[Gr++]=l,mn[Gr++]=c,gh|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function _h(n,s,l,c){return Yo(n,s,l,c),Xo(n)}function Ji(n,s){return Yo(n,null,null,s),Xo(n)}function B_(n,s,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var d=!1,m=n.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;d&&s!==null&&n.tag===3&&(m=n.stateNode,d=31-Me(l),m=m.hiddenUpdates,n=m[d],n===null?m[d]=[s]:n.push(s),s.lane=l|536870912)}function Xo(n){if(50<Cl)throw Cl=0,Sf=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var kr={},H_=new WeakMap;function yn(n,s){if(typeof n=="object"&&n!==null){var l=H_.get(n);return l!==void 0?l:(s={value:n,source:s,stack:J(s)},H_.set(n,s),s)}return{value:n,source:s,stack:J(s)}}var Pr=[],Ur=0,Bo=null,Ho=0,pn=[],vn=0,js=null,mi=1,yi="";function Vs(n,s){Pr[Ur++]=Ho,Pr[Ur++]=Bo,Bo=n,Ho=s}function j_(n,s,l){pn[vn++]=mi,pn[vn++]=yi,pn[vn++]=js,js=n;var c=mi;n=yi;var d=32-Me(c)-1;c&=~(1<<d),l+=1;var m=32-Me(s)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,mi=1<<32-Me(s)+d|l<<d|c,yi=m+n}else mi=1<<m|l<<d|c,yi=n}function mh(n){n.return!==null&&(Vs(n,1),j_(n,1,0))}function yh(n){for(;n===Bo;)Bo=Pr[--Ur],Pr[Ur]=null,Ho=Pr[--Ur],Pr[Ur]=null;for(;n===js;)js=pn[--vn],pn[vn]=null,yi=pn[--vn],pn[vn]=null,mi=pn[--vn],pn[vn]=null}var Ue=null,xe=null,Ot=!1,Fn=null,Qn=!1,ph=Error(i(519));function Zs(n){var s=Error(i(418,""));throw el(yn(s,n)),ph}function V_(n){var s=n.stateNode,l=n.type,c=n.memoizedProps;switch(s[De]=n,s[Ze]=c,l){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Mt(Rl[l],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),l_(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Lo(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),u_(s,c.value,c.defaultValue,c.children),Lo(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||ey(s.textContent,l)?(c.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),c.onScroll!=null&&Mt("scroll",s),c.onScrollEnd!=null&&Mt("scrollend",s),c.onClick!=null&&(s.onclick=Su),s=!0):s=!1,s||Zs(n)}function Z_(n){for(Ue=n.return;Ue;)switch(Ue.tag){case 3:case 27:Qn=!0;return;case 5:case 13:Qn=!1;return;default:Ue=Ue.return}}function $a(n){if(n!==Ue)return!1;if(!Ot)return Z_(n),Ot=!0,!1;var s=!1,l;if((l=n.tag!==3&&n.tag!==27)&&((l=n.tag===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Pf(n.type,n.memoizedProps)),l=!l),l&&(s=!0),s&&xe&&Zs(n),Z_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){xe=kn(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}xe=null}}else xe=Ue?kn(n.stateNode.nextSibling):null;return!0}function tl(){xe=Ue=null,Ot=!1}function el(n){Fn===null?Fn=[n]:Fn.push(n)}var nl=Error(i(460)),q_=Error(i(474)),vh={then:function(){}};function K_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function jo(){}function W_(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(jo,jo),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===nl?Error(i(483)):n;default:if(typeof s.status=="string")s.then(jo,jo);else{if(n=Zt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===nl?Error(i(483)):n}throw il=s,nl}}var il=null;function Q_(){if(il===null)throw Error(i(459));var n=il;return il=null,n}var Yr=null,sl=0;function Vo(n){var s=sl;return sl+=1,Yr===null&&(Yr=[]),W_(Yr,n,s)}function rl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Zo(n,s){throw s.$$typeof===o?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function J_(n){var s=n._init;return s(n._payload)}function $_(n){function s(N,O){if(n){var z=N.deletions;z===null?(N.deletions=[O],N.flags|=16):z.push(O)}}function l(N,O){if(!n)return null;for(;O!==null;)s(N,O),O=O.sibling;return null}function c(N){for(var O=new Map;N!==null;)N.key!==null?O.set(N.key,N):O.set(N.index,N),N=N.sibling;return O}function d(N,O){return N=cs(N,O),N.index=0,N.sibling=null,N}function m(N,O,z){return N.index=z,n?(z=N.alternate,z!==null?(z=z.index,z<O?(N.flags|=33554434,O):z):(N.flags|=33554434,O)):(N.flags|=1048576,O)}function v(N){return n&&N.alternate===null&&(N.flags|=33554434),N}function S(N,O,z,Z){return O===null||O.tag!==6?(O=gf(z,N.mode,Z),O.return=N,O):(O=d(O,z),O.return=N,O)}function w(N,O,z,Z){var st=z.type;return st===f?X(N,O,z.props.children,Z,z.key):O!==null&&(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===M&&J_(st)===O.type)?(O=d(O,z.props),rl(O,z),O.return=N,O):(O=hu(z.type,z.key,z.props,null,N.mode,Z),rl(O,z),O.return=N,O)}function I(N,O,z,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=_f(z,N.mode,Z),O.return=N,O):(O=d(O,z.children||[]),O.return=N,O)}function X(N,O,z,Z,st){return O===null||O.tag!==7?(O=ir(z,N.mode,Z,st),O.return=N,O):(O=d(O,z),O.return=N,O)}function K(N,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gf(""+O,N.mode,z),O.return=N,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case u:return z=hu(O.type,O.key,O.props,null,N.mode,z),rl(z,O),z.return=N,z;case h:return O=_f(O,N.mode,z),O.return=N,O;case M:var Z=O._init;return O=Z(O._payload),K(N,O,z)}if(et(O)||V(O))return O=ir(O,N.mode,z,null),O.return=N,O;if(typeof O.then=="function")return K(N,Vo(O),z);if(O.$$typeof===E)return K(N,ou(N,O),z);Zo(N,O)}return null}function G(N,O,z,Z){var st=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:S(N,O,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case u:return z.key===st?w(N,O,z,Z):null;case h:return z.key===st?I(N,O,z,Z):null;case M:return st=z._init,z=st(z._payload),G(N,O,z,Z)}if(et(z)||V(z))return st!==null?null:X(N,O,z,Z,null);if(typeof z.then=="function")return G(N,O,Vo(z),Z);if(z.$$typeof===E)return G(N,O,ou(N,z),Z);Zo(N,z)}return null}function Y(N,O,z,Z,st){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return N=N.get(z)||null,S(O,N,""+Z,st);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case u:return N=N.get(Z.key===null?z:Z.key)||null,w(O,N,Z,st);case h:return N=N.get(Z.key===null?z:Z.key)||null,I(O,N,Z,st);case M:var Rt=Z._init;return Z=Rt(Z._payload),Y(N,O,z,Z,st)}if(et(Z)||V(Z))return N=N.get(z)||null,X(O,N,Z,st,null);if(typeof Z.then=="function")return Y(N,O,z,Vo(Z),st);if(Z.$$typeof===E)return Y(N,O,z,ou(O,Z),st);Zo(O,Z)}return null}function lt(N,O,z,Z){for(var st=null,Rt=null,ut=O,dt=O=0,_e=null;ut!==null&&dt<z.length;dt++){ut.index>dt?(_e=ut,ut=null):_e=ut.sibling;var It=G(N,ut,z[dt],Z);if(It===null){ut===null&&(ut=_e);break}n&&ut&&It.alternate===null&&s(N,ut),O=m(It,O,dt),Rt===null?st=It:Rt.sibling=It,Rt=It,ut=_e}if(dt===z.length)return l(N,ut),Ot&&Vs(N,dt),st;if(ut===null){for(;dt<z.length;dt++)ut=K(N,z[dt],Z),ut!==null&&(O=m(ut,O,dt),Rt===null?st=ut:Rt.sibling=ut,Rt=ut);return Ot&&Vs(N,dt),st}for(ut=c(ut);dt<z.length;dt++)_e=Y(ut,N,dt,z[dt],Z),_e!==null&&(n&&_e.alternate!==null&&ut.delete(_e.key===null?dt:_e.key),O=m(_e,O,dt),Rt===null?st=_e:Rt.sibling=_e,Rt=_e);return n&&ut.forEach(function(ys){return s(N,ys)}),Ot&&Vs(N,dt),st}function pt(N,O,z,Z){if(z==null)throw Error(i(151));for(var st=null,Rt=null,ut=O,dt=O=0,_e=null,It=z.next();ut!==null&&!It.done;dt++,It=z.next()){ut.index>dt?(_e=ut,ut=null):_e=ut.sibling;var ys=G(N,ut,It.value,Z);if(ys===null){ut===null&&(ut=_e);break}n&&ut&&ys.alternate===null&&s(N,ut),O=m(ys,O,dt),Rt===null?st=ys:Rt.sibling=ys,Rt=ys,ut=_e}if(It.done)return l(N,ut),Ot&&Vs(N,dt),st;if(ut===null){for(;!It.done;dt++,It=z.next())It=K(N,It.value,Z),It!==null&&(O=m(It,O,dt),Rt===null?st=It:Rt.sibling=It,Rt=It);return Ot&&Vs(N,dt),st}for(ut=c(ut);!It.done;dt++,It=z.next())It=Y(ut,N,dt,It.value,Z),It!==null&&(n&&It.alternate!==null&&ut.delete(It.key===null?dt:It.key),O=m(It,O,dt),Rt===null?st=It:Rt.sibling=It,Rt=It);return n&&ut.forEach(function(Hx){return s(N,Hx)}),Ot&&Vs(N,dt),st}function ee(N,O,z,Z){if(typeof z=="object"&&z!==null&&z.type===f&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case u:t:{for(var st=z.key;O!==null;){if(O.key===st){if(st=z.type,st===f){if(O.tag===7){l(N,O.sibling),Z=d(O,z.props.children),Z.return=N,N=Z;break t}}else if(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===M&&J_(st)===O.type){l(N,O.sibling),Z=d(O,z.props),rl(Z,z),Z.return=N,N=Z;break t}l(N,O);break}else s(N,O);O=O.sibling}z.type===f?(Z=ir(z.props.children,N.mode,Z,z.key),Z.return=N,N=Z):(Z=hu(z.type,z.key,z.props,null,N.mode,Z),rl(Z,z),Z.return=N,N=Z)}return v(N);case h:t:{for(st=z.key;O!==null;){if(O.key===st)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){l(N,O.sibling),Z=d(O,z.children||[]),Z.return=N,N=Z;break t}else{l(N,O);break}else s(N,O);O=O.sibling}Z=_f(z,N.mode,Z),Z.return=N,N=Z}return v(N);case M:return st=z._init,z=st(z._payload),ee(N,O,z,Z)}if(et(z))return lt(N,O,z,Z);if(V(z)){if(st=V(z),typeof st!="function")throw Error(i(150));return z=st.call(z),pt(N,O,z,Z)}if(typeof z.then=="function")return ee(N,O,Vo(z),Z);if(z.$$typeof===E)return ee(N,O,ou(N,z),Z);Zo(N,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(l(N,O.sibling),Z=d(O,z),Z.return=N,N=Z):(l(N,O),Z=gf(z,N.mode,Z),Z.return=N,N=Z),v(N)):l(N,O)}return function(N,O,z,Z){try{sl=0;var st=ee(N,O,z,Z);return Yr=null,st}catch(ut){if(ut===nl)throw ut;var Rt=Cn(29,ut,null,N.mode);return Rt.lanes=Z,Rt.return=N,Rt}finally{}}}var qs=$_(!0),tm=$_(!1),Xr=yt(null),qo=yt(0);function em(n,s){n=Mi,vt(qo,n),vt(Xr,s),Mi=n|s.baseLanes}function Eh(){vt(qo,Mi),vt(Xr,Xr.current)}function xh(){Mi=qo.current,Ut(Xr),Ut(qo)}var En=yt(null),Jn=null;function $i(n){var s=n.alternate;vt(le,le.current&1),vt(En,n),Jn===null&&(s===null||Xr.current!==null||s.memoizedState!==null)&&(Jn=n)}function nm(n){if(n.tag===22){if(vt(le,le.current),vt(En,n),Jn===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Jn=n)}}else ts()}function ts(){vt(le,le.current),vt(En,En.current)}function pi(n){Ut(En),Jn===n&&(Jn=null),Ut(le)}var le=yt(0);function Ko(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var LE=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},OE=a.unstable_scheduleCallback,IE=a.unstable_NormalPriority,oe={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new LE,data:new Map,refCount:0}}function al(n){n.refCount--,n.refCount===0&&OE(IE,function(){n.controller.abort()})}var ll=null,Ch=0,Br=0,Hr=null;function NE(n,s){if(ll===null){var l=ll=[];Ch=0,Br=Df(),Hr={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ch++,s.then(im,im),s}function im(){if(--Ch===0&&ll!==null){Hr!==null&&(Hr.status="fulfilled");var n=ll;ll=null,Br=0,Hr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function zE(n,s){var l=[],c={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),c}var sm=F.S;F.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&NE(n,s),sm!==null&&sm(n,s)};var Ks=yt(null);function Th(){var n=Ks.current;return n!==null?n:Zt.pooledCache}function Wo(n,s){s===null?vt(Ks,Ks.current):vt(Ks,s.pool)}function rm(){var n=Th();return n===null?null:{parent:oe._currentValue,pool:n}}var es=0,Tt=null,Yt=null,se=null,Qo=!1,jr=!1,Ws=!1,Jo=0,ol=0,Vr=null,FE=0;function ne(){throw Error(i(321))}function Rh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!rn(n[l],s[l]))return!1;return!0}function wh(n,s,l,c,d,m){return es=m,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=n===null||n.memoizedState===null?Qs:ns,Ws=!1,m=l(c,d),Ws=!1,jr&&(m=lm(s,l,c,d)),am(n),m}function am(n){F.H=$n;var s=Yt!==null&&Yt.next!==null;if(es=0,se=Yt=Tt=null,Qo=!1,ol=0,Vr=null,s)throw Error(i(300));n===null||de||(n=n.dependencies,n!==null&&lu(n)&&(de=!0))}function lm(n,s,l,c){Tt=n;var d=0;do{if(jr&&(Vr=null),ol=0,jr=!1,25<=d)throw Error(i(301));if(d+=1,se=Yt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=Js,m=s(l,c)}while(jr);return m}function GE(){var n=F.H,s=n.useState()[0];return s=typeof s.then=="function"?ul(s):s,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(Tt.flags|=1024),s}function bh(){var n=Jo!==0;return Jo=0,n}function Mh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Ah(n){if(Qo){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qo=!1}es=0,se=Yt=Tt=null,jr=!1,ol=Jo=0,Vr=null}function Ke(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?Tt.memoizedState=se=n:se=se.next=n,se}function re(){if(Yt===null){var n=Tt.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var s=se===null?Tt.memoizedState:se.next;if(s!==null)se=s,Yt=n;else{if(n===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},se===null?Tt.memoizedState=se=n:se=se.next=n}return se}var $o;$o=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ul(n){var s=ol;return ol+=1,Vr===null&&(Vr=[]),n=W_(Vr,n,s),s=Tt,(se===null?s.memoizedState:se.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?Qs:ns),n}function tu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ul(n);if(n.$$typeof===E)return Le(n)}throw Error(i(438,String(n)))}function Dh(n){var s=null,l=Tt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=$o(),Tt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),c=0;c<n;c++)l[c]=L;return s.index++,l}function vi(n,s){return typeof s=="function"?s(n):s}function eu(n){var s=re();return Lh(s,Yt,n)}function Lh(n,s,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var d=n.baseQueue,m=c.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}s.baseQueue=d=m,c.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{s=d.next;var S=v=null,w=null,I=s,X=!1;do{var K=I.lane&-536870913;if(K!==I.lane?(Lt&K)===K:(es&K)===K){var G=I.revertLane;if(G===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),K===Br&&(X=!0);else if((es&G)===G){I=I.next,G===Br&&(X=!0);continue}else K={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},w===null?(S=w=K,v=m):w=w.next=K,Tt.lanes|=G,hs|=G;K=I.action,Ws&&l(m,K),m=I.hasEagerState?I.eagerState:l(m,K)}else G={lane:K,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},w===null?(S=w=G,v=m):w=w.next=G,Tt.lanes|=K,hs|=K;I=I.next}while(I!==null&&I!==s);if(w===null?v=m:w.next=S,!rn(m,n.memoizedState)&&(de=!0,X&&(l=Hr,l!==null)))throw l;n.memoizedState=m,n.baseState=v,n.baseQueue=w,c.lastRenderedState=m}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Oh(n){var s=re(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,d=l.pending,m=s.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);rn(m,s.memoizedState)||(de=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,c]}function om(n,s,l){var c=Tt,d=re(),m=Ot;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=s();var v=!rn((Yt||d).memoizedState,l);if(v&&(d.memoizedState=l,de=!0),d=d.queue,zh(hm.bind(null,c,d,n),[n]),d.getSnapshot!==s||v||se!==null&&se.memoizedState.tag&1){if(c.flags|=2048,Zr(9,cm.bind(null,c,d,l,s),{destroy:void 0},null),Zt===null)throw Error(i(349));m||(es&60)!==0||um(c,s,l)}return l}function um(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Tt.updateQueue,s===null?(s=$o(),Tt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function cm(n,s,l,c){s.value=l,s.getSnapshot=c,fm(s)&&dm(n)}function hm(n,s,l){return l(function(){fm(s)&&dm(n)})}function fm(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!rn(n,l)}catch{return!0}}function dm(n){var s=Ji(n,2);s!==null&&Ye(s,n,2)}function Ih(n){var s=Ke();if(typeof n=="function"){var l=n;if(n=l(),Ws){fn(!0);try{l()}finally{fn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:n},s}function gm(n,s,l,c){return n.baseState=l,Lh(n,Yt,typeof c=="function"?c:vi)}function kE(n,s,l,c,d){if(su(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};F.T!==null?l(!0):m.isTransition=!1,c(m),l=s.pending,l===null?(m.next=s.pending=m,_m(s,m)):(m.next=l.next,s.pending=l.next=m)}}function _m(n,s){var l=s.action,c=s.payload,d=n.state;if(s.isTransition){var m=F.T,v={};F.T=v;try{var S=l(d,c),w=F.S;w!==null&&w(v,S),mm(n,s,S)}catch(I){Nh(n,s,I)}finally{F.T=m}}else try{m=l(d,c),mm(n,s,m)}catch(I){Nh(n,s,I)}}function mm(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){ym(n,s,c)},function(c){return Nh(n,s,c)}):ym(n,s,l)}function ym(n,s,l){s.status="fulfilled",s.value=l,pm(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,_m(n,l)))}function Nh(n,s,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,pm(s),s=s.next;while(s!==c)}n.action=null}function pm(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function vm(n,s){return s}function Em(n,s){if(Ot){var l=Zt.formState;if(l!==null){t:{var c=Tt;if(Ot){if(xe){e:{for(var d=xe,m=Qn;d.nodeType!==8;){if(!m){d=null;break e}if(d=kn(d.nextSibling),d===null){d=null;break e}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){xe=kn(d.nextSibling),c=d.data==="F!";break t}}Zs(c)}c=!1}c&&(s=l[0])}}return l=Ke(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vm,lastRenderedState:s},l.queue=c,l=km.bind(null,Tt,c),c.dispatch=l,c=Ih(!1),m=Uh.bind(null,Tt,!1,c.queue),c=Ke(),d={state:s,dispatch:null,action:n,pending:null},c.queue=d,l=kE.bind(null,Tt,d,m,l),d.dispatch=l,c.memoizedState=n,[s,l,!1]}function xm(n){var s=re();return Sm(s,Yt,n)}function Sm(n,s,l){s=Lh(n,s,vm)[0],n=eu(vi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?ul(s):s;var c=re(),d=c.queue,m=d.dispatch;return l!==c.memoizedState&&(Tt.flags|=2048,Zr(9,PE.bind(null,d,l),{destroy:void 0},null)),[s,m,n]}function PE(n,s){n.action=s}function Cm(n){var s=re(),l=Yt;if(l!==null)return Sm(s,l,n);re(),s=s.memoizedState,l=re();var c=l.queue.dispatch;return l.memoizedState=n,[s,c,!1]}function Zr(n,s,l,c){return n={tag:n,create:s,inst:l,deps:c,next:null},s=Tt.updateQueue,s===null&&(s=$o(),Tt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,s.lastEffect=n),n}function Tm(){return re().memoizedState}function nu(n,s,l,c){var d=Ke();Tt.flags|=n,d.memoizedState=Zr(1|s,l,{destroy:void 0},c===void 0?null:c)}function iu(n,s,l,c){var d=re();c=c===void 0?null:c;var m=d.memoizedState.inst;Yt!==null&&c!==null&&Rh(c,Yt.memoizedState.deps)?d.memoizedState=Zr(s,l,m,c):(Tt.flags|=n,d.memoizedState=Zr(1|s,l,m,c))}function Rm(n,s){nu(8390656,8,n,s)}function zh(n,s){iu(2048,8,n,s)}function wm(n,s){return iu(4,2,n,s)}function bm(n,s){return iu(4,4,n,s)}function Mm(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Am(n,s,l){l=l!=null?l.concat([n]):null,iu(4,4,Mm.bind(null,s,n),l)}function Fh(){}function Dm(n,s){var l=re();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Rh(s,c[1])?c[0]:(l.memoizedState=[n,s],n)}function Lm(n,s){var l=re();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Rh(s,c[1]))return c[0];if(c=n(),Ws){fn(!0);try{n()}finally{fn(!1)}}return l.memoizedState=[c,s],c}function Gh(n,s,l){return l===void 0||(es&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=I0(),Tt.lanes|=n,hs|=n,l)}function Om(n,s,l,c){return rn(l,s)?l:Xr.current!==null?(n=Gh(n,l,c),rn(n,s)||(de=!0),n):(es&42)===0?(de=!0,n.memoizedState=l):(n=I0(),Tt.lanes|=n,hs|=n,s)}function Im(n,s,l,c,d){var m=$.p;$.p=m!==0&&8>m?m:8;var v=F.T,S={};F.T=S,Uh(n,!1,s,l);try{var w=d(),I=F.S;if(I!==null&&I(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=zE(w,c);cl(n,s,X,un(n))}else cl(n,s,c,un(n))}catch(K){cl(n,s,{then:function(){},status:"rejected",reason:K},un())}finally{$.p=m,F.T=v}}function UE(){}function kh(n,s,l,c){if(n.tag!==5)throw Error(i(476));var d=Nm(n).queue;Im(n,d,s,at,l===null?UE:function(){return zm(n),l(c)})}function Nm(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:at},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function zm(n){var s=Nm(n).next.queue;cl(n,s,{},un())}function Ph(){return Le(Dl)}function Fm(){return re().memoizedState}function Gm(){return re().memoizedState}function YE(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=un();n=rs(l);var c=as(s,n,l);c!==null&&(Ye(c,s,l),dl(c,s,l)),s={cache:Sh()},n.payload=s;return}s=s.return}}function XE(n,s,l){var c=un();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},su(n)?Pm(s,l):(l=_h(n,s,l,c),l!==null&&(Ye(l,n,c),Um(l,s,c)))}function km(n,s,l){var c=un();cl(n,s,l,c)}function cl(n,s,l,c){var d={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(su(n))Pm(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,S=m(v,l);if(d.hasEagerState=!0,d.eagerState=S,rn(S,v))return Yo(n,s,d,0),Zt===null&&Uo(),!1}catch{}finally{}if(l=_h(n,s,d,c),l!==null)return Ye(l,n,c),Um(l,s,c),!0}return!1}function Uh(n,s,l,c){if(c={lane:2,revertLane:Df(),action:c,hasEagerState:!1,eagerState:null,next:null},su(n)){if(s)throw Error(i(479))}else s=_h(n,l,c,2),s!==null&&Ye(s,n,2)}function su(n){var s=n.alternate;return n===Tt||s!==null&&s===Tt}function Pm(n,s){jr=Qo=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Um(n,s,l){if((l&4194176)!==0){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,he(n,l)}}var $n={readContext:Le,use:tu,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne};$n.useCacheRefresh=ne,$n.useMemoCache=ne,$n.useHostTransitionStatus=ne,$n.useFormState=ne,$n.useActionState=ne,$n.useOptimistic=ne;var Qs={readContext:Le,use:tu,useCallback:function(n,s){return Ke().memoizedState=[n,s===void 0?null:s],n},useContext:Le,useEffect:Rm,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,nu(4194308,4,Mm.bind(null,s,n),l)},useLayoutEffect:function(n,s){return nu(4194308,4,n,s)},useInsertionEffect:function(n,s){nu(4,2,n,s)},useMemo:function(n,s){var l=Ke();s=s===void 0?null:s;var c=n();if(Ws){fn(!0);try{n()}finally{fn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(n,s,l){var c=Ke();if(l!==void 0){var d=l(s);if(Ws){fn(!0);try{l(s)}finally{fn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=XE.bind(null,Tt,n),[c.memoizedState,n]},useRef:function(n){var s=Ke();return n={current:n},s.memoizedState=n},useState:function(n){n=Ih(n);var s=n.queue,l=km.bind(null,Tt,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Fh,useDeferredValue:function(n,s){var l=Ke();return Gh(l,n,s)},useTransition:function(){var n=Ih(!1);return n=Im.bind(null,Tt,n.queue,!0,!1),Ke().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var c=Tt,d=Ke();if(Ot){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Zt===null)throw Error(i(349));(Lt&60)!==0||um(c,s,l)}d.memoizedState=l;var m={value:l,getSnapshot:s};return d.queue=m,Rm(hm.bind(null,c,m,n),[n]),c.flags|=2048,Zr(9,cm.bind(null,c,m,l,s),{destroy:void 0},null),l},useId:function(){var n=Ke(),s=Zt.identifierPrefix;if(Ot){var l=yi,c=mi;l=(c&~(1<<32-Me(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=Jo++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=FE++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return Ke().memoizedState=YE.bind(null,Tt)}};Qs.useMemoCache=Dh,Qs.useHostTransitionStatus=Ph,Qs.useFormState=Em,Qs.useActionState=Em,Qs.useOptimistic=function(n){var s=Ke();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Uh.bind(null,Tt,!0,l),l.dispatch=s,[n,s]};var ns={readContext:Le,use:tu,useCallback:Dm,useContext:Le,useEffect:zh,useImperativeHandle:Am,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Lm,useReducer:eu,useRef:Tm,useState:function(){return eu(vi)},useDebugValue:Fh,useDeferredValue:function(n,s){var l=re();return Om(l,Yt.memoizedState,n,s)},useTransition:function(){var n=eu(vi)[0],s=re().memoizedState;return[typeof n=="boolean"?n:ul(n),s]},useSyncExternalStore:om,useId:Fm};ns.useCacheRefresh=Gm,ns.useMemoCache=Dh,ns.useHostTransitionStatus=Ph,ns.useFormState=xm,ns.useActionState=xm,ns.useOptimistic=function(n,s){var l=re();return gm(l,Yt,n,s)};var Js={readContext:Le,use:tu,useCallback:Dm,useContext:Le,useEffect:zh,useImperativeHandle:Am,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Lm,useReducer:Oh,useRef:Tm,useState:function(){return Oh(vi)},useDebugValue:Fh,useDeferredValue:function(n,s){var l=re();return Yt===null?Gh(l,n,s):Om(l,Yt.memoizedState,n,s)},useTransition:function(){var n=Oh(vi)[0],s=re().memoizedState;return[typeof n=="boolean"?n:ul(n),s]},useSyncExternalStore:om,useId:Fm};Js.useCacheRefresh=Gm,Js.useMemoCache=Dh,Js.useHostTransitionStatus=Ph,Js.useFormState=Cm,Js.useActionState=Cm,Js.useOptimistic=function(n,s){var l=re();return Yt!==null?gm(l,Yt,n,s):(l.baseState=n,[n,l.queue.dispatch])};function Yh(n,s,l,c){s=n.memoizedState,l=l(c,s),l=l==null?s:q({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Xh={isMounted:function(n){return(n=n._reactInternals)?Q(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var c=un(),d=rs(c);d.payload=s,l!=null&&(d.callback=l),s=as(n,d,c),s!==null&&(Ye(s,n,c),dl(s,n,c))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var c=un(),d=rs(c);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=as(n,d,c),s!==null&&(Ye(s,n,c),dl(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=un(),c=rs(l);c.tag=2,s!=null&&(c.callback=s),s=as(n,c,l),s!==null&&(Ye(s,n,l),dl(s,n,l))}};function Ym(n,s,l,c,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):s.prototype&&s.prototype.isPureReactComponent?!Qa(l,c)||!Qa(d,m):!0}function Xm(n,s,l,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==n&&Xh.enqueueReplaceState(s,s.state,null)}function $s(n,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(n=n.defaultProps){l===s&&(l=q({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}var ru=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Bm(n){ru(n)}function Hm(n){console.error(n)}function jm(n){ru(n)}function au(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Vm(n,s,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Bh(n,s,l){return l=rs(l),l.tag=3,l.payload={element:null},l.callback=function(){au(n,s)},l}function Zm(n){return n=rs(n),n.tag=3,n}function qm(n,s,l,c){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=c.value;n.payload=function(){return d(m)},n.callback=function(){Vm(s,l,c)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Vm(s,l,c),typeof d!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function BE(n,s,l,c,d){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&fl(s,l,d,!0),l=En.current,l!==null){switch(l.tag){case 13:return Jn===null?Rf():l.alternate===null&&te===0&&(te=3),l.flags&=-257,l.flags|=65536,l.lanes=d,c===vh?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),bf(n,c,d)),!1;case 22:return l.flags|=65536,c===vh?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),bf(n,c,d)),!1}throw Error(i(435,l.tag))}return bf(n,c,d),Rf(),!1}if(Ot)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==ph&&(n=Error(i(422),{cause:c}),el(yn(n,l)))):(c!==ph&&(s=Error(i(423),{cause:c}),el(yn(s,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=yn(c,l),d=Bh(n.stateNode,c,d),rf(n,d),te!==4&&(te=2)),!1;var m=Error(i(520),{cause:c});if(m=yn(m,l),xl===null?xl=[m]:xl.push(m),te!==4&&(te=2),s===null)return!0;c=yn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=Bh(l.stateNode,c,n),rf(l,n),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Zm(d),qm(d,n,l,c),rf(l,d),!1}l=l.return}while(l!==null);return!1}var Km=Error(i(461)),de=!1;function Se(n,s,l,c){s.child=n===null?tm(s,null,l,c):qs(s,n.child,l,c)}function Wm(n,s,l,c,d){l=l.render;var m=s.ref;if("ref"in c){var v={};for(var S in c)S!=="ref"&&(v[S]=c[S])}else v=c;return er(s),c=wh(n,s,l,v,m,d),S=bh(),n!==null&&!de?(Mh(n,s,d),Ei(n,s,d)):(Ot&&S&&mh(s),s.flags|=1,Se(n,s,c,d),s.child)}function Qm(n,s,l,c,d){if(n===null){var m=l.type;return typeof m=="function"&&!df(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,Jm(n,s,m,c,d)):(n=hu(l.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Jh(n,d)){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(v,c)&&n.ref===s.ref)return Ei(n,s,d)}return s.flags|=1,n=cs(m,c),n.ref=s.ref,n.return=s,s.child=n}function Jm(n,s,l,c,d){if(n!==null){var m=n.memoizedProps;if(Qa(m,c)&&n.ref===s.ref)if(de=!1,s.pendingProps=c=m,Jh(n,d))(n.flags&131072)!==0&&(de=!0);else return s.lanes=n.lanes,Ei(n,s,d)}return Hh(n,s,l,c,d)}function $m(n,s,l){var c=s.pendingProps,d=c.children,m=(s.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(hl(n,s),c.mode==="hidden"||m){if((s.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,n!==null){for(d=s.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~c}else s.childLanes=0,s.child=null;return t0(n,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Wo(s,v!==null?v.cachePool:null),v!==null?em(s,v):Eh(),nm(s);else return s.lanes=s.childLanes=536870912,t0(n,s,v!==null?v.baseLanes|l:l,l)}else v!==null?(Wo(s,v.cachePool),em(s,v),ts(),s.memoizedState=null):(n!==null&&Wo(s,null),Eh(),ts());return Se(n,s,d,l),s.child}function t0(n,s,l,c){var d=Th();return d=d===null?null:{parent:oe._currentValue,pool:d},s.memoizedState={baseLanes:l,cachePool:d},n!==null&&Wo(s,null),Eh(),nm(s),n!==null&&fl(n,s,c,!0),null}function hl(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=2097664)}}function Hh(n,s,l,c,d){return er(s),l=wh(n,s,l,c,void 0,d),c=bh(),n!==null&&!de?(Mh(n,s,d),Ei(n,s,d)):(Ot&&c&&mh(s),s.flags|=1,Se(n,s,l,d),s.child)}function e0(n,s,l,c,d,m){return er(s),s.updateQueue=null,l=lm(s,c,l,d),am(n),c=bh(),n!==null&&!de?(Mh(n,s,m),Ei(n,s,m)):(Ot&&c&&mh(s),s.flags|=1,Se(n,s,l,m),s.child)}function n0(n,s,l,c,d){if(er(s),s.stateNode===null){var m=kr,v=l.contextType;typeof v=="object"&&v!==null&&(m=Le(v)),m=new l(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Xh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},nf(s),v=l.contextType,m.context=typeof v=="object"&&v!==null?Le(v):kr,m.state=s.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Yh(s,l,v,c),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Xh.enqueueReplaceState(m,m.state,null),_l(s,c,m,d),gl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){m=s.stateNode;var S=s.memoizedProps,w=$s(l,S);m.props=w;var I=m.context,X=l.contextType;v=kr,typeof X=="object"&&X!==null&&(v=Le(X));var K=l.getDerivedStateFromProps;X=typeof K=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||I!==v)&&Xm(s,m,c,v),ss=!1;var G=s.memoizedState;m.state=G,_l(s,c,m,d),gl(),I=s.memoizedState,S||G!==I||ss?(typeof K=="function"&&(Yh(s,l,K,c),I=s.memoizedState),(w=ss||Ym(s,l,w,c,G,I,v))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=I),m.props=c,m.state=I,m.context=v,c=w):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,sf(n,s),v=s.memoizedProps,X=$s(l,v),m.props=X,K=s.pendingProps,G=m.context,I=l.contextType,w=kr,typeof I=="object"&&I!==null&&(w=Le(I)),S=l.getDerivedStateFromProps,(I=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==K||G!==w)&&Xm(s,m,c,w),ss=!1,G=s.memoizedState,m.state=G,_l(s,c,m,d),gl();var Y=s.memoizedState;v!==K||G!==Y||ss||n!==null&&n.dependencies!==null&&lu(n.dependencies)?(typeof S=="function"&&(Yh(s,l,S,c),Y=s.memoizedState),(X=ss||Ym(s,l,X,c,G,Y,w)||n!==null&&n.dependencies!==null&&lu(n.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,Y,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,Y,w)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Y),m.props=c,m.state=Y,m.context=w,c=X):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),c=!1)}return m=c,hl(n,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&c?(s.child=qs(s,n.child,null,d),s.child=qs(s,null,l,d)):Se(n,s,l,d),s.memoizedState=m.state,n=s.child):n=Ei(n,s,d),n}function i0(n,s,l,c){return tl(),s.flags|=256,Se(n,s,l,c),s.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function Vh(n){return{baseLanes:n,cachePool:rm()}}function Zh(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Tn),n}function s0(n,s,l){var c=s.pendingProps,d=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(le.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ot){if(d?$i(s):ts(),Ot){var S=xe,w;if(w=S){t:{for(w=S,S=Qn;w.nodeType!==8;){if(!S){S=null;break t}if(w=kn(w.nextSibling),w===null){S=null;break t}}S=w}S!==null?(s.memoizedState={dehydrated:S,treeContext:js!==null?{id:mi,overflow:yi}:null,retryLane:536870912},w=Cn(18,null,null,0),w.stateNode=S,w.return=s,s.child=w,Ue=s,xe=null,w=!0):w=!1}w||Zs(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?s.lanes=16:s.lanes=536870912,null;pi(s)}return S=c.children,c=c.fallback,d?(ts(),d=s.mode,S=Kh({mode:"hidden",children:S},d),c=ir(c,d,l,null),S.return=s,c.return=s,S.sibling=c,s.child=S,d=s.child,d.memoizedState=Vh(l),d.childLanes=Zh(n,v,l),s.memoizedState=jh,c):($i(s),qh(s,S))}if(w=n.memoizedState,w!==null&&(S=w.dehydrated,S!==null)){if(m)s.flags&256?($i(s),s.flags&=-257,s=Wh(n,s,l)):s.memoizedState!==null?(ts(),s.child=n.child,s.flags|=128,s=null):(ts(),d=c.fallback,S=s.mode,c=Kh({mode:"visible",children:c.children},S),d=ir(d,S,l,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,qs(s,n.child,null,l),c=s.child,c.memoizedState=Vh(l),c.childLanes=Zh(n,v,l),s.memoizedState=jh,s=d);else if($i(s),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var I=v.dgst;v=I,c=Error(i(419)),c.stack="",c.digest=v,el({value:c,source:null,stack:null}),s=Wh(n,s,l)}else if(de||fl(n,s,l,!1),v=(l&n.childLanes)!==0,de||v){if(v=Zt,v!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(v.suspendedLanes|l))!==0?0:c,c!==0&&c!==w.retryLane)throw w.retryLane=c,Ji(n,c),Ye(v,n,c),Km}S.data==="$?"||Rf(),s=Wh(n,s,l)}else S.data==="$?"?(s.flags|=128,s.child=n.child,s=sx.bind(null,n),S._reactRetry=s,s=null):(n=w.treeContext,xe=kn(S.nextSibling),Ue=s,Ot=!0,Fn=null,Qn=!1,n!==null&&(pn[vn++]=mi,pn[vn++]=yi,pn[vn++]=js,mi=n.id,yi=n.overflow,js=s),s=qh(s,c.children),s.flags|=4096);return s}return d?(ts(),d=c.fallback,S=s.mode,w=n.child,I=w.sibling,c=cs(w,{mode:"hidden",children:c.children}),c.subtreeFlags=w.subtreeFlags&31457280,I!==null?d=cs(I,d):(d=ir(d,S,l,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,S=n.child.memoizedState,S===null?S=Vh(l):(w=S.cachePool,w!==null?(I=oe._currentValue,w=w.parent!==I?{parent:I,pool:I}:w):w=rm(),S={baseLanes:S.baseLanes|l,cachePool:w}),d.memoizedState=S,d.childLanes=Zh(n,v,l),s.memoizedState=jh,c):($i(s),l=n.child,n=l.sibling,l=cs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=l,s.memoizedState=null,l)}function qh(n,s){return s=Kh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Kh(n,s){return D0(n,s,0,null)}function Wh(n,s,l){return qs(s,n.child,null,l),n=qh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function r0(n,s,l){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),tf(n.return,s,l)}function Qh(n,s,l,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=d)}function a0(n,s,l){var c=s.pendingProps,d=c.revealOrder,m=c.tail;if(Se(n,s,c.children,l),c=le.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&r0(n,l,s);else if(n.tag===19)r0(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(vt(le,c),d){case"forwards":for(l=s.child,d=null;l!==null;)n=l.alternate,n!==null&&Ko(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Qh(s,!1,d,l,m);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Ko(n)===null){s.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}Qh(s,!0,l,null,m);break;case"together":Qh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ei(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),hs|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(fl(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=cs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=cs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Jh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&lu(n)))}function HE(n,s,l){switch(s.tag){case 3:Vn(s,s.stateNode.containerInfo),is(s,oe,n.memoizedState.cache),tl();break;case 27:case 5:Ve(s);break;case 4:Vn(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?($i(s),s.flags|=128,null):(l&s.child.childLanes)!==0?s0(n,s,l):($i(s),n=Ei(n,s,l),n!==null?n.sibling:null);$i(s);break;case 19:var d=(n.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(fl(n,s,l,!1),c=(l&s.childLanes)!==0),d){if(c)return a0(n,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),vt(le,le.current),c)break;return null;case 22:case 23:return s.lanes=0,$m(n,s,l);case 24:is(s,oe,n.memoizedState.cache)}return Ei(n,s,l)}function l0(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)de=!0;else{if(!Jh(n,l)&&(s.flags&128)===0)return de=!1,HE(n,s,l);de=(n.flags&131072)!==0}else de=!1,Ot&&(s.flags&1048576)!==0&&j_(s,Ho,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")df(c)?(n=$s(c,n),s.tag=1,s=n0(null,s,c,n,l)):(s.tag=0,s=Hh(null,s,c,n,l));else{if(c!=null){if(d=c.$$typeof,d===x){s.tag=11,s=Wm(null,s,c,n,l);break t}else if(d===R){s.tag=14,s=Qm(null,s,c,n,l);break t}}throw s=H(c)||c,Error(i(306,s,""))}}return s;case 0:return Hh(n,s,s.type,s.pendingProps,l);case 1:return c=s.type,d=$s(c,s.pendingProps),n0(n,s,c,d,l);case 3:t:{if(Vn(s,s.stateNode.containerInfo),n===null)throw Error(i(387));var m=s.pendingProps;d=s.memoizedState,c=d.element,sf(n,s),_l(s,m,null,l);var v=s.memoizedState;if(m=v.cache,is(s,oe,m),m!==d.cache&&ef(s,[oe],l,!0),gl(),m=v.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=i0(n,s,m,l);break t}else if(m!==c){c=yn(Error(i(424)),s),el(c),s=i0(n,s,m,l);break t}else for(xe=kn(s.stateNode.containerInfo.firstChild),Ue=s,Ot=!0,Fn=null,Qn=!0,l=tm(s,null,m,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(tl(),m===c){s=Ei(n,s,l);break t}Se(n,s,m,l)}s=s.child}return s;case 26:return hl(n,s),n===null?(l=cy(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ot||(l=s.type,n=s.pendingProps,c=Cu(en.current).createElement(l),c[De]=s,c[Ze]=n,Ce(c,l,n),fe(c),s.stateNode=c):s.memoizedState=cy(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ve(s),n===null&&Ot&&(c=s.stateNode=ly(s.type,s.pendingProps,en.current),Ue=s,Qn=!0,xe=kn(c.firstChild)),c=s.pendingProps.children,n!==null||Ot?Se(n,s,c,l):s.child=qs(s,null,c,l),hl(n,s),s.child;case 5:return n===null&&Ot&&((d=c=xe)&&(c=Ex(c,s.type,s.pendingProps,Qn),c!==null?(s.stateNode=c,Ue=s,xe=kn(c.firstChild),Qn=!1,d=!0):d=!1),d||Zs(s)),Ve(s),d=s.type,m=s.pendingProps,v=n!==null?n.memoizedProps:null,c=m.children,Pf(d,m)?c=null:v!==null&&Pf(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=wh(n,s,GE,null,null,l),Dl._currentValue=d),hl(n,s),Se(n,s,c,l),s.child;case 6:return n===null&&Ot&&((n=l=xe)&&(l=xx(l,s.pendingProps,Qn),l!==null?(s.stateNode=l,Ue=s,xe=null,n=!0):n=!1),n||Zs(s)),null;case 13:return s0(n,s,l);case 4:return Vn(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=qs(s,null,c,l):Se(n,s,c,l),s.child;case 11:return Wm(n,s,s.type,s.pendingProps,l);case 7:return Se(n,s,s.pendingProps,l),s.child;case 8:return Se(n,s,s.pendingProps.children,l),s.child;case 12:return Se(n,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,is(s,s.type,c.value),Se(n,s,c.children,l),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,er(s),d=Le(d),c=c(d),s.flags|=1,Se(n,s,c,l),s.child;case 14:return Qm(n,s,s.type,s.pendingProps,l);case 15:return Jm(n,s,s.type,s.pendingProps,l);case 19:return a0(n,s,l);case 22:return $m(n,s,l);case 24:return er(s),c=Le(oe),n===null?(d=Th(),d===null&&(d=Zt,m=Sh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),s.memoizedState={parent:c,cache:d},nf(s),is(s,oe,d)):((n.lanes&l)!==0&&(sf(n,s),_l(s,null,null,l),gl()),d=n.memoizedState,m=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),is(s,oe,c)):(c=m.cache,is(s,oe,c),c!==d.cache&&ef(s,[oe],l,!0))),Se(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var $h=yt(null),tr=null,xi=null;function is(n,s,l){vt($h,s._currentValue),s._currentValue=l}function Si(n){n._currentValue=$h.current,Ut($h)}function tf(n,s,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===l)break;n=n.return}}function ef(n,s,l,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=d;for(var w=0;w<s.length;w++)if(S.context===s[w]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),tf(m.return,l,n),c||(v=null);break t}m=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=l,m=v.alternate,m!==null&&(m.lanes|=l),tf(v,l,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function fl(n,s,l,c){n=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=d.type;rn(d.pendingProps.value,v.value)||(n!==null?n.push(S):n=[S])}}else if(d===nn.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Dl):n=[Dl])}d=d.return}n!==null&&ef(s,n,l,c),s.flags|=262144}function lu(n){for(n=n.firstContext;n!==null;){if(!rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function er(n){tr=n,xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Le(n){return o0(tr,n)}function ou(n,s){return tr===null&&er(n),o0(n,s)}function o0(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},xi===null){if(n===null)throw Error(i(308));xi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else xi=xi.next=s;return l}var ss=!1;function nf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function rs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function as(n,s,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Xo(n),B_(n,null,l),s}return Yo(n,c,s,l),Xo(n)}function dl(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,he(n,l)}}function rf(n,s){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?d=m=s:m=m.next=s}else d=m=s;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var af=!1;function gl(){if(af){var n=Hr;if(n!==null)throw n}}function _l(n,s,l,c){af=!1;var d=n.updateQueue;ss=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var w=S,I=w.next;w.next=null,v===null?m=I:v.next=I,v=w;var X=n.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=I:S.next=I,X.lastBaseUpdate=w))}if(m!==null){var K=d.baseState;v=0,X=I=w=null,S=m;do{var G=S.lane&-536870913,Y=G!==S.lane;if(Y?(Lt&G)===G:(c&G)===G){G!==0&&G===Br&&(af=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var lt=n,pt=S;G=s;var ee=l;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){K=lt.call(ee,K,G);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,G=typeof lt=="function"?lt.call(ee,K,G):lt,G==null)break t;K=q({},K,G);break t;case 2:ss=!0}}G=S.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(I=X=Y,w=K):X=X.next=Y,v|=G;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);X===null&&(w=K),d.baseState=w,d.firstBaseUpdate=I,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),hs|=v,n.lanes=v,n.memoizedState=K}}function u0(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function c0(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)u0(l[n],s)}function ml(n,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&n)===n){c=void 0;var m=l.create,v=l.inst;c=m(),v.destroy=c}l=l.next}while(l!==d)}}catch(S){jt(s,s.return,S)}}function ls(n,s,l){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&n)===n){var v=c.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=s;var w=l;try{S()}catch(I){jt(d,w,I)}}}c=c.next}while(c!==m)}}catch(I){jt(s,s.return,I)}}function h0(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{c0(s,l)}catch(c){jt(n,n.return,c)}}}function f0(n,s,l){l.props=$s(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){jt(n,s,c)}}function nr(n,s){try{var l=n.ref;if(l!==null){var c=n.stateNode;switch(n.tag){case 26:case 27:case 5:var d=c;break;default:d=c}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(m){jt(n,s,m)}}function an(n,s){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(d){jt(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){jt(n,s,d)}else l.current=null}function d0(n){var s=n.type,l=n.memoizedProps,c=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(d){jt(n,n.return,d)}}function g0(n,s,l){try{var c=n.stateNode;_x(c,n.type,l,s),c[Ze]=s}catch(d){jt(n,n.return,d)}}function _0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function lf(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||_0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function of(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Su));else if(c!==4&&c!==27&&(n=n.child,n!==null))for(of(n,s,l),n=n.sibling;n!==null;)of(n,s,l),n=n.sibling}function uu(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(c!==4&&c!==27&&(n=n.child,n!==null))for(uu(n,s,l),n=n.sibling;n!==null;)uu(n,s,l),n=n.sibling}var Ci=!1,$t=!1,uf=!1,m0=typeof WeakSet=="function"?WeakSet:Set,ge=null,y0=!1;function jE(n,s){if(n=n.containerInfo,Gf=Au,n=N_(n),ch(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var v=0,S=-1,w=-1,I=0,X=0,K=n,G=null;e:for(;;){for(var Y;K!==l||d!==0&&K.nodeType!==3||(S=v+d),K!==m||c!==0&&K.nodeType!==3||(w=v+c),K.nodeType===3&&(v+=K.nodeValue.length),(Y=K.firstChild)!==null;)G=K,K=Y;for(;;){if(K===n)break e;if(G===l&&++I===d&&(S=v),G===m&&++X===c&&(w=v),(Y=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=Y}l=S===-1||w===-1?null:{start:S,end:w}}else l=null}l=l||{start:0,end:0}}else l=null;for(kf={focusedElem:n,selectionRange:l},Au=!1,ge=s;ge!==null;)if(s=ge,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ge=n;else for(;ge!==null;){switch(s=ge,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,l=s,d=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var lt=$s(l.type,d,l.elementType===l.type);n=c.getSnapshotBeforeUpdate(lt,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(pt){jt(l,l.return,pt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Xf(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,ge=n;break}ge=s.return}return lt=y0,y0=!1,lt}function p0(n,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ri(n,l),c&4&&ml(5,l);break;case 1:if(Ri(n,l),c&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(S){jt(l,l.return,S)}else{var d=$s(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(S){jt(l,l.return,S)}}c&64&&h0(l),c&512&&nr(l,l.return);break;case 3:if(Ri(n,l),c&64&&(c=l.updateQueue,c!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{c0(c,n)}catch(S){jt(l,l.return,S)}}break;case 26:Ri(n,l),c&512&&nr(l,l.return);break;case 27:case 5:Ri(n,l),s===null&&c&4&&d0(l),c&512&&nr(l,l.return);break;case 12:Ri(n,l);break;case 13:Ri(n,l),c&4&&x0(n,l);break;case 22:if(d=l.memoizedState!==null||Ci,!d){s=s!==null&&s.memoizedState!==null||$t;var m=Ci,v=$t;Ci=d,($t=s)&&!v?os(n,l,(l.subtreeFlags&8772)!==0):Ri(n,l),Ci=m,$t=v}c&512&&(l.memoizedProps.mode==="manual"?nr(l,l.return):an(l,l.return));break;default:Ri(n,l)}}function v0(n){var s=n.alternate;s!==null&&(n.alternate=null,v0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&qc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ae=null,ln=!1;function Ti(n,s,l){for(l=l.child;l!==null;)E0(n,s,l),l=l.sibling}function E0(n,s,l){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Gs,l)}catch{}switch(l.tag){case 26:$t||an(l,s),Ti(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||an(l,s);var c=ae,d=ln;for(ae=l.stateNode,Ti(n,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);qc(l),ae=c,ln=d;break;case 5:$t||an(l,s);case 6:d=ae;var m=ln;if(ae=null,Ti(n,s,l),ae=d,ln=m,ae!==null)if(ln)try{n=ae,c=l.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)}catch(v){jt(l,s,v)}else try{ae.removeChild(l.stateNode)}catch(v){jt(l,s,v)}break;case 18:ae!==null&&(ln?(s=ae,l=l.stateNode,s.nodeType===8?Yf(s.parentNode,l):s.nodeType===1&&Yf(s,l),Nl(s)):Yf(ae,l.stateNode));break;case 4:c=ae,d=ln,ae=l.stateNode.containerInfo,ln=!0,Ti(n,s,l),ae=c,ln=d;break;case 0:case 11:case 14:case 15:$t||ls(2,l,s),$t||ls(4,l,s),Ti(n,s,l);break;case 1:$t||(an(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&f0(l,s,c)),Ti(n,s,l);break;case 21:Ti(n,s,l);break;case 22:$t||an(l,s),$t=(c=$t)||l.memoizedState!==null,Ti(n,s,l),$t=c;break;default:Ti(n,s,l)}}function x0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Nl(n)}catch(l){jt(s,s.return,l)}}function VE(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new m0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new m0),s;default:throw Error(i(435,n.tag))}}function cf(n,s){var l=VE(n);s.forEach(function(c){var d=rx.bind(null,n,c);l.has(c)||(l.add(c),c.then(d,d))})}function xn(n,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c],m=n,v=s,S=v;t:for(;S!==null;){switch(S.tag){case 27:case 5:ae=S.stateNode,ln=!1;break t;case 3:ae=S.stateNode.containerInfo,ln=!0;break t;case 4:ae=S.stateNode.containerInfo,ln=!0;break t}S=S.return}if(ae===null)throw Error(i(160));E0(m,v,d),ae=null,ln=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)S0(s,n),s=s.sibling}var Gn=null;function S0(n,s){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(s,n),Sn(n),c&4&&(ls(3,n,n.return),ml(3,n),ls(5,n,n.return));break;case 1:xn(s,n),Sn(n),c&512&&($t||l===null||an(l,l.return)),c&64&&Ci&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var d=Gn;if(xn(s,n),Sn(n),c&512&&($t||l===null||an(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){t:{c=n.type,l=n.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Xa]||m[De]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(c),d.head.insertBefore(m,d.querySelector("head > title"))),Ce(m,c,l),m[De]=n,fe(m),c=m;break t;case"link":var v=dy("link","href",d).get(c+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(l.href==null?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break e}}m=d.createElement(c),Ce(m,c,l),d.head.appendChild(m);break;case"meta":if(v=dy("meta","content",d).get(c+(l.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break e}}m=d.createElement(c),Ce(m,c,l),d.head.appendChild(m);break;default:throw Error(i(468,c))}m[De]=n,fe(m),c=m}n.stateNode=c}else gy(d,n.type,n.stateNode);else n.stateNode=fy(d,c,n.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?gy(d,n.type,n.stateNode):fy(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&g0(n,n.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&n.alternate===null){d=n.stateNode,m=n.memoizedProps;try{for(var w=d.firstChild;w;){var I=w.nextSibling,X=w.nodeName;w[Xa]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=I}for(var K=n.type,G=d.attributes;G.length;)d.removeAttributeNode(G[0]);Ce(d,K,m),d[De]=n,d[Ze]=m}catch(lt){jt(n,n.return,lt)}}case 5:if(xn(s,n),Sn(n),c&512&&($t||l===null||an(l,l.return)),n.flags&32){d=n.stateNode;try{Lr(d,"")}catch(lt){jt(n,n.return,lt)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,g0(n,d,l!==null?l.memoizedProps:d)),c&1024&&(uf=!0);break;case 6:if(xn(s,n),Sn(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(lt){jt(n,n.return,lt)}}break;case 3:if(wu=null,d=Gn,Gn=Tu(s.containerInfo),xn(s,n),Gn=d,Sn(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Nl(s.containerInfo)}catch(lt){jt(n,n.return,lt)}uf&&(uf=!1,C0(n));break;case 4:c=Gn,Gn=Tu(n.stateNode.containerInfo),xn(s,n),Sn(n),Gn=c;break;case 12:xn(s,n),Sn(n);break;case 13:xn(s,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vf=Ht()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,cf(n,c)));break;case 22:if(c&512&&($t||l===null||an(l,l.return)),w=n.memoizedState!==null,I=l!==null&&l.memoizedState!==null,X=Ci,K=$t,Ci=X||w,$t=K||I,xn(s,n),$t=K,Ci=X,Sn(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=w?s._visibility&-2:s._visibility|1,w&&(s=Ci||$t,l===null||I||s||qr(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(l=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){I=l=s;try{if(d=I.stateNode,w)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=I.stateNode,S=I.memoizedProps.style;var Y=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(lt){jt(I,I.return,lt)}}}else if(s.tag===6){if(l===null){I=s;try{I.stateNode.nodeValue=w?"":I.memoizedProps}catch(lt){jt(I,I.return,lt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,cf(n,l))));break;case 19:xn(s,n),Sn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,cf(n,c)));break;case 21:break;default:xn(s,n),Sn(n)}}function Sn(n){var s=n.flags;if(s&2){try{if(n.tag!==27){t:{for(var l=n.return;l!==null;){if(_0(l)){var c=l;break t}l=l.return}throw Error(i(160))}switch(c.tag){case 27:var d=c.stateNode,m=lf(n);uu(n,m,d);break;case 5:var v=c.stateNode;c.flags&32&&(Lr(v,""),c.flags&=-33);var S=lf(n);uu(n,S,v);break;case 3:case 4:var w=c.stateNode.containerInfo,I=lf(n);of(n,I,w);break;default:throw Error(i(161))}}}catch(X){jt(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function C0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;C0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ri(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)p0(n,s.alternate,s),s=s.sibling}function qr(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),qr(s);break;case 1:an(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&f0(s,s.return,l),qr(s);break;case 26:case 27:case 5:an(s,s.return),qr(s);break;case 22:an(s,s.return),s.memoizedState===null&&qr(s);break;default:qr(s)}n=n.sibling}}function os(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=n,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:os(d,m,l),ml(4,m);break;case 1:if(os(d,m,l),c=m,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){jt(c,c.return,I)}if(c=m,d=c.updateQueue,d!==null){var S=c.stateNode;try{var w=d.shared.hiddenCallbacks;if(w!==null)for(d.shared.hiddenCallbacks=null,d=0;d<w.length;d++)u0(w[d],S)}catch(I){jt(c,c.return,I)}}l&&v&64&&h0(m),nr(m,m.return);break;case 26:case 27:case 5:os(d,m,l),l&&c===null&&v&4&&d0(m),nr(m,m.return);break;case 12:os(d,m,l);break;case 13:os(d,m,l),l&&v&4&&x0(d,m);break;case 22:m.memoizedState===null&&os(d,m,l),nr(m,m.return);break;default:os(d,m,l)}s=s.sibling}}function hf(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&al(l))}function ff(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&al(n))}function us(n,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T0(n,s,l,c),s=s.sibling}function T0(n,s,l,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:us(n,s,l,c),d&2048&&ml(9,s);break;case 3:us(n,s,l,c),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&al(n)));break;case 12:if(d&2048){us(n,s,l,c),n=s.stateNode;try{var m=s.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(w){jt(s,s.return,w)}}else us(n,s,l,c);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?us(n,s,l,c):yl(n,s):m._visibility&4?us(n,s,l,c):(m._visibility|=4,Kr(n,s,l,c,(s.subtreeFlags&10256)!==0)),d&2048&&hf(s.alternate,s);break;case 24:us(n,s,l,c),d&2048&&ff(s.alternate,s);break;default:us(n,s,l,c)}}function Kr(n,s,l,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,v=s,S=l,w=c,I=v.flags;switch(v.tag){case 0:case 11:case 15:Kr(m,v,S,w,d),ml(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&4?Kr(m,v,S,w,d):yl(m,v):(X._visibility|=4,Kr(m,v,S,w,d)),d&&I&2048&&hf(v.alternate,v);break;case 24:Kr(m,v,S,w,d),d&&I&2048&&ff(v.alternate,v);break;default:Kr(m,v,S,w,d)}s=s.sibling}}function yl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,c=s,d=c.flags;switch(c.tag){case 22:yl(l,c),d&2048&&hf(c.alternate,c);break;case 24:yl(l,c),d&2048&&ff(c.alternate,c);break;default:yl(l,c)}s=s.sibling}}var pl=8192;function Wr(n){if(n.subtreeFlags&pl)for(n=n.child;n!==null;)R0(n),n=n.sibling}function R0(n){switch(n.tag){case 26:Wr(n),n.flags&pl&&n.memoizedState!==null&&Nx(Gn,n.memoizedState,n.memoizedProps);break;case 5:Wr(n);break;case 3:case 4:var s=Gn;Gn=Tu(n.stateNode.containerInfo),Wr(n),Gn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=pl,pl=16777216,Wr(n),pl=s):Wr(n));break;default:Wr(n)}}function w0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function vl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];ge=c,M0(c,n)}w0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)b0(n),n=n.sibling}function b0(n){switch(n.tag){case 0:case 11:case 15:vl(n),n.flags&2048&&ls(9,n,n.return);break;case 3:vl(n);break;case 12:vl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,cu(n)):vl(n);break;default:vl(n)}}function cu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];ge=c,M0(c,n)}w0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ls(8,s,s.return),cu(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,cu(s));break;default:cu(s)}n=n.sibling}}function M0(n,s){for(;ge!==null;){var l=ge;switch(l.tag){case 0:case 11:case 15:ls(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:al(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ge=c;else t:for(l=n;ge!==null;){c=ge;var d=c.sibling,m=c.return;if(v0(c),c===l){ge=null;break t}if(d!==null){d.return=m,ge=d;break t}ge=m}}}function ZE(n,s,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,s,l,c){return new ZE(n,s,l,c)}function df(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cs(n,s){var l=n.alternate;return l===null?(l=Cn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&31457280,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function A0(n,s){n.flags&=31457282;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function hu(n,s,l,c,d,m){var v=0;if(c=n,typeof n=="function")df(n)&&(v=1);else if(typeof n=="string")v=Ox(n,l,Ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case f:return ir(l.children,d,m,s);case g:v=8,d|=24;break;case _:return n=Cn(12,l,s,d|2),n.elementType=_,n.lanes=m,n;case T:return n=Cn(13,l,s,d),n.elementType=T,n.lanes=m,n;case C:return n=Cn(19,l,s,d),n.elementType=C,n.lanes=m,n;case A:return D0(l,d,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case y:case E:v=10;break t;case p:v=9;break t;case x:v=11;break t;case R:v=14;break t;case M:v=16,c=null;break t}v=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=Cn(v,l,s,d),s.elementType=n,s.type=c,s.lanes=m,s}function ir(n,s,l,c){return n=Cn(7,n,c,s),n.lanes=l,n}function D0(n,s,l,c){n=Cn(22,n,c,s),n.elementType=A,n.lanes=l;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(i(456));if((d._pendingVisibility&2)===0){var v=Ji(m,2);v!==null&&(d._pendingVisibility|=2,Ye(v,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(i(456));if((d._pendingVisibility&2)!==0){var v=Ji(m,2);v!==null&&(d._pendingVisibility&=-3,Ye(v,m,2))}}};return n.stateNode=d,n}function gf(n,s,l){return n=Cn(6,n,null,s),n.lanes=l,n}function _f(n,s,l){return s=Cn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function wi(n){n.flags|=4}function L0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_y(s)){if(s=En.current,s!==null&&((Lt&4194176)===Lt?Jn!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||s!==Jn))throw il=vh,q_;n.flags|=8192}}function fu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?sn():536870912,n.lanes|=s,Jr|=s)}function El(n,s){if(!Ot)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Wt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(s)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&31457280,c|=d.flags&31457280,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=l,s}function qE(n,s,l){var c=s.pendingProps;switch(yh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return Wt(s),null;case 3:return l=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Si(oe),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&($a(s)?wi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fn!==null&&(Cf(Fn),Fn=null))),Wt(s),null;case 26:return l=s.memoizedState,n===null?(wi(s),l!==null?(Wt(s),L0(s,l)):(Wt(s),s.flags&=-16777217)):l?l!==n.memoizedState?(wi(s),Wt(s),L0(s,l)):(Wt(s),s.flags&=-16777217):(n.memoizedProps!==c&&wi(s),Wt(s),s.flags&=-16777217),null;case 27:Ln(s),l=en.current;var d=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==c&&wi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Wt(s),null}n=Ge.current,$a(s)?V_(s):(n=ly(d,c,l),s.stateNode=n,wi(s))}return Wt(s),null;case 5:if(Ln(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&wi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Wt(s),null}if(n=Ge.current,$a(s))V_(s);else{switch(d=Cu(en.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?d.createElement(l,{is:c.is}):d.createElement(l)}}n[De]=s,n[Ze]=c;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=n;t:switch(Ce(n,l,c),l){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&wi(s)}}return Wt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&wi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=en.current,$a(s)){if(n=s.stateNode,l=s.memoizedProps,c=null,d=Ue,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[De]=s,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||ey(n.nodeValue,l)),n||Zs(s)}else n=Cu(n).createTextNode(c),n[De]=s,s.stateNode=n}return Wt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=$a(s),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[De]=s}else tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),d=!1}else Fn!==null&&(Cf(Fn),Fn=null),d=!0;if(!d)return s.flags&256?(pi(s),s):(pi(s),null)}if(pi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,n=n!==null&&n.memoizedState!==null,l){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),fu(s,s.updateQueue),Wt(s),null;case 4:return Ee(),n===null&&Nf(s.stateNode.containerInfo),Wt(s),null;case 10:return Si(s.type),Wt(s),null;case 19:if(Ut(le),d=s.memoizedState,d===null)return Wt(s),null;if(c=(s.flags&128)!==0,m=d.rendering,m===null)if(c)El(d,!1);else{if(te!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Ko(n),m!==null){for(s.flags|=128,El(d,!1),n=m.updateQueue,s.updateQueue=n,fu(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)A0(l,n),l=l.sibling;return vt(le,le.current&1|2),s.child}n=n.sibling}d.tail!==null&&Ht()>du&&(s.flags|=128,c=!0,El(d,!1),s.lanes=4194304)}else{if(!c)if(n=Ko(m),n!==null){if(s.flags|=128,c=!0,n=n.updateQueue,s.updateQueue=n,fu(s,n),El(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ot)return Wt(s),null}else 2*Ht()-d.renderingStartTime>du&&l!==536870912&&(s.flags|=128,c=!0,El(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(n=d.last,n!==null?n.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ht(),s.sibling=null,n=le.current,vt(le,c?n&1|2:n&1),s):(Wt(s),null);case 22:case 23:return pi(s),xh(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),l=s.updateQueue,l!==null&&fu(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),n!==null&&Ut(Ks),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Si(oe),Wt(s),null;case 25:return null}throw Error(i(156,s.tag))}function KE(n,s){switch(yh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Si(oe),Ee(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ln(s),null;case 13:if(pi(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));tl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ut(le),null;case 4:return Ee(),null;case 10:return Si(s.type),null;case 22:case 23:return pi(s),xh(),n!==null&&Ut(Ks),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Si(oe),null;case 25:return null;default:return null}}function O0(n,s){switch(yh(s),s.tag){case 3:Si(oe),Ee();break;case 26:case 27:case 5:Ln(s);break;case 4:Ee();break;case 13:pi(s);break;case 19:Ut(le);break;case 10:Si(s.type);break;case 22:case 23:pi(s),xh(),n!==null&&Ut(Ks);break;case 24:Si(oe)}}var WE={getCacheForType:function(n){var s=Le(oe),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},QE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Zt=null,bt=null,Lt=0,qt=0,on=null,bi=!1,Qr=!1,mf=!1,Mi=0,te=0,hs=0,sr=0,yf=0,Tn=0,Jr=0,xl=null,ti=null,pf=!1,vf=0,du=1/0,gu=null,fs=null,_u=!1,rr=null,Sl=0,Ef=0,xf=null,Cl=0,Sf=null;function un(){if((Qt&2)!==0&&Lt!==0)return Lt&-Lt;if(F.T!==null){var n=Br;return n!==0?n:Df()}return Mo()}function I0(){Tn===0&&(Tn=(Lt&536870912)===0||Ot?ke():536870912);var n=En.current;return n!==null&&(n.flags|=32),Tn}function Ye(n,s,l){(n===Zt&&qt===2||n.cancelPendingCommit!==null)&&($r(n,0),Ai(n,Lt,Tn,!1)),Pe(n,l),((Qt&2)===0||n!==Zt)&&(n===Zt&&((Qt&2)===0&&(sr|=l),te===4&&Ai(n,Lt,Tn,!1)),ei(n))}function N0(n,s,l){if((Qt&6)!==0)throw Error(i(327));var c=!l&&(s&60)===0&&(s&n.expiredLanes)===0||ce(n,s),d=c?tx(n,s):wf(n,s,!0),m=c;do{if(d===0){Qr&&!c&&Ai(n,s,0,!1);break}else if(d===6)Ai(n,s,0,!bi);else{if(l=n.current.alternate,m&&!JE(l)){d=wf(n,s,!1),m=!1;continue}if(d===2){if(m=s,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;t:{var S=n;d=xl;var w=S.current.memoizedState.isDehydrated;if(w&&($r(S,v).flags|=256),v=wf(S,v,!1),v!==2){if(mf&&!w){S.errorRecoveryDisabledLanes|=m,sr|=m,d=4;break t}m=ti,ti=d,m!==null&&Cf(m)}d=v}if(m=!1,d!==2)continue}}if(d===1){$r(n,0),Ai(n,s,0,!0);break}t:{switch(c=n,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Ai(c,s,Tn,!bi);break t}break;case 2:ti=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=l,c.finishedLanes=s,(s&62914560)===s&&(m=vf+300-Ht(),10<m)){if(Ai(c,s,Tn,!bi),Ps(c,0)!==0)break t;c.timeoutHandle=sy(z0.bind(null,c,l,ti,gu,pf,s,Tn,sr,Jr,bi,2,-0,0),m);break t}z0(c,l,ti,gu,pf,s,Tn,sr,Jr,bi,0,-0,0)}}break}while(!0);ei(n)}function Cf(n){ti===null?ti=n:ti.push.apply(ti,n)}function z0(n,s,l,c,d,m,v,S,w,I,X,K,G){var Y=s.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:Ix},R0(s),s=zx(),s!==null)){n.cancelPendingCommit=s(X0.bind(null,n,l,c,d,v,S,w,1,K,G)),Ai(n,m,v,!I);return}X0(n,l,c,d,v,S,w,X,K,G)}function JE(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var d=l[c],m=d.getSnapshot;d=d.value;try{if(!rn(m(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ai(n,s,l,c){s&=~yf,s&=~sr,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var d=s;0<d;){var m=31-Me(d),v=1<<m;c[m]=-1,d&=~v}l!==0&&Kt(n,l,s)}function mu(){return(Qt&6)===0?(Tl(0),!1):!0}function Tf(){if(bt!==null){if(qt===0)var n=bt.return;else n=bt,xi=tr=null,Ah(n),Yr=null,sl=0,n=bt;for(;n!==null;)O0(n.alternate,n),n=n.return;bt=null}}function $r(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,yx(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Tf(),Zt=n,bt=l=cs(n.current,null),Lt=s,qt=0,on=null,bi=!1,Qr=ce(n,s),mf=!1,Jr=Tn=yf=sr=hs=te=0,ti=xl=null,pf=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var d=31-Me(c),m=1<<d;s|=n[d],c&=~m}return Mi=s,Uo(),l}function F0(n,s){Tt=null,F.H=$n,s===nl?(s=Q_(),qt=3):s===q_?(s=Q_(),qt=4):qt=s===Km?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,on=s,bt===null&&(te=1,au(n,yn(s,n.current)))}function G0(){var n=F.H;return F.H=$n,n===null?$n:n}function k0(){var n=F.A;return F.A=WE,n}function Rf(){te=4,bi||(Lt&4194176)!==Lt&&En.current!==null||(Qr=!0),(hs&134217727)===0&&(sr&134217727)===0||Zt===null||Ai(Zt,Lt,Tn,!1)}function wf(n,s,l){var c=Qt;Qt|=2;var d=G0(),m=k0();(Zt!==n||Lt!==s)&&(gu=null,$r(n,s)),s=!1;var v=te;t:do try{if(qt!==0&&bt!==null){var S=bt,w=on;switch(qt){case 8:Tf(),v=6;break t;case 3:case 2:case 6:En.current===null&&(s=!0);var I=qt;if(qt=0,on=null,ta(n,S,w,I),l&&Qr){v=0;break t}break;default:I=qt,qt=0,on=null,ta(n,S,w,I)}}$E(),v=te;break}catch(X){F0(n,X)}while(!0);return s&&n.shellSuspendCounter++,xi=tr=null,Qt=c,F.H=d,F.A=m,bt===null&&(Zt=null,Lt=0,Uo()),v}function $E(){for(;bt!==null;)P0(bt)}function tx(n,s){var l=Qt;Qt|=2;var c=G0(),d=k0();Zt!==n||Lt!==s?(gu=null,du=Ht()+500,$r(n,s)):Qr=ce(n,s);t:do try{if(qt!==0&&bt!==null){s=bt;var m=on;e:switch(qt){case 1:qt=0,on=null,ta(n,s,m,1);break;case 2:if(K_(m)){qt=0,on=null,U0(s);break}s=function(){qt===2&&Zt===n&&(qt=7),ei(n)},m.then(s,s);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:K_(m)?(qt=0,on=null,U0(s)):(qt=0,on=null,ta(n,s,m,7));break;case 5:var v=null;switch(bt.tag){case 26:v=bt.memoizedState;case 5:case 27:var S=bt;if(!v||_y(v)){qt=0,on=null;var w=S.sibling;if(w!==null)bt=w;else{var I=S.return;I!==null?(bt=I,yu(I)):bt=null}break e}}qt=0,on=null,ta(n,s,m,5);break;case 6:qt=0,on=null,ta(n,s,m,6);break;case 8:Tf(),te=6;break t;default:throw Error(i(462))}}ex();break}catch(X){F0(n,X)}while(!0);return xi=tr=null,F.H=c,F.A=d,Qt=l,bt!==null?0:(Zt=null,Lt=0,Uo(),te)}function ex(){for(;bt!==null&&!In();)P0(bt)}function P0(n){var s=l0(n.alternate,n,Mi);n.memoizedProps=n.pendingProps,s===null?yu(n):bt=s}function U0(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=e0(l,s,s.pendingProps,s.type,void 0,Lt);break;case 11:s=e0(l,s,s.pendingProps,s.type.render,s.ref,Lt);break;case 5:Ah(s);default:O0(l,s),s=bt=A0(s,Mi),s=l0(l,s,Mi)}n.memoizedProps=n.pendingProps,s===null?yu(n):bt=s}function ta(n,s,l,c){xi=tr=null,Ah(s),Yr=null,sl=0;var d=s.return;try{if(BE(n,d,s,l,Lt)){te=1,au(n,yn(l,n.current)),bt=null;return}}catch(m){if(d!==null)throw bt=d,m;te=1,au(n,yn(l,n.current)),bt=null;return}s.flags&32768?(Ot||c===1?n=!0:Qr||(Lt&536870912)!==0?n=!1:(bi=n=!0,(c===2||c===3||c===6)&&(c=En.current,c!==null&&c.tag===13&&(c.flags|=16384))),Y0(s,n)):yu(s)}function yu(n){var s=n;do{if((s.flags&32768)!==0){Y0(s,bi);return}n=s.return;var l=qE(s.alternate,s,Mi);if(l!==null){bt=l;return}if(s=s.sibling,s!==null){bt=s;return}bt=s=n}while(s!==null);te===0&&(te=5)}function Y0(n,s){do{var l=KE(n.alternate,n);if(l!==null){l.flags&=32767,bt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){bt=n;return}bt=n=l}while(n!==null);te=6,bt=null}function X0(n,s,l,c,d,m,v,S,w,I){var X=F.T,K=$.p;try{$.p=2,F.T=null,nx(n,s,l,c,K,d,m,v,S,w,I)}finally{F.T=X,$.p=K}}function nx(n,s,l,c,d,m,v,S){do ea();while(rr!==null);if((Qt&6)!==0)throw Error(i(327));var w=n.finishedWork;if(c=n.finishedLanes,w===null)return null;if(n.finishedWork=null,n.finishedLanes=0,w===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var I=w.lanes|w.childLanes;if(I|=gh,Nn(n,c,I,m,v,S),n===Zt&&(bt=Zt=null,Lt=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||_u||(_u=!0,Ef=I,xf=l,ax(Rr,function(){return ea(),null})),l=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||l?(l=F.T,F.T=null,m=$.p,$.p=2,v=Qt,Qt|=4,jE(n,w),S0(w,n),wE(kf,n.containerInfo),Au=!!Gf,kf=Gf=null,n.current=w,p0(n,w.alternate,w),fi(),Qt=v,$.p=m,F.T=l):n.current=w,_u?(_u=!1,rr=n,Sl=c):B0(n,I),I=n.pendingLanes,I===0&&(fs=null),bo(w.stateNode),ei(n),s!==null)for(d=n.onRecoverableError,w=0;w<s.length;w++)I=s[w],d(I.value,{componentStack:I.stack});return(Sl&3)!==0&&ea(),I=n.pendingLanes,(c&4194218)!==0&&(I&42)!==0?n===Sf?Cl++:(Cl=0,Sf=n):Cl=0,Tl(0),null}function B0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,al(s)))}function ea(){if(rr!==null){var n=rr,s=Ef;Ef=0;var l=dn(Sl),c=F.T,d=$.p;try{if($.p=32>l?32:l,F.T=null,rr===null)var m=!1;else{l=xf,xf=null;var v=rr,S=Sl;if(rr=null,Sl=0,(Qt&6)!==0)throw Error(i(331));var w=Qt;if(Qt|=4,b0(v.current),T0(v,v.current,S,l),Qt=w,Tl(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Gs,v)}catch{}m=!0}return m}finally{$.p=d,F.T=c,B0(n,s)}}return!1}function H0(n,s,l){s=yn(l,s),s=Bh(n.stateNode,s,2),n=as(n,s,2),n!==null&&(Pe(n,2),ei(n))}function jt(n,s,l){if(n.tag===3)H0(n,n,l);else for(;s!==null;){if(s.tag===3){H0(s,n,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fs===null||!fs.has(c))){n=yn(l,n),l=Zm(2),c=as(s,l,2),c!==null&&(qm(l,c,s,n),Pe(c,2),ei(c));break}}s=s.return}}function bf(n,s,l){var c=n.pingCache;if(c===null){c=n.pingCache=new QE;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(l)||(mf=!0,d.add(l),n=ix.bind(null,n,s,l),s.then(n,n))}function ix(n,s,l){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Zt===n&&(Lt&l)===l&&(te===4||te===3&&(Lt&62914560)===Lt&&300>Ht()-vf?(Qt&2)===0&&$r(n,0):yf|=l,Jr===Lt&&(Jr=0)),ei(n)}function j0(n,s){s===0&&(s=sn()),n=Ji(n,s),n!==null&&(Pe(n,s),ei(n))}function sx(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),j0(n,l)}function rx(n,s){var l=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),j0(n,l)}function ax(n,s){return Zn(n,s)}var pu=null,na=null,Mf=!1,vu=!1,Af=!1,ar=0;function ei(n){n!==na&&n.next===null&&(na===null?pu=na=n:na=na.next=n),vu=!0,Mf||(Mf=!0,ox(lx))}function Tl(n,s){if(!Af&&vu){Af=!0;do for(var l=!1,c=pu;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var m=0;else{var v=c.suspendedLanes,S=c.pingedLanes;m=(1<<31-Me(42|n)+1)-1,m&=d&~(v&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(l=!0,q0(c,m))}else m=Lt,m=Ps(c,c===Zt?m:0),(m&3)===0||ce(c,m)||(l=!0,q0(c,m));c=c.next}while(l);Af=!1}}function lx(){vu=Mf=!1;var n=0;ar!==0&&(mx()&&(n=ar),ar=0);for(var s=Ht(),l=null,c=pu;c!==null;){var d=c.next,m=V0(c,s);m===0?(c.next=null,l===null?pu=d:l.next=d,d===null&&(na=l)):(l=c,(n!==0||(m&3)!==0)&&(vu=!0)),c=d}Tl(n)}function V0(n,s){for(var l=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-Me(m),S=1<<v,w=d[v];w===-1?((S&l)===0||(S&c)!==0)&&(d[v]=di(S,s)):w<=s&&(n.expiredLanes|=S),m&=~S}if(s=Zt,l=Lt,l=Ps(n,n===s?l:0),c=n.callbackNode,l===0||n===s&&qt===2||n.cancelPendingCommit!==null)return c!==null&&c!==null&&hi(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||ce(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(c!==null&&hi(c),dn(l)){case 2:case 8:l=Fs;break;case 32:l=Rr;break;case 268435456:l=Pa;break;default:l=Rr}return c=Z0.bind(null,n),l=Zn(l,c),n.callbackPriority=s,n.callbackNode=l,s}return c!==null&&c!==null&&hi(c),n.callbackPriority=2,n.callbackNode=null,2}function Z0(n,s){var l=n.callbackNode;if(ea()&&n.callbackNode!==l)return null;var c=Lt;return c=Ps(n,n===Zt?c:0),c===0?null:(N0(n,c,s),V0(n,Ht()),n.callbackNode!=null&&n.callbackNode===l?Z0.bind(null,n):null)}function q0(n,s){if(ea())return null;N0(n,s,!0)}function ox(n){px(function(){(Qt&6)!==0?Zn(zs,n):n()})}function Df(){return ar===0&&(ar=ke()),ar}function K0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Io(""+n)}function W0(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function ux(n,s,l,c,d){if(s==="submit"&&l&&l.stateNode===d){var m=K0((d[Ze]||null).action),v=c.submitter;v&&(s=(s=v[Ze]||null)?K0(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var S=new Go("action","action",null,c,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ar!==0){var w=v?W0(d,v):new FormData(d);kh(l,{pending:!0,data:w,method:d.method,action:m},null,w)}}else typeof m=="function"&&(S.preventDefault(),w=v?W0(d,v):new FormData(d),kh(l,{pending:!0,data:w,method:d.method,action:m},m,w))},currentTarget:d}]})}}for(var Lf=0;Lf<X_.length;Lf++){var Of=X_[Lf],cx=Of.toLowerCase(),hx=Of[0].toUpperCase()+Of.slice(1);zn(cx,"on"+hx)}zn(G_,"onAnimationEnd"),zn(k_,"onAnimationIteration"),zn(P_,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(ME,"onTransitionRun"),zn(AE,"onTransitionStart"),zn(DE,"onTransitionCancel"),zn(U_,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Q0(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],d=c.event;c=c.listeners;t:{var m=void 0;if(s)for(var v=c.length-1;0<=v;v--){var S=c[v],w=S.instance,I=S.currentTarget;if(S=S.listener,w!==m&&d.isPropagationStopped())break t;m=S,d.currentTarget=I;try{m(d)}catch(X){ru(X)}d.currentTarget=null,m=w}else for(v=0;v<c.length;v++){if(S=c[v],w=S.instance,I=S.currentTarget,S=S.listener,w!==m&&d.isPropagationStopped())break t;m=S,d.currentTarget=I;try{m(d)}catch(X){ru(X)}d.currentTarget=null,m=w}}}}function Mt(n,s){var l=s[Zc];l===void 0&&(l=s[Zc]=new Set);var c=n+"__bubble";l.has(c)||(J0(s,n,2,!1),l.add(c))}function If(n,s,l){var c=0;s&&(c|=4),J0(l,n,c,s)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Nf(n){if(!n[Eu]){n[Eu]=!0,e_.forEach(function(l){l!=="selectionchange"&&(fx.has(l)||If(l,!1,n),If(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Eu]||(s[Eu]=!0,If("selectionchange",!1,s))}}function J0(n,s,l,c){switch(xy(s)){case 2:var d=kx;break;case 8:d=Px;break;default:d=Zf}l=d.bind(null,s,l,n),d=void 0,!eh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,l,{capture:!0,passive:d}):n.addEventListener(s,l,!0):d!==void 0?n.addEventListener(s,l,{passive:d}):n.addEventListener(s,l,!1)}function zf(n,s,l,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===d||w.nodeType===8&&w.parentNode===d))return;v=v.return}for(;S!==null;){if(v=Us(S),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){c=m=v;continue t}S=S.parentNode}}c=c.return}d_(function(){var I=m,X=$c(l),K=[];t:{var G=Y_.get(n);if(G!==void 0){var Y=Go,lt=n;switch(n){case"keypress":if(zo(l)===0)break t;case"keydown":case"keyup":Y=rE;break;case"focusin":lt="focus",Y=rh;break;case"focusout":lt="blur",Y=rh;break;case"beforeblur":case"afterblur":Y=rh;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=m_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=oE;break;case G_:case k_:case P_:Y=Wv;break;case U_:Y=cE;break;case"scroll":case"scrollend":Y=jv;break;case"wheel":Y=fE;break;case"copy":case"cut":case"paste":Y=Jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=p_;break;case"toggle":case"beforetoggle":Y=gE}var pt=(s&4)!==0,ee=!pt&&(n==="scroll"||n==="scrollend"),N=pt?G!==null?G+"Capture":null:G;pt=[];for(var O=I,z;O!==null;){var Z=O;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||N===null||(Z=Ha(O,N),Z!=null&&pt.push(wl(O,Z,z))),ee)break;O=O.return}0<pt.length&&(G=new Y(G,lt,null,l,X),K.push({event:G,listeners:pt}))}}if((s&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&l!==Jc&&(lt=l.relatedTarget||l.fromElement)&&(Us(lt)||lt[wr]))break t;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(lt=l.relatedTarget||l.toElement,Y=I,lt=lt?Us(lt):null,lt!==null&&(ee=Q(lt),pt=lt.tag,lt!==ee||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(Y=null,lt=I),Y!==lt)){if(pt=m_,Z="onMouseLeave",N="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(pt=p_,Z="onPointerLeave",N="onPointerEnter",O="pointer"),ee=Y==null?G:Ba(Y),z=lt==null?G:Ba(lt),G=new pt(Z,O+"leave",Y,l,X),G.target=ee,G.relatedTarget=z,Z=null,Us(X)===I&&(pt=new pt(N,O+"enter",lt,l,X),pt.target=z,pt.relatedTarget=ee,Z=pt),ee=Z,Y&&lt)e:{for(pt=Y,N=lt,O=0,z=pt;z;z=ia(z))O++;for(z=0,Z=N;Z;Z=ia(Z))z++;for(;0<O-z;)pt=ia(pt),O--;for(;0<z-O;)N=ia(N),z--;for(;O--;){if(pt===N||N!==null&&pt===N.alternate)break e;pt=ia(pt),N=ia(N)}pt=null}else pt=null;Y!==null&&$0(K,G,Y,pt,!1),lt!==null&&ee!==null&&$0(K,ee,lt,pt,!0)}}t:{if(G=I?Ba(I):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var st=w_;else if(T_(G))if(b_)st=TE;else{st=SE;var Rt=xE}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?I&&Qc(I.elementType)&&(st=w_):st=CE;if(st&&(st=st(n,I))){R_(K,st,l,X);break t}Rt&&Rt(n,G,I),n==="focusout"&&I&&G.type==="number"&&I.memoizedProps.value!=null&&Wc(G,"number",G.value)}switch(Rt=I?Ba(I):window,n){case"focusin":(T_(Rt)||Rt.contentEditable==="true")&&(zr=Rt,hh=I,Ja=null);break;case"focusout":Ja=hh=zr=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,z_(K,l,X);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":z_(K,l,X)}var ut;if(lh)t:{switch(n){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Nr?S_(n,l)&&(dt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(dt="onCompositionStart");dt&&(v_&&l.locale!=="ko"&&(Nr||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Nr&&(ut=g_()):(Qi=X,nh="value"in Qi?Qi.value:Qi.textContent,Nr=!0)),Rt=xu(I,dt),0<Rt.length&&(dt=new y_(dt,n,null,l,X),K.push({event:dt,listeners:Rt}),ut?dt.data=ut:(ut=C_(l),ut!==null&&(dt.data=ut)))),(ut=mE?yE(n,l):pE(n,l))&&(dt=xu(I,"onBeforeInput"),0<dt.length&&(Rt=new y_("onBeforeInput","beforeinput",null,l,X),K.push({event:Rt,listeners:dt}),Rt.data=ut)),ux(K,n,I,l,X)}Q0(K,s)})}function wl(n,s,l){return{instance:n,listener:s,currentTarget:l}}function xu(n,s){for(var l=s+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ha(n,l),d!=null&&c.unshift(wl(n,d,m)),d=Ha(n,s),d!=null&&c.push(wl(n,d,m))),n=n.return}return c}function ia(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $0(n,s,l,c,d){for(var m=s._reactName,v=[];l!==null&&l!==c;){var S=l,w=S.alternate,I=S.stateNode;if(S=S.tag,w!==null&&w===c)break;S!==5&&S!==26&&S!==27||I===null||(w=I,d?(I=Ha(l,m),I!=null&&v.unshift(wl(l,I,w))):d||(I=Ha(l,m),I!=null&&v.push(wl(l,I,w)))),l=l.return}v.length!==0&&n.push({event:s,listeners:v})}var dx=/\r\n?/g,gx=/\u0000|\uFFFD/g;function ty(n){return(typeof n=="string"?n:""+n).replace(dx,`
`).replace(gx,"")}function ey(n,s){return s=ty(s),ty(n)===s}function Su(){}function Xt(n,s,l,c,d,m){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Lr(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Lr(n,""+c);break;case"className":Do(n,"class",c);break;case"tabIndex":Do(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Do(n,l,c);break;case"style":h_(n,c,m);break;case"data":if(s!=="object"){Do(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Io(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&Xt(n,s,"name",d.name,d,null),Xt(n,s,"formEncType",d.formEncType,d,null),Xt(n,s,"formMethod",d.formMethod,d,null),Xt(n,s,"formTarget",d.formTarget,d,null)):(Xt(n,s,"encType",d.encType,d,null),Xt(n,s,"method",d.method,d,null),Xt(n,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Io(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=Su);break;case"onScroll":c!=null&&Mt("scroll",n);break;case"onScrollEnd":c!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=Io(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),Ao(n,"popover",c);break;case"xlinkActuate":_i(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_i(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_i(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_i(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_i(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_i(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_i(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_i(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_i(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ao(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Bv.get(l)||l,Ao(n,l,c))}}function Ff(n,s,l,c,d,m){switch(l){case"style":h_(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?Lr(n,c):(typeof c=="number"||typeof c=="bigint")&&Lr(n,""+c);break;case"onScroll":c!=null&&Mt("scroll",n);break;case"onScrollEnd":c!=null&&Mt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!n_.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),m=n[Ze]||null,m=m!=null?m[l]:null,typeof m=="function"&&n.removeEventListener(s,m,d),typeof c=="function")){typeof m!="function"&&m!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,c,d);break t}l in n?n[l]=c:c===!0?n.setAttribute(l,""):Ao(n,l,c)}}}function Ce(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var c=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var v=l[m];if(v!=null)switch(m){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xt(n,s,m,v,l,null)}}d&&Xt(n,s,"srcSet",l.srcSet,l,null),c&&Xt(n,s,"src",l.src,l,null);return;case"input":Mt("invalid",n);var S=m=v=d=null,w=null,I=null;for(c in l)if(l.hasOwnProperty(c)){var X=l[c];if(X!=null)switch(c){case"name":d=X;break;case"type":v=X;break;case"checked":w=X;break;case"defaultChecked":I=X;break;case"value":m=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Xt(n,s,c,X,l,null)}}l_(n,m,S,w,I,v,d,!1),Lo(n);return;case"select":Mt("invalid",n),c=v=m=null;for(d in l)if(l.hasOwnProperty(d)&&(S=l[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":c=S;default:Xt(n,s,d,S,l,null)}s=m,l=v,n.multiple=!!c,s!=null?Dr(n,!!c,s,!1):l!=null&&Dr(n,!!c,l,!0);return;case"textarea":Mt("invalid",n),m=d=c=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":c=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Xt(n,s,v,S,l,null)}u_(n,c,d,m),Lo(n);return;case"option":for(w in l)if(l.hasOwnProperty(w)&&(c=l[w],c!=null))switch(w){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Xt(n,s,w,c,l,null)}return;case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(c=0;c<Rl.length;c++)Mt(Rl[c],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in l)if(l.hasOwnProperty(I)&&(c=l[I],c!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xt(n,s,I,c,l,null)}return;default:if(Qc(s)){for(X in l)l.hasOwnProperty(X)&&(c=l[X],c!==void 0&&Ff(n,s,X,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Xt(n,s,S,c,l,null))}function _x(n,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,S=null,w=null,I=null,X=null;for(Y in l){var K=l[Y];if(l.hasOwnProperty(Y)&&K!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":w=K;default:c.hasOwnProperty(Y)||Xt(n,s,Y,null,c,K)}}for(var G in c){var Y=c[G];if(K=l[G],c.hasOwnProperty(G)&&(Y!=null||K!=null))switch(G){case"type":m=Y;break;case"name":d=Y;break;case"checked":I=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==K&&Xt(n,s,G,Y,c,K)}}Kc(n,v,S,w,I,X,m,d);return;case"select":Y=v=S=G=null;for(m in l)if(w=l[m],l.hasOwnProperty(m)&&w!=null)switch(m){case"value":break;case"multiple":Y=w;default:c.hasOwnProperty(m)||Xt(n,s,m,null,c,w)}for(d in c)if(m=c[d],w=l[d],c.hasOwnProperty(d)&&(m!=null||w!=null))switch(d){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==w&&Xt(n,s,d,m,c,w)}s=S,l=v,c=Y,G!=null?Dr(n,!!l,G,!1):!!c!=!!l&&(s!=null?Dr(n,!!l,s,!0):Dr(n,!!l,l?[]:"",!1));return;case"textarea":Y=G=null;for(S in l)if(d=l[S],l.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xt(n,s,S,null,c,d)}for(v in c)if(d=c[v],m=l[v],c.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":G=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&Xt(n,s,v,d,c,m)}o_(n,G,Y);return;case"option":for(var lt in l)if(G=l[lt],l.hasOwnProperty(lt)&&G!=null&&!c.hasOwnProperty(lt))switch(lt){case"selected":n.selected=!1;break;default:Xt(n,s,lt,null,c,G)}for(w in c)if(G=c[w],Y=l[w],c.hasOwnProperty(w)&&G!==Y&&(G!=null||Y!=null))switch(w){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xt(n,s,w,G,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in l)G=l[pt],l.hasOwnProperty(pt)&&G!=null&&!c.hasOwnProperty(pt)&&Xt(n,s,pt,null,c,G);for(I in c)if(G=c[I],Y=l[I],c.hasOwnProperty(I)&&G!==Y&&(G!=null||Y!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:Xt(n,s,I,G,c,Y)}return;default:if(Qc(s)){for(var ee in l)G=l[ee],l.hasOwnProperty(ee)&&G!==void 0&&!c.hasOwnProperty(ee)&&Ff(n,s,ee,void 0,c,G);for(X in c)G=c[X],Y=l[X],!c.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||Ff(n,s,X,G,c,Y);return}}for(var N in l)G=l[N],l.hasOwnProperty(N)&&G!=null&&!c.hasOwnProperty(N)&&Xt(n,s,N,null,c,G);for(K in c)G=c[K],Y=l[K],!c.hasOwnProperty(K)||G===Y||G==null&&Y==null||Xt(n,s,K,G,c,Y)}var Gf=null,kf=null;function Cu(n){return n.nodeType===9?n:n.ownerDocument}function ny(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Pf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Uf=null;function mx(){var n=window.event;return n&&n.type==="popstate"?n===Uf?!1:(Uf=n,!0):(Uf=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(n){return ry.resolve(null).then(n).catch(vx)}:sy;function vx(n){setTimeout(function(){throw n})}function Yf(n,s){var l=s,c=0;do{var d=l.nextSibling;if(n.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(c===0){n.removeChild(d),Nl(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=d}while(l);Nl(s)}function Xf(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xf(l),qc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Ex(n,s,l,c){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Xa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=kn(n.nextSibling),n===null)break}return null}function xx(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=kn(n.nextSibling),n===null))return null;return n}function kn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function ay(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function ly(n,s,l){switch(s=Cu(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var Rn=new Map,oy=new Set;function Tu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Di=$.d;$.d={f:Sx,r:Cx,D:Tx,C:Rx,L:wx,m:bx,X:Ax,S:Mx,M:Dx};function Sx(){var n=Di.f(),s=mu();return n||s}function Cx(n){var s=br(n);s!==null&&s.tag===5&&s.type==="form"?zm(s):Di.r(n)}var sa=typeof document>"u"?null:document;function uy(n,s,l){var c=sa;if(c&&typeof s=="string"&&s){var d=_n(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),oy.has(d)||(oy.add(d),n={rel:n,crossOrigin:l,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),Ce(s,"link",n),fe(s),c.head.appendChild(s)))}}function Tx(n){Di.D(n),uy("dns-prefetch",n,null)}function Rx(n,s){Di.C(n,s),uy("preconnect",n,s)}function wx(n,s,l){Di.L(n,s,l);var c=sa;if(c&&n&&s){var d='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+_n(l.imageSizes)+'"]')):d+='[href="'+_n(n)+'"]';var m=d;switch(s){case"style":m=ra(n);break;case"script":m=aa(n)}Rn.has(m)||(n=q({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Rn.set(m,n),c.querySelector(d)!==null||s==="style"&&c.querySelector(bl(m))||s==="script"&&c.querySelector(Ml(m))||(s=c.createElement("link"),Ce(s,"link",n),fe(s),c.head.appendChild(s)))}}function bx(n,s){Di.m(n,s);var l=sa;if(l&&n){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(n)+'"]',m=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=aa(n)}if(!Rn.has(m)&&(n=q({rel:"modulepreload",href:n},s),Rn.set(m,n),l.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ml(m)))return}c=l.createElement("link"),Ce(c,"link",n),fe(c),l.head.appendChild(c)}}}function Mx(n,s,l){Di.S(n,s,l);var c=sa;if(c&&n){var d=Mr(c).hoistableStyles,m=ra(n);s=s||"default";var v=d.get(m);if(!v){var S={loading:0,preload:null};if(v=c.querySelector(bl(m)))S.loading=5;else{n=q({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Rn.get(m))&&Bf(n,l);var w=v=c.createElement("link");fe(w),Ce(w,"link",n),w._p=new Promise(function(I,X){w.onload=I,w.onerror=X}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ru(v,s,c)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(m,v)}}}function Ax(n,s){Di.X(n,s);var l=sa;if(l&&n){var c=Mr(l).hoistableScripts,d=aa(n),m=c.get(d);m||(m=l.querySelector(Ml(d)),m||(n=q({src:n,async:!0},s),(s=Rn.get(d))&&Hf(n,s),m=l.createElement("script"),fe(m),Ce(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function Dx(n,s){Di.M(n,s);var l=sa;if(l&&n){var c=Mr(l).hoistableScripts,d=aa(n),m=c.get(d);m||(m=l.querySelector(Ml(d)),m||(n=q({src:n,async:!0,type:"module"},s),(s=Rn.get(d))&&Hf(n,s),m=l.createElement("script"),fe(m),Ce(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function cy(n,s,l,c){var d=(d=en.current)?Tu(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ra(l.href),l=Mr(d).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=ra(l.href);var m=Mr(d).hoistableStyles,v=m.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=d.querySelector(bl(n)))&&!m._p&&(v.instance=m,v.state.loading=5),Rn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rn.set(n,l),m||Lx(d,n,l,v.state))),s&&c===null)throw Error(i(528,""));return v}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=aa(l),l=Mr(d).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ra(n){return'href="'+_n(n)+'"'}function bl(n){return'link[rel="stylesheet"]['+n+"]"}function hy(n){return q({},n,{"data-precedence":n.precedence,precedence:null})}function Lx(n,s,l,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Ce(s,"link",l),fe(s),n.head.appendChild(s))}function aa(n){return'[src="'+_n(n)+'"]'}function Ml(n){return"script[async]"+n}function fy(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+_n(l.href)+'"]');if(c)return s.instance=c,fe(c),c;var d=q({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),fe(c),Ce(c,"style",d),Ru(c,l.precedence,n),s.instance=c;case"stylesheet":d=ra(l.href);var m=n.querySelector(bl(d));if(m)return s.state.loading|=4,s.instance=m,fe(m),m;c=hy(l),(d=Rn.get(d))&&Bf(c,d),m=(n.ownerDocument||n).createElement("link"),fe(m);var v=m;return v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),Ce(m,"link",c),s.state.loading|=4,Ru(m,l.precedence,n),s.instance=m;case"script":return m=aa(l.src),(d=n.querySelector(Ml(m)))?(s.instance=d,fe(d),d):(c=l,(d=Rn.get(m))&&(c=q({},l),Hf(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),fe(d),Ce(d,"link",c),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Ru(c,l.precedence,n));return s.instance}function Ru(n,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,m=d,v=0;v<c.length;v++){var S=c[v];if(S.dataset.precedence===s)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Bf(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Hf(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var wu=null;function dy(n,s,l){if(wu===null){var c=new Map,d=wu=new Map;d.set(l,c)}else d=wu,c=d.get(l),c||(c=new Map,d.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var m=l[d];if(!(m[Xa]||m[De]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=n+v;var S=c.get(v);S?S.push(m):c.set(v,[m])}}return c}function gy(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function Ox(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _y(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Al=null;function Ix(){}function Nx(n,s,l){if(Al===null)throw Error(i(475));var c=Al;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ra(l.href),m=n.querySelector(bl(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=bu.bind(c),n.then(c,c)),s.state.loading|=4,s.instance=m,fe(m);return}m=n.ownerDocument||n,l=hy(l),(d=Rn.get(d))&&Bf(l,d),m=m.createElement("link"),fe(m);var v=m;v._p=new Promise(function(S,w){v.onload=S,v.onerror=w}),Ce(m,"link",l),s.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=bu.bind(c),n.addEventListener("load",s),n.addEventListener("error",s))}}function zx(){if(Al===null)throw Error(i(475));var n=Al;return n.stylesheets&&n.count===0&&jf(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&jf(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Mu=null;function jf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Mu=new Map,s.forEach(Fx,n),Mu=null,bu.call(n))}function Fx(n,s){if(!(s.state.loading&4)){var l=Mu.get(n);if(l)var c=l.get(null);else{l=new Map,Mu.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),c=v)}c&&l.set(null,c)}d=s.instance,v=d.getAttribute("data-precedence"),m=l.get(v)||c,m===c&&l.set(null,d),l.set(v,d),this.count++,c=bu.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Dl={$$typeof:E,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function Gx(n,s,l,c,d,m,v,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function my(n,s,l,c,d,m,v,S,w,I,X,K){return n=new Gx(n,s,l,v,S,w,I,K),s=1,m===!0&&(s|=24),m=Cn(3,null,null,s),n.current=m,m.stateNode=n,s=Sh(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:s},nf(m),n}function yy(n){return n?(n=kr,n):kr}function py(n,s,l,c,d,m){d=yy(d),c.context===null?c.context=d:c.pendingContext=d,c=rs(s),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=as(n,c,s),l!==null&&(Ye(l,n,s),dl(l,n,s))}function vy(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Vf(n,s){vy(n,s),(n=n.alternate)&&vy(n,s)}function Ey(n){if(n.tag===13){var s=Ji(n,67108864);s!==null&&Ye(s,n,67108864),Vf(n,67108864)}}var Au=!0;function kx(n,s,l,c){var d=F.T;F.T=null;var m=$.p;try{$.p=2,Zf(n,s,l,c)}finally{$.p=m,F.T=d}}function Px(n,s,l,c){var d=F.T;F.T=null;var m=$.p;try{$.p=8,Zf(n,s,l,c)}finally{$.p=m,F.T=d}}function Zf(n,s,l,c){if(Au){var d=qf(c);if(d===null)zf(n,s,c,Du,l),Sy(n,c);else if(Yx(d,n,s,l,c))c.stopPropagation();else if(Sy(n,c),s&4&&-1<Ux.indexOf(n)){for(;d!==null;){var m=br(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Wn(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var w=1<<31-Me(v);S.entanglements[1]|=w,v&=~w}ei(m),(Qt&6)===0&&(du=Ht()+500,Tl(0))}}break;case 13:S=Ji(m,2),S!==null&&Ye(S,m,2),mu(),Vf(m,2)}if(m=qf(c),m===null&&zf(n,s,c,Du,l),m===d)break;d=m}d!==null&&c.stopPropagation()}else zf(n,s,c,null,l)}}function qf(n){return n=$c(n),Kf(n)}var Du=null;function Kf(n){if(Du=null,n=Us(n),n!==null){var s=Q(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=nt(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Du=n,null}function xy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case zs:return 2;case Fs:return 8;case Rr:case wo:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var Wf=!1,ds=null,gs=null,_s=null,Ll=new Map,Ol=new Map,ms=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(n,s){switch(n){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Ll.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(s.pointerId)}}function Il(n,s,l,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=br(s),s!==null&&Ey(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Yx(n,s,l,c,d){switch(s){case"focusin":return ds=Il(ds,n,s,l,c,d),!0;case"dragenter":return gs=Il(gs,n,s,l,c,d),!0;case"mouseover":return _s=Il(_s,n,s,l,c,d),!0;case"pointerover":var m=d.pointerId;return Ll.set(m,Il(Ll.get(m)||null,n,s,l,c,d)),!0;case"gotpointercapture":return m=d.pointerId,Ol.set(m,Il(Ol.get(m)||null,n,s,l,c,d)),!0}return!1}function Cy(n){var s=Us(n.target);if(s!==null){var l=Q(s);if(l!==null){if(s=l.tag,s===13){if(s=nt(l),s!==null){n.blockedOn=s,zv(n.priority,function(){if(l.tag===13){var c=un(),d=Ji(l,c);d!==null&&Ye(d,l,c),Vf(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=qf(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Jc=c,l.target.dispatchEvent(c),Jc=null}else return s=br(l),s!==null&&Ey(s),n.blockedOn=l,!1;s.shift()}return!0}function Ty(n,s,l){Lu(n)&&l.delete(s)}function Xx(){Wf=!1,ds!==null&&Lu(ds)&&(ds=null),gs!==null&&Lu(gs)&&(gs=null),_s!==null&&Lu(_s)&&(_s=null),Ll.forEach(Ty),Ol.forEach(Ty)}function Ou(n,s){n.blockedOn===s&&(n.blockedOn=null,Wf||(Wf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Xx)))}var Iu=null;function Ry(n){Iu!==n&&(Iu=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Iu===n&&(Iu=null);for(var s=0;s<n.length;s+=3){var l=n[s],c=n[s+1],d=n[s+2];if(typeof c!="function"){if(Kf(c||l)===null)continue;break}var m=br(l);m!==null&&(n.splice(s,3),s-=3,kh(m,{pending:!0,data:d,method:l.method,action:c},c,d))}}))}function Nl(n){function s(w){return Ou(w,n)}ds!==null&&Ou(ds,n),gs!==null&&Ou(gs,n),_s!==null&&Ou(_s,n),Ll.forEach(s),Ol.forEach(s);for(var l=0;l<ms.length;l++){var c=ms[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ms.length&&(l=ms[0],l.blockedOn===null);)Cy(l),l.blockedOn===null&&ms.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var d=l[c],m=l[c+1],v=d[Ze]||null;if(typeof m=="function")v||Ry(l);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[Ze]||null)S=v.formAction;else if(Kf(d)!==null)continue}else S=v.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),Ry(l)}}}function Qf(n){this._internalRoot=n}Nu.prototype.render=Qf.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=un();py(l,c,n,s,null,null)},Nu.prototype.unmount=Qf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&ea(),py(n.current,2,null,n,null,null),mu(),s[wr]=null}};function Nu(n){this._internalRoot=n}Nu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Mo();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ms.length&&s!==0&&s<ms[l].priority;l++);ms.splice(l,0,n),l===0&&Cy(n)}};var wy=t.version;if(wy!=="19.0.0")throw Error(i(527,wy,"19.0.0"));$.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=U(s),n=n!==null?k(n):null,n=n===null?null:n.stateNode,n};var Bx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:Us,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Gs=zu.inject(Bx),be=zu}catch{}}return Fl.createRoot=function(n,s){if(!r(n))throw Error(i(299));var l=!1,c="",d=Bm,m=Hm,v=jm,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=my(n,1,!1,null,null,l,c,d,m,v,S,null),n[wr]=s.current,Nf(n.nodeType===8?n.parentNode:n),new Qf(s)},Fl.hydrateRoot=function(n,s,l){if(!r(n))throw Error(i(299));var c=!1,d="",m=Bm,v=Hm,S=jm,w=null,I=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(w=l.unstable_transitionCallbacks),l.formState!==void 0&&(I=l.formState)),s=my(n,1,!0,s,l??null,c,d,m,v,S,w,I),s.context=yy(null),l=s.current,c=un(),d=rs(c),d.callback=null,as(l,d,c),s.current.lanes=c,Pe(s,c),ei(s),n[wr]=s.current,Nf(n),new Nu(s)},Fl.version="19.0.0",Fl}var Gy;function eS(){if(Gy)return td.exports;Gy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),td.exports=tS(),td.exports}var nS=eS(),Gl={},ky;function iS(){if(ky)return Gl;ky=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.parse=u,Gl.serialize=g;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function u(p,E){const x=new o,T=p.length;if(T<2)return x;const C=(E==null?void 0:E.decode)||_;let R=0;do{const M=p.indexOf("=",R);if(M===-1)break;const A=p.indexOf(";",R),L=A===-1?T:A;if(M>L){R=p.lastIndexOf(";",M-1)+1;continue}const D=h(p,R,M),V=f(p,M,D),W=p.slice(D,V);if(x[W]===void 0){let H=h(p,M+1,L),F=f(p,L,H);const q=C(p.slice(H,F));x[W]=q}R=L+1}while(R<T);return x}function h(p,E,x){do{const T=p.charCodeAt(E);if(T!==32&&T!==9)return E}while(++E<x);return x}function f(p,E,x){for(;E>x;){const T=p.charCodeAt(--E);if(T!==32&&T!==9)return E+1}return x}function g(p,E,x){const T=(x==null?void 0:x.encode)||encodeURIComponent;if(!a.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=T(E);if(!t.test(C))throw new TypeError(`argument val is invalid: ${E}`);let R=p+"="+C;if(!x)return R;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);R+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);R+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);R+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);R+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(R+="; HttpOnly"),x.secure&&(R+="; Secure"),x.partitioned&&(R+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return R}function _(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function y(p){return r.call(p)==="[object Date]"}return Gl}iS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Py="popstate";function sS(a={}){function t(i,r){let{pathname:o,search:u,hash:h}=i.location;return Nd("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:$l(r)}return aS(t,e,null,a)}function Jt(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function li(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rS(){return Math.random().toString(36).substring(2,10)}function Uy(a,t){return{usr:a.state,key:a.key,idx:t}}function Nd(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Na(t):t,state:e,key:t&&t.key||i||rS()}}function $l({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function Na(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function aS(a,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function y(){h="POP";let C=_(),R=C==null?null:C-g;g=C,f&&f({action:h,location:T.location,delta:R})}function p(C,R){h="PUSH";let M=Nd(T.location,C,R);g=_()+1;let A=Uy(M,g),L=T.createHref(M);try{u.pushState(A,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(L)}o&&f&&f({action:h,location:T.location,delta:1})}function E(C,R){h="REPLACE";let M=Nd(T.location,C,R);g=_();let A=Uy(M,g),L=T.createHref(M);u.replaceState(A,"",L),o&&f&&f({action:h,location:T.location,delta:0})}function x(C){let R=r.location.origin!=="null"?r.location.origin:r.location.href,M=typeof C=="string"?C:$l(C);return M=M.replace(/ $/,"%20"),Jt(R,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,R)}let T={get action(){return h},get location(){return a(r,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Py,y),f=C,()=>{r.removeEventListener(Py,y),f=null}},createHref(C){return t(r,C)},createURL:x,encodeLocation(C){let R=x(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:p,replace:E,go(C){return u.go(C)}};return T}function Wp(a,t,e="/"){return lS(a,t,e,!1)}function lS(a,t,e,i){let r=typeof t=="string"?Na(t):t,o=As(r.pathname||"/",e);if(o==null)return null;let u=Qp(a);oS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=vS(o);h=yS(u[f],g,i)}return h}function Qp(a,t=[],e=[],i=""){let r=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Jt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=ki([i,f.relativePath]),_=e.concat(f);o.children&&o.children.length>0&&(Jt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Qp(o.children,t,_,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:_S(g,o.index),routesMeta:_})};return a.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,u);else for(let f of Jp(o.path))r(o,u,f)}),t}function Jp(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=Jp(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>a.startsWith("/")&&f===""?"/":f)}function oS(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:mS(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var uS=/^:[\w-]+$/,cS=3,hS=2,fS=1,dS=10,gS=-2,Yy=a=>a==="*";function _S(a,t){let e=a.split("/"),i=e.length;return e.some(Yy)&&(i+=gS),t&&(i+=hS),e.filter(r=>!Yy(r)).reduce((r,o)=>r+(uS.test(o)?cS:o===""?fS:dS),i)}function mS(a,t){return a.length===t.length&&a.slice(0,-1).every((i,r)=>i===t[r])?a[a.length-1]-t[t.length-1]:0}function yS(a,t,e=!1){let{routesMeta:i}=a,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,_=o==="/"?t:t.slice(o.length)||"/",y=ec({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_),p=f.route;if(!y&&g&&e&&!i[i.length-1].route.index&&(y=ec({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!y)return null;Object.assign(r,y.params),u.push({params:r,pathname:ki([o,y.pathname]),pathnameBase:CS(ki([o,y.pathnameBase])),route:p}),y.pathnameBase!=="/"&&(o=ki([o,y.pathnameBase]))}return u}function ec(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=pS(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:y},p)=>{if(_==="*"){let x=h[p]||"";u=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const E=h[p];return y&&!E?g[_]=void 0:g[_]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:a}}function pS(a,t=!1,e=!0){li(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function vS(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return li(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function As(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}function ES(a,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof a=="string"?Na(a):a;return{pathname:e?e.startsWith("/")?e:xS(e,t):t,search:TS(i),hash:RS(r)}}function xS(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function sd(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SS(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function $p(a){let t=SS(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function t1(a,t,e,i=!1){let r;typeof a=="string"?r=Na(a):(r={...a},Jt(!r.pathname||!r.pathname.includes("?"),sd("?","pathname","search",r)),Jt(!r.pathname||!r.pathname.includes("#"),sd("#","pathname","hash",r)),Jt(!r.search||!r.search.includes("#"),sd("#","search","hash",r)));let o=a===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=e;else{let y=t.length-1;if(!i&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),y-=1;r.pathname=p.join("/")}h=y>=0?t[y]:"/"}let f=ES(r,h),g=u&&u!=="/"&&u.endsWith("/"),_=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||_)&&(f.pathname+="/"),f}var ki=a=>a.join("/").replace(/\/\/+/g,"/"),CS=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),TS=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,RS=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function wS(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var e1=["POST","PUT","PATCH","DELETE"];new Set(e1);var bS=["GET",...e1];new Set(bS);var za=j.createContext(null);za.displayName="DataRouter";var Ec=j.createContext(null);Ec.displayName="DataRouterState";var n1=j.createContext({isTransitioning:!1});n1.displayName="ViewTransition";var MS=j.createContext(new Map);MS.displayName="Fetchers";var AS=j.createContext(null);AS.displayName="Await";var ui=j.createContext(null);ui.displayName="Navigation";var go=j.createContext(null);go.displayName="Location";var Zi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var ng=j.createContext(null);ng.displayName="RouteError";function DS(a,{relative:t}={}){Jt(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=j.useContext(ui),{hash:r,pathname:o,search:u}=mo(a,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:ki([e,o])),i.createHref({pathname:h,search:u,hash:r})}function _o(){return j.useContext(go)!=null}function Er(){return Jt(_o(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(go).location}var i1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s1(a){j.useContext(ui).static||j.useLayoutEffect(a)}function r1(){let{isDataRoute:a}=j.useContext(Zi);return a?BS():LS()}function LS(){Jt(_o(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext(za),{basename:t,navigator:e}=j.useContext(ui),{matches:i}=j.useContext(Zi),{pathname:r}=Er(),o=JSON.stringify($p(i)),u=j.useRef(!1);return s1(()=>{u.current=!0}),j.useCallback((f,g={})=>{if(li(u.current,i1),!u.current)return;if(typeof f=="number"){e.go(f);return}let _=t1(f,JSON.parse(o),r,g.relative==="path");a==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ki([t,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[t,e,o,r,a])}j.createContext(null);function mo(a,{relative:t}={}){let{matches:e}=j.useContext(Zi),{pathname:i}=Er(),r=JSON.stringify($p(e));return j.useMemo(()=>t1(a,JSON.parse(r),i,t==="path"),[a,r,i,t])}function OS(a,t){return a1(a,t)}function a1(a,t,e,i){var M;Jt(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=j.useContext(ui),{matches:u}=j.useContext(Zi),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",y=h&&h.route;{let A=y&&y.path||"";l1(g,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Er(),E;if(t){let A=typeof t=="string"?Na(t):t;Jt(_==="/"||((M=A.pathname)==null?void 0:M.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${A.pathname}" was given in the \`location\` prop.`),E=A}else E=p;let x=E.pathname||"/",T=x;if(_!=="/"){let A=_.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=!o&&e&&e.matches&&e.matches.length>0?e.matches:Wp(a,{pathname:T});li(y||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),li(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=GS(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:ki([_,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?_:ki([_,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),u,e,i);return t&&R?j.createElement(go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function IS(){let a=XS(),t=wS(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),e?j.createElement("pre",{style:r},e):null,u)}var NS=j.createElement(IS,null),zS=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?j.createElement(Zi.Provider,{value:this.props.routeContext},j.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FS({routeContext:a,match:t,children:e}){let i=j.useContext(za);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Zi.Provider,{value:a},e)}function GS(a,t=[],e=null,i=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let r=a,o=e==null?void 0:e.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Jt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:_,errors:y}=e,p=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||p){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,_)=>{let y,p=!1,E=null,x=null;e&&(y=o&&g.route.id?o[g.route.id]:void 0,E=g.route.errorElement||NS,u&&(h<0&&_===0?(l1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):h===_&&(p=!0,x=g.route.hydrateFallbackElement||null)));let T=t.concat(r.slice(0,_+1)),C=()=>{let R;return y?R=E:p?R=x:g.route.Component?R=j.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=f,j.createElement(FS,{match:g,routeContext:{outlet:f,matches:T,isDataRoute:e!=null},children:R})};return e&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?j.createElement(zS,{location:e.location,revalidation:e.revalidation,component:E,error:y,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):C()},null)}function ig(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(a){let t=j.useContext(za);return Jt(t,ig(a)),t}function PS(a){let t=j.useContext(Ec);return Jt(t,ig(a)),t}function US(a){let t=j.useContext(Zi);return Jt(t,ig(a)),t}function sg(a){let t=US(a),e=t.matches[t.matches.length-1];return Jt(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function YS(){return sg("useRouteId")}function XS(){var i;let a=j.useContext(ng),t=PS("useRouteError"),e=sg("useRouteError");return a!==void 0?a:(i=t.errors)==null?void 0:i[e]}function BS(){let{router:a}=kS("useNavigate"),t=sg("useNavigate"),e=j.useRef(!1);return s1(()=>{e.current=!0}),j.useCallback(async(r,o={})=>{li(e.current,i1),e.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:t,...o}))},[a,t])}var Xy={};function l1(a,t,e){!t&&!Xy[a]&&(Xy[a]=!0,li(!1,e))}j.memo(HS);function HS({routes:a,future:t,state:e}){return a1(a,void 0,e,t)}function zd(a){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jS({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Jt(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=a.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof e=="string"&&(e=Na(e));let{pathname:f="/",search:g="",hash:_="",state:y=null,key:p="default"}=e,E=j.useMemo(()=>{let x=As(f,u);return x==null?null:{location:{pathname:x,search:g,hash:_,state:y,key:p},navigationType:i}},[u,f,g,_,y,p,i]);return li(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:j.createElement(ui.Provider,{value:h},j.createElement(go.Provider,{children:t,value:E}))}function VS({children:a,location:t}){return OS(Fd(a),t)}function Fd(a,t=[]){let e=[];return j.Children.forEach(a,(i,r)=>{if(!j.isValidElement(i))return;let o=[...t,r];if(i.type===j.Fragment){e.push.apply(e,Fd(i.props.children,o));return}Jt(i.type===zd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Fd(i.props.children,o)),e.push(u)}),e}var $u="get",tc="application/x-www-form-urlencoded";function xc(a){return a!=null&&typeof a.tagName=="string"}function ZS(a){return xc(a)&&a.tagName.toLowerCase()==="button"}function qS(a){return xc(a)&&a.tagName.toLowerCase()==="form"}function KS(a){return xc(a)&&a.tagName.toLowerCase()==="input"}function WS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function QS(a,t){return a.button===0&&(!t||t==="_self")&&!WS(a)}var Fu=null;function JS(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var $S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(a){return a!=null&&!$S.has(a)?(li(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):a}function tC(a,t){let e,i,r,o,u;if(qS(a)){let h=a.getAttribute("action");i=h?As(h,t):null,e=a.getAttribute("method")||$u,r=rd(a.getAttribute("enctype"))||tc,o=new FormData(a)}else if(ZS(a)||KS(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=a.getAttribute("formaction")||h.getAttribute("action");if(i=f?As(f,t):null,e=a.getAttribute("formmethod")||h.getAttribute("method")||$u,r=rd(a.getAttribute("formenctype"))||rd(h.getAttribute("enctype"))||tc,o=new FormData(h,a),!JS()){let{name:g,type:_,value:y}=a;if(_==="image"){let p=g?`${g}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else g&&o.append(g,y)}}else{if(xc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=$u,i=null,r=tc,u=a}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:u}}function rg(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function eC(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nC(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function iC(a,t,e){let i=await Promise.all(a.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await eC(o,e);return u.links?u.links():[]}return[]}));return lC(i.flat(1).filter(nC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function By(a,t,e,i,r,o){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>{var _;return e[g].pathname!==f.pathname||((_=e[g].route.path)==null?void 0:_.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{var y;let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(a,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function sC(a,t,{includeHydrateFallback:e}={}){return rC(a.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function rC(a){return[...new Set(a)]}function aC(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function lC(a,t){let e=new Set;return new Set(t),a.reduce((i,r)=>{let o=JSON.stringify(aC(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function oC(a){let t=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function uC(){let a=j.useContext(za);return rg(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function cC(){let a=j.useContext(Ec);return rg(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var ag=j.createContext(void 0);ag.displayName="FrameworkContext";function o1(){let a=j.useContext(ag);return rg(a,"You must render this element inside a <HydratedRouter> element"),a}function hC(a,t){let e=j.useContext(ag),[i,r]=j.useState(!1),[o,u]=j.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:_,onTouchStart:y}=t,p=j.useRef(null);j.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let T=R=>{R.forEach(M=>{u(M.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[a]),j.useEffect(()=>{if(i){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[i]);let E=()=>{r(!0)},x=()=>{r(!1),u(!1)};return e?a!=="intent"?[o,p,{}]:[o,p,{onFocus:kl(h,E),onBlur:kl(f,x),onMouseEnter:kl(g,E),onMouseLeave:kl(_,x),onTouchStart:kl(y,E)}]:[!1,p,{}]}function kl(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function fC({page:a,...t}){let{router:e}=uC(),i=j.useMemo(()=>Wp(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?j.createElement(gC,{page:a,matches:i,...t}):null}function dC(a){let{manifest:t,routeModules:e}=o1(),[i,r]=j.useState([]);return j.useEffect(()=>{let o=!1;return iC(a,t,e).then(u=>{o||r(u)}),()=>{o=!0}},[a,t,e]),i}function gC({page:a,matches:t,...e}){let i=Er(),{manifest:r,routeModules:o}=o1(),{loaderData:u,matches:h}=cC(),f=j.useMemo(()=>By(a,t,h,r,i,"data"),[a,t,h,r,i]),g=j.useMemo(()=>By(a,t,h,r,i,"assets"),[a,t,h,r,i]),_=j.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let E=new Set,x=!1;if(t.forEach(C=>{var M;let R=r.routes[C.route.id];!R||!R.hasLoader||(!f.some(A=>A.route.id===C.route.id)&&C.route.id in u&&((M=o[C.route.id])!=null&&M.shouldRevalidate)||R.hasClientLoader?x=!0:E.add(C.route.id))}),E.size===0)return[];let T=oC(a);return x&&E.size>0&&T.searchParams.set("_routes",t.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[u,i,r,f,t,a,o]),y=j.useMemo(()=>sC(g,r),[g,r]),p=dC(g);return j.createElement(j.Fragment,null,_.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),y.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),p.map(({key:E,link:x})=>j.createElement("link",{key:E,...x})))}function _C(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u1&&(window.__reactRouterVersion="7.2.0")}catch{}function mC({basename:a,children:t,window:e}){let i=j.useRef();i.current==null&&(i.current=sS({window:e,v5Compat:!0}));let r=i.current,[o,u]=j.useState({action:r.action,location:r.location}),h=j.useCallback(f=>{j.startTransition(()=>u(f))},[u]);return j.useLayoutEffect(()=>r.listen(h),[r,h]),j.createElement(jS,{basename:a,children:t,location:o.location,navigationType:o.action,navigator:r})}var c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h1=j.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:_,viewTransition:y,...p},E){let{basename:x}=j.useContext(ui),T=typeof g=="string"&&c1.test(g),C,R=!1;if(typeof g=="string"&&T&&(C=g,u1))try{let F=new URL(window.location.href),q=g.startsWith("//")?new URL(F.protocol+g):new URL(g),it=As(q.pathname,x);q.origin===F.origin&&it!=null?g=it+q.search+q.hash:R=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=DS(g,{relative:r}),[A,L,D]=hC(i,p),V=EC(g,{replace:u,state:h,target:f,preventScrollReset:_,relative:r,viewTransition:y});function W(F){t&&t(F),F.defaultPrevented||V(F)}let H=j.createElement("a",{...p,...D,href:C||M,onClick:R||o?t:W,ref:_C(E,L),target:f,"data-discover":!T&&e==="render"?"true":void 0});return A&&!T?j.createElement(j.Fragment,null,H,j.createElement(fC,{page:M})):H});h1.displayName="Link";var yC=j.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...g},_){let y=mo(u,{relative:g.relative}),p=Er(),E=j.useContext(Ec),{navigator:x,basename:T}=j.useContext(ui),C=E!=null&&RC(y)&&h===!0,R=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,M=p.pathname,A=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(M=M.toLowerCase(),A=A?A.toLowerCase():null,R=R.toLowerCase()),A&&T&&(A=As(A,T)||A);const L=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let D=M===R||!r&&M.startsWith(R)&&M.charAt(L)==="/",V=A!=null&&(A===R||!r&&A.startsWith(R)&&A.charAt(R.length)==="/"),W={isActive:D,isPending:V,isTransitioning:C},H=D?t:void 0,F;typeof i=="function"?F=i(W):F=[i,D?"active":null,V?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(W):o;return j.createElement(h1,{...g,"aria-current":H,className:F,ref:_,style:q,to:u,viewTransition:h},typeof f=="function"?f(W):f)});yC.displayName="NavLink";var pC=j.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:u=$u,action:h,onSubmit:f,relative:g,preventScrollReset:_,viewTransition:y,...p},E)=>{let x=CC(),T=TC(h,{relative:g}),C=u.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&c1.test(h),M=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let L=A.nativeEvent.submitter,D=(L==null?void 0:L.getAttribute("formmethod"))||u;x(L||A.currentTarget,{fetcherKey:t,method:D,navigate:e,replace:r,state:o,relative:g,preventScrollReset:_,viewTransition:y})};return j.createElement("form",{ref:E,method:C,action:T,onSubmit:i?f:M,...p,"data-discover":!R&&a==="render"?"true":void 0})});pC.displayName="Form";function vC(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f1(a){let t=j.useContext(za);return Jt(t,vC(a)),t}function EC(a,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=r1(),f=Er(),g=mo(a,{relative:o});return j.useCallback(_=>{if(QS(_,t)){_.preventDefault();let y=e!==void 0?e:$l(f)===$l(g);h(a,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[f,h,g,e,i,t,a,r,o,u])}var xC=0,SC=()=>`__${String(++xC)}__`;function CC(){let{router:a}=f1("useSubmit"),{basename:t}=j.useContext(ui),e=YS();return j.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:f,body:g}=tC(i,t);if(r.navigate===!1){let _=r.fetcherKey||SC();await a.fetch(_,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await a.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,t,e])}function TC(a,{relative:t}={}){let{basename:e}=j.useContext(ui),i=j.useContext(Zi);Jt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...mo(a||".",{relative:t})},u=Er();if(a==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let _=h.toString();o.search=_?`?${_}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ki([e,o.pathname])),$l(o)}function RC(a,t={}){let e=j.useContext(n1);Jt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=f1("useViewTransitionState"),r=mo(a,{relative:t.relative});if(!e.isTransitioning)return!1;let o=As(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=As(e.nextLocation.pathname,i)||e.nextLocation.pathname;return ec(r.pathname,u)!=null||ec(r.pathname,o)!=null}new TextEncoder;const wC=({setUserData:a})=>{const[t,e]=j.useState(""),[i,r]=j.useState(""),o=r1(),u=h=>{h.preventDefault(),a({firstName:t,mobile:i}),o("/map")};return Re.jsxs("div",{className:"p-4",children:[Re.jsx("h2",{className:"text-xl mb-4",children:"Enter Details"}),Re.jsxs("form",{onSubmit:u,children:[Re.jsx("input",{type:"text",placeholder:"First Name",value:t,onChange:h=>e(h.target.value),required:!0,className:"border p-2 mr-2"}),Re.jsx("input",{type:"text",placeholder:"Mobile Number",value:i,onChange:h=>r(h.target.value),required:!0,className:"border p-2"}),Re.jsx("button",{type:"submit",className:"ml-2 bg-blue-500 text-white p-2",children:"Submit"})]})]})},pe={ADD:"add",REMOVE:"remove"},wa={PROPERTYCHANGE:"propertychange"},mt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Sc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function bC(a,t,e){let i,r;e=e||Pi;let o=0,u=a.length,h=!1;for(;o<u;)i=o+(u-o>>1),r=+e(a[i],t),r<0?o=i+1:(u=i,h=!r);return h?o:~o}function Pi(a,t){return a>t?1:a<t?-1:0}function MC(a,t){return a<t?1:a>t?-1:0}function lg(a,t,e){if(a[0]<=t)return 0;const i=a.length;if(t<=a[i-1])return i-1;if(typeof e=="function"){for(let r=1;r<i;++r){const o=a[r];if(o===t)return r;if(o<t)return e(t,a[r-1],o)>0?r-1:r}return i-1}if(e>0){for(let r=1;r<i;++r)if(a[r]<t)return r-1;return i-1}if(e<0){for(let r=1;r<i;++r)if(a[r]<=t)return r;return i-1}for(let r=1;r<i;++r){if(a[r]==t)return r;if(a[r]<t)return a[r-1]-t<t-a[r]?r-1:r}return i-1}function AC(a,t,e){for(;t<e;){const i=a[t];a[t]=a[e],a[e]=i,++t,--e}}function ri(a,t){const e=Array.isArray(t)?t:[t],i=e.length;for(let r=0;r<i;r++)a[a.length]=e[r]}function qi(a,t){const e=a.length;if(e!==t.length)return!1;for(let i=0;i<e;i++)if(a[i]!==t[i])return!1;return!0}function DC(a,t,e){const i=t||Pi;return a.every(function(r,o){if(o===0)return!0;const u=i(a[o-1],r);return!(u>0||u===0)})}function yr(){return!0}function xr(){return!1}function ba(){}function d1(a){let t,e,i;return function(){const r=Array.prototype.slice.call(arguments);return(!e||this!==i||!qi(r,e))&&(i=this,e=r,t=a.apply(this,arguments)),t}}function LC(a){function t(){let e;try{e=a()}catch(i){return Promise.reject(i)}return e instanceof Promise?e:Promise.resolve(e)}return t()}function yo(a){for(const t in a)delete a[t]}function Ma(a){let t;for(t in a)return!1;return!t}class Dn{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Cc extends Sc{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),r=i[t]||(i[t]=[]);r.includes(e)||r.push(e)}dispatchEvent(t){const e=typeof t=="string",i=e?t:t.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const o=e?new Dn(t):t;o.target||(o.target=this.eventTarget_||this);const u=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in u||(u[i]=0,h[i]=0),++u[i];let f;for(let g=0,_=r.length;g<_;++g)if("handleEvent"in r[g]?f=r[g].handleEvent(o):f=r[g].call(this,o),f===!1||o.propagationStopped){f=!1;break}if(--u[i]===0){let g=h[i];for(delete h[i];g--;)this.removeEventListener(i,ba);delete u[i]}return f}disposeInternal(){this.listeners_&&yo(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,e){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const r=i.indexOf(e);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[r]=ba,++this.pendingRemovals_[t]):(i.splice(r,1),i.length===0&&delete this.listeners_[t]))}}function wt(a,t,e,i,r){if(r){const u=e;e=function(h){return a.removeEventListener(t,e),u.call(i??this,h)}}else i&&i!==a&&(e=e.bind(i));const o={target:a,type:t,listener:e};return a.addEventListener(t,e),o}function nc(a,t,e,i){return wt(a,t,e,i,!0)}function Bt(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),yo(a))}class po extends Cc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(mt.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const i=t.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=wt(this,t[o],e);return r}return wt(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){const r=t.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=nc(this,t[o],e)}else i=nc(this,t,e);return e.ol_key=i,i}unInternal(t,e){const i=e.ol_key;if(i)OC(i);else if(Array.isArray(t))for(let r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)}}po.prototype.on;po.prototype.once;po.prototype.un;function OC(a){if(Array.isArray(a))for(let t=0,e=a.length;t<e;++t)Bt(a[t]);else Bt(a)}function Nt(){throw new Error("Unimplemented abstract method.")}let IC=0;function St(a){return a.ol_uid||(a.ol_uid=String(++IC))}class Hy extends Dn{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}class ci extends po{constructor(t){super(),this.on,this.once,this.un,St(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new Hy(i,t,e)),i=wa.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Hy(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){const r=this.values_||(this.values_={});if(i)r[t]=e;else{const o=r[t];r[t]=e,o!==e&&this.notify(t,o)}}setProperties(t,e){for(const i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],Ma(this.values_)&&(this.values_=null),e||this.notify(t,i)}}}const jy={LENGTH:"length"};class Gu extends Dn{constructor(t,e,i){super(t),this.element=e,this.index=i}}class wn extends ci{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,i=t.length;e<i;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let i=0,r=e.length;i<r;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(jy.LENGTH)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Gu(pe.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let i=0,r=e.length;i<r;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Gu(pe.REMOVE,e,t)),e}setAt(t,e){const i=this.getLength();if(t>=i){this.insertAt(t,e);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Gu(pe.REMOVE,r,t)),this.dispatchEvent(new Gu(pe.ADD,e,t))}updateLength_(){this.set(jy.LENGTH,this.array_.length)}assertUnique_(t,e){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==e)throw new Error("Duplicate item added to a unique collection")}}function zt(a,t){if(!a)throw new Error(t)}class Fi extends ci{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new Fi(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Bt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=wt(t,mt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?NC(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function NC(a){if(typeof a=="function")return a;let t;return Array.isArray(a)?t=a:(zt(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[a]),function(){return t}}const me={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Te(a){const t=hn();for(let e=0,i=a.length;e<i;++e)Ql(t,a[e]);return t}function vo(a,t,e){return e?(e[0]=a[0]-t,e[1]=a[1]-t,e[2]=a[2]+t,e[3]=a[3]+t,e):[a[0]-t,a[1]-t,a[2]+t,a[3]+t]}function g1(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a.slice()}function Sr(a,t,e){let i,r;return t<a[0]?i=a[0]-t:a[2]<t?i=t-a[2]:i=0,e<a[1]?r=a[1]-e:a[3]<e?r=e-a[3]:r=0,i*i+r*r}function Aa(a,t){return og(a,t[0],t[1])}function Bl(a,t){return a[0]<=t[0]&&t[2]<=a[2]&&a[1]<=t[1]&&t[3]<=a[3]}function og(a,t,e){return a[0]<=t&&t<=a[2]&&a[1]<=e&&e<=a[3]}function Gd(a,t){const e=a[0],i=a[1],r=a[2],o=a[3],u=t[0],h=t[1];let f=me.UNKNOWN;return u<e?f=f|me.LEFT:u>r&&(f=f|me.RIGHT),h<i?f=f|me.BELOW:h>o&&(f=f|me.ABOVE),f===me.UNKNOWN&&(f=me.INTERSECTING),f}function hn(){return[1/0,1/0,-1/0,-1/0]}function ji(a,t,e,i,r){return r?(r[0]=a,r[1]=t,r[2]=e,r[3]=i,r):[a,t,e,i]}function Eo(a){return ji(1/0,1/0,-1/0,-1/0,a)}function Wl(a,t){const e=a[0],i=a[1];return ji(e,i,e,i,t)}function ug(a,t,e,i,r){const o=Eo(r);return m1(o,a,t,e,i)}function to(a,t){return a[0]==t[0]&&a[2]==t[2]&&a[1]==t[1]&&a[3]==t[3]}function _1(a,t){return t[0]<a[0]&&(a[0]=t[0]),t[2]>a[2]&&(a[2]=t[2]),t[1]<a[1]&&(a[1]=t[1]),t[3]>a[3]&&(a[3]=t[3]),a}function Ql(a,t){t[0]<a[0]&&(a[0]=t[0]),t[0]>a[2]&&(a[2]=t[0]),t[1]<a[1]&&(a[1]=t[1]),t[1]>a[3]&&(a[3]=t[1])}function m1(a,t,e,i,r){for(;e<i;e+=r)zC(a,t[e],t[e+1]);return a}function zC(a,t,e){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],e),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],e)}function cg(a,t){let e;return e=t(Tc(a)),e||(e=t(Rc(a)),e)||(e=t(wc(a)),e)||(e=t(Cr(a)),e)?e:!1}function kd(a){let t=0;return bc(a)||(t=Pt(a)*je(a)),t}function Tc(a){return[a[0],a[1]]}function Rc(a){return[a[2],a[1]]}function Ds(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function FC(a,t){let e;if(t==="bottom-left")e=Tc(a);else if(t==="bottom-right")e=Rc(a);else if(t==="top-left")e=Cr(a);else if(t==="top-right")e=wc(a);else throw new Error("Invalid corner");return e}function Pd(a,t,e,i,r){const[o,u,h,f,g,_,y,p]=y1(a,t,e,i);return ji(Math.min(o,h,g,y),Math.min(u,f,_,p),Math.max(o,h,g,y),Math.max(u,f,_,p),r)}function y1(a,t,e,i){const r=t*i[0]/2,o=t*i[1]/2,u=Math.cos(e),h=Math.sin(e),f=r*u,g=r*h,_=o*u,y=o*h,p=a[0],E=a[1];return[p-f+y,E-g-_,p-f-y,E-g+_,p+f-y,E+g+_,p+f+y,E+g-_,p-f+y,E-g-_]}function je(a){return a[3]-a[1]}function gr(a,t,e){const i=e||hn();return He(a,t)?(a[0]>t[0]?i[0]=a[0]:i[0]=t[0],a[1]>t[1]?i[1]=a[1]:i[1]=t[1],a[2]<t[2]?i[2]=a[2]:i[2]=t[2],a[3]<t[3]?i[3]=a[3]:i[3]=t[3]):Eo(i),i}function Cr(a){return[a[0],a[3]]}function wc(a){return[a[2],a[3]]}function Pt(a){return a[2]-a[0]}function He(a,t){return a[0]<=t[2]&&a[2]>=t[0]&&a[1]<=t[3]&&a[3]>=t[1]}function bc(a){return a[2]<a[0]||a[3]<a[1]}function GC(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a}function kC(a,t,e){let i=!1;const r=Gd(a,t),o=Gd(a,e);if(r===me.INTERSECTING||o===me.INTERSECTING)i=!0;else{const u=a[0],h=a[1],f=a[2],g=a[3],_=t[0],y=t[1],p=e[0],E=e[1],x=(E-y)/(p-_);let T,C;o&me.ABOVE&&!(r&me.ABOVE)&&(T=p-(E-g)/x,i=T>=u&&T<=f),!i&&o&me.RIGHT&&!(r&me.RIGHT)&&(C=E-(p-f)*x,i=C>=h&&C<=g),!i&&o&me.BELOW&&!(r&me.BELOW)&&(T=p-(E-h)/x,i=T>=u&&T<=f),!i&&o&me.LEFT&&!(r&me.LEFT)&&(C=E-(p-u)*x,i=C>=h&&C<=g)}return i}function p1(a,t){const e=t.getExtent(),i=Ds(a);if(t.canWrapX()&&(i[0]<e[0]||i[0]>=e[2])){const r=Pt(e),u=Math.floor((i[0]-e[0])/r)*r;a[0]-=u,a[2]-=u}return a}function v1(a,t,e){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[i[0],a[1],i[2],a[3]]];p1(a,t);const r=Pt(i);if(Pt(a)>r&&!e)return[[i[0],a[1],i[2],a[3]]];if(a[0]<i[0])return[[a[0]+r,a[1],i[2],a[3]],[i[0],a[1],a[2],a[3]]];if(a[2]>i[2])return[[a[0],a[1],i[2],a[3]],[i[0],a[1],a[2]-r,a[3]]]}return[a]}function ie(a,t,e){return Math.min(Math.max(a,t),e)}function PC(a,t,e,i,r,o){const u=r-e,h=o-i;if(u!==0||h!==0){const f=((a-e)*u+(t-i)*h)/(u*u+h*h);f>1?(e=r,i=o):f>0&&(e+=u*f,i+=h*f)}return Ui(a,t,e,i)}function Ui(a,t,e,i){const r=e-a,o=i-t;return r*r+o*o}function UC(a){const t=a.length;for(let i=0;i<t;i++){let r=i,o=Math.abs(a[i][i]);for(let h=i+1;h<t;h++){const f=Math.abs(a[h][i]);f>o&&(o=f,r=h)}if(o===0)return null;const u=a[r];a[r]=a[i],a[i]=u;for(let h=i+1;h<t;h++){const f=-a[h][i]/a[i][i];for(let g=i;g<t+1;g++)i==g?a[h][g]=0:a[h][g]+=f*a[i][g]}}const e=new Array(t);for(let i=t-1;i>=0;i--){e[i]=a[i][t]/a[i][i];for(let r=i-1;r>=0;r--)a[r][t]-=a[r][i]*e[i]}return e}function Vy(a){return a*180/Math.PI}function bs(a){return a*Math.PI/180}function _r(a,t){const e=a%t;return e*t<0?e+t:e}function cn(a,t,e){return a+e*(t-a)}function Mc(a,t){const e=Math.pow(10,t);return Math.round(a*e)/e}function ku(a,t){return Math.floor(Mc(a,t))}function Pu(a,t){return Math.ceil(Mc(a,t))}function Ud(a,t,e){if(a>=t&&a<e)return a;const i=e-t;return((a-t)%i+i)%i+t}const YC=63710088e-1;function Zy(a,t,e){e=e||YC;const i=bs(a[1]),r=bs(t[1]),o=(r-i)/2,u=bs(t[0]-a[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(u)*Math.sin(u)*Math.cos(i)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function E1(...a){console.warn(...a)}function XC(a,t){return a[0]+=+t[0],a[1]+=+t[1],a}function BC(a,t){const e=t.getRadius(),i=t.getCenter(),r=i[0],o=i[1],u=a[0],h=a[1];let f=u-r;const g=h-o;f===0&&g===0&&(f=1);const _=Math.sqrt(f*f+g*g),y=r+e*f/_,p=o+e*g/_;return[y,p]}function hg(a,t){const e=a[0],i=a[1],r=t[0],o=t[1],u=r[0],h=r[1],f=o[0],g=o[1],_=f-u,y=g-h,p=_===0&&y===0?0:(_*(e-u)+y*(i-h))/(_*_+y*y||0);let E,x;return p<=0?(E=u,x=h):p>=1?(E=f,x=g):(E=u+p*_,x=h+p*y),[E,x]}function Xe(a,t){let e=!0;for(let i=a.length-1;i>=0;--i)if(a[i]!=t[i]){e=!1;break}return e}function fg(a,t){const e=Math.cos(t),i=Math.sin(t),r=a[0]*e-a[1]*i,o=a[1]*e+a[0]*i;return a[0]=r,a[1]=o,a}function HC(a,t){return a[0]*=t,a[1]*=t,a}function Yi(a,t){const e=a[0]-t[0],i=a[1]-t[1];return e*e+i*i}function ic(a,t){return Math.sqrt(Yi(a,t))}function jC(a,t){return Yi(a,hg(a,t))}function x1(a,t){if(t.canWrapX()){const e=Pt(t.getExtent()),i=VC(a,t,e);i&&(a[0]-=i*e)}return a}function VC(a,t,e){const i=t.getExtent();let r=0;return t.canWrapX()&&(a[0]<i[0]||a[0]>i[2])&&(e=e||Pt(i),r=Math.floor((a[0]-i[0])/e)),r}const dg={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class gg{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||dg[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const xo=6378137,pa=Math.PI*xo,ZC=[-pa,-pa,pa,pa],qC=[-180,-85,180,85],Uu=xo*Math.log(Math.tan(Math.PI/2));class la extends gg{constructor(t){super({code:t,units:"m",extent:ZC,global:!0,worldExtent:qC,getPointResolution:function(e,i){return e/Math.cosh(i[1]/xo)}})}}const qy=[new la("EPSG:3857"),new la("EPSG:102100"),new la("EPSG:102113"),new la("EPSG:900913"),new la("http://www.opengis.net/def/crs/EPSG/0/3857"),new la("http://www.opengis.net/gml/srs/epsg.xml#3857")];function KC(a,t,e,i){const r=a.length;e=e>1?e:2,i=i??e,t===void 0&&(e>2?t=a.slice():t=new Array(r));for(let o=0;o<r;o+=i){t[o]=pa*a[o]/180;let u=xo*Math.log(Math.tan(Math.PI*(+a[o+1]+90)/360));u>Uu?u=Uu:u<-Uu&&(u=-Uu),t[o+1]=u}return t}function WC(a,t,e,i){const r=a.length;e=e>1?e:2,i=i??e,t===void 0&&(e>2?t=a.slice():t=new Array(r));for(let o=0;o<r;o+=i)t[o]=180*a[o]/pa,t[o+1]=360*Math.atan(Math.exp(a[o+1]/xo))/Math.PI-90;return t}const QC=6378137,Ky=[-180,-90,180,90],JC=Math.PI*QC/180;class lr extends gg{constructor(t,e){super({code:t,units:"degrees",extent:Ky,axisOrientation:e,global:!0,metersPerUnit:JC,worldExtent:Ky})}}const Wy=[new lr("CRS:84"),new lr("EPSG:4326","neu"),new lr("urn:ogc:def:crs:OGC:1.3:CRS84"),new lr("urn:ogc:def:crs:OGC:2:84"),new lr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new lr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new lr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Yd={};function $C(a){return Yd[a]||Yd[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function tT(a,t){Yd[a]=t}let Sa={};function eo(a,t,e){const i=a.getCode(),r=t.getCode();i in Sa||(Sa[i]={}),Sa[i][r]=e}function ad(a,t){return a in Sa&&t in Sa[a]?Sa[a][t]:null}const sc=.9996,An=.00669438,Ac=An*An,Dc=Ac*An,cr=An/(1-An),Qy=Math.sqrt(1-An),Da=(1-Qy)/(1+Qy),S1=Da*Da,_g=S1*Da,mg=_g*Da,C1=mg*Da,T1=1-An/4-3*Ac/64-5*Dc/256,eT=3*An/8+3*Ac/32+45*Dc/1024,nT=15*Ac/256+45*Dc/1024,iT=35*Dc/3072,sT=3/2*Da-27/32*_g+269/512*C1,rT=21/16*S1-55/32*mg,aT=151/96*_g-417/128*C1,lT=1097/512*mg,rc=6378137;function oT(a,t,e){const i=a-5e5,u=(e.north?t:t-1e7)/sc/(rc*T1),h=u+sT*Math.sin(2*u)+rT*Math.sin(4*u)+aT*Math.sin(6*u)+lT*Math.sin(8*u),f=Math.sin(h),g=f*f,_=Math.cos(h),y=f/_,p=y*y,E=p*p,x=1-An*g,T=Math.sqrt(1-An*g),C=rc/T,R=(1-An)/x,M=cr*_**2,A=M*M,L=i/(C*sc),D=L*L,V=D*L,W=V*L,H=W*L,F=H*L,q=h-y/R*(D/2-W/24*(5+3*p+10*M-4*A-9*cr))+F/720*(61+90*p+298*M+45*E-252*cr-3*A);let it=(L-V/6*(1+2*p+M)+H/120*(5-2*M+28*p-3*A+8*cr+24*E))/_;return it=Ud(it+bs(R1(e.number)),-Math.PI,Math.PI),[Vy(it),Vy(q)]}const Jy=-80,$y=84,uT=-180,cT=180;function hT(a,t,e){a=Ud(a,uT,cT),t<Jy?t=Jy:t>$y&&(t=$y);const i=bs(t),r=Math.sin(i),o=Math.cos(i),u=r/o,h=u*u,f=h*h,g=bs(a),_=R1(e.number),y=bs(_),p=rc/Math.sqrt(1-An*r**2),E=cr*o**2,x=o*Ud(g-y,-Math.PI,Math.PI),T=x*x,C=T*x,R=C*x,M=R*x,A=M*x,L=rc*(T1*i-eT*Math.sin(2*i)+nT*Math.sin(4*i)-iT*Math.sin(6*i)),D=sc*p*(x+C/6*(1-h+E)+M/120*(5-18*h+f+72*E-58*cr))+5e5;let V=sc*(L+p*u*(T/2+R/24*(5-h+9*E+4*E**2)+A/720*(61-58*h+f+600*E-330*cr)));return e.north||(V+=1e7),[D,V]}function R1(a){return(a-1)*6-180+3}const fT=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function w1(a){let t=0;for(const r of fT){const o=a.match(r);if(o){t=parseInt(o[1]);break}}if(!t)return null;let e=0,i=!1;return t>32700&&t<32761?e=t-32700:t>32600&&t<32661&&(i=!0,e=t-32600),e?{number:e,north:i}:null}function tp(a,t){return function(e,i,r,o){const u=e.length;r=r>1?r:2,o=o??r,i||(r>2?i=e.slice():i=new Array(u));for(let h=0;h<u;h+=o){const f=e[h],g=e[h+1],_=a(f,g,t);i[h]=_[0],i[h+1]=_[1]}return i}}function dT(a){return w1(a)?new gg({code:a,units:"m"}):null}function gT(a){const t=w1(a.getCode());return t?{forward:tp(hT,t),inverse:tp(oT,t)}:null}const _T=[gT],mT=[dT];let Xd=!0;function yT(a){Xd=!1}function yg(a,t){if(t!==void 0){for(let e=0,i=a.length;e<i;++e)t[e]=a[e];t=t}else t=a.slice();return t}function Bd(a){tT(a.getCode(),a),eo(a,a,yg)}function pT(a){a.forEach(Bd)}function tn(a){if(typeof a!="string")return a;const t=$C(a);if(t)return t;for(const e of mT){const i=e(a);if(i)return i}return null}function ep(a,t,e,i){a=tn(a);let r;const o=a.getPointResolutionFunc();if(o)r=o(t,e);else{const u=a.getUnits();if(u=="degrees"||i=="degrees")r=t;else{const h=vg(a,tn("EPSG:4326"));if(!h&&u!=="degrees")r=t*a.getMetersPerUnit();else{let g=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];g=h(g,g,2);const _=Zy(g.slice(0,2),g.slice(2,4)),y=Zy(g.slice(4,6),g.slice(6,8));r=(_+y)/2}const f=a.getMetersPerUnit();f!==void 0&&(r/=f)}}return r}function np(a){pT(a),a.forEach(function(t){a.forEach(function(e){t!==e&&eo(t,e,yg)})})}function vT(a,t,e,i){a.forEach(function(r){t.forEach(function(o){eo(r,o,e),eo(o,r,i)})})}function pg(a,t){return a?typeof a=="string"?tn(a):a:tn(t)}function ET(a){return function(t,e,i,r){const o=t.length;i=i!==void 0?i:2,r=r??i,e=e!==void 0?e:new Array(o);for(let u=0;u<o;u+=r){const h=a(t.slice(u,u+i)),f=h.length;for(let g=0,_=r;g<_;++g)e[u+g]=g>=f?t[u+g]:h[g]}return e}}function ld(a,t){if(a===t)return!0;const e=a.getUnits()===t.getUnits();return(a.getCode()===t.getCode()||vg(a,t)===yg)&&e}function vg(a,t){const e=a.getCode(),i=t.getCode();let r=ad(e,i);if(r)return r;let o=null,u=null;for(const f of _T)o||(o=f(a)),u||(u=f(t));if(!o&&!u)return null;const h="EPSG:4326";if(u)if(o)r=od(o.inverse,u.forward);else{const f=ad(e,h);f&&(r=od(f,u.forward))}else{const f=ad(h,i);f&&(r=od(o.inverse,f))}return r&&(Bd(a),Bd(t),eo(a,t,r)),r}function od(a,t){return function(e,i,r,o){return i=a(e,i,r,o),t(i,i,r,o)}}function ac(a,t){const e=tn(a),i=tn(t);return vg(e,i)}function b1(a,t,e){const i=ac(t,e);if(!i){const r=tn(t).getCode(),o=tn(e).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(a,void 0,a.length)}function Ls(a,t){return a}function Vt(a,t){return Xd&&!Xe(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(Xd=!1,E1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function Lc(a,t){return a}function Gi(a,t){return a}function xT(){np(qy),np(Wy),vT(Wy,qy,KC,WC)}xT();new Array(6);function Bn(){return[1,0,0,1,0,0]}function ST(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function ye(a,t){const e=t[0],i=t[1];return t[0]=a[0]*e+a[2]*i+a[4],t[1]=a[1]*e+a[3]*i+a[5],t}function Vi(a,t,e,i,r,o,u,h){const f=Math.sin(o),g=Math.cos(o);return a[0]=i*g,a[1]=r*f,a[2]=-i*f,a[3]=r*g,a[4]=u*i*g-h*i*f+t,a[5]=u*r*f+h*r*g+e,a}function M1(a,t){const e=CT(t);zt(e!==0,"Transformation matrix cannot be inverted");const i=t[0],r=t[1],o=t[2],u=t[3],h=t[4],f=t[5];return a[0]=u/e,a[1]=-r/e,a[2]=-o/e,a[3]=i/e,a[4]=(o*f-u*h)/e,a[5]=-(i*f-r*h)/e,a}function CT(a){return a[0]*a[3]-a[1]*a[2]}const ip=[1e6,1e6,1e6,1e6,2,2];function TT(a){return"matrix("+a.map((e,i)=>Math.round(e*ip[i])/ip[i]).join(", ")+")"}function Ms(a,t,e,i,r,o,u){o=o||[],u=u||2;let h=0;for(let f=t;f<e;f+=i){const g=a[f],_=a[f+1];o[h++]=r[0]*g+r[2]*_+r[4],o[h++]=r[1]*g+r[3]*_+r[5];for(let y=2;y<u;y++)o[h++]=a[f+y]}return o&&o.length!=h&&(o.length=h),o}function Eg(a,t,e,i,r,o,u){u=u||[];const h=Math.cos(r),f=Math.sin(r),g=o[0],_=o[1];let y=0;for(let p=t;p<e;p+=i){const E=a[p]-g,x=a[p+1]-_;u[y++]=g+E*h-x*f,u[y++]=_+E*f+x*h;for(let T=p+2;T<p+i;++T)u[y++]=a[T]}return u&&u.length!=y&&(u.length=y),u}function RT(a,t,e,i,r,o,u,h){h=h||[];const f=u[0],g=u[1];let _=0;for(let y=t;y<e;y+=i){const p=a[y]-f,E=a[y+1]-g;h[_++]=f+r*p,h[_++]=g+o*E;for(let x=y+2;x<y+i;++x)h[_++]=a[x]}return h&&h.length!=_&&(h.length=_),h}function wT(a,t,e,i,r,o,u){u=u||[];let h=0;for(let f=t;f<e;f+=i){u[h++]=a[f]+r,u[h++]=a[f+1]+o;for(let g=f+2;g<f+i;++g)u[h++]=a[g]}return u&&u.length!=h&&(u.length=h),u}const sp=Bn(),bT=[NaN,NaN];class A1 extends ci{constructor(){super(),this.extent_=hn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=d1((t,e,i)=>{if(!i)return this.getSimplifiedGeometry(e);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return Nt()}closestPointXY(t,e,i,r){return Nt()}containsXY(t,e){return this.closestPointXY(t,e,bT,Number.MIN_VALUE)===0}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Nt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Eo(e),this.extentRevision_=this.getRevision()}return GC(this.extent_,t)}rotate(t,e){Nt()}scale(t,e,i){Nt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Nt()}getType(){return Nt()}applyTransform(t){Nt()}intersectsExtent(t){return Nt()}translate(t,e){Nt()}transform(t,e){const i=tn(t),r=i.getUnits()=="tile-pixels"?function(o,u,h){const f=i.getExtent(),g=i.getWorldExtent(),_=je(g)/je(f);Vi(sp,g[0],g[3],_,-_,0,0,0);const y=Ms(o,0,o.length,h,sp,u),p=ac(i,e);return p?p(y,y,h):y}:ac(i,e);return this.applyTransform(r),this}}class Is extends A1{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return ug(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Nt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=lc(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){Nt()}setLayout(t,e,i){let r;if(t)r=lc(t);else{for(let o=0;o<i;++o){if(e.length===0){this.layout="XY",this.stride=2;return}e=e[0]}r=e.length,t=MT(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const r=this.getStride();Eg(i,0,i.length,r,t,e,i),this.changed()}}scale(t,e,i){e===void 0&&(e=t),i||(i=Ds(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();RT(r,0,r.length,o,t,e,i,r),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const r=this.getStride();wT(i,0,i.length,r,t,e,i),this.changed()}}}function MT(a){let t;return a==2?t="XY":a==3?t="XYZ":a==4&&(t="XYZM"),t}function lc(a){let t;return a=="XY"?t=2:a=="XYZ"||a=="XYM"?t=3:a=="XYZM"&&(t=4),t}function AT(a,t,e){const i=a.getFlatCoordinates();if(!i)return null;const r=a.getStride();return Ms(i,0,i.length,r,t,e)}function D1(a,t,e,i){let r=0;const o=a[e-i],u=a[e-i+1];let h=0,f=0;for(;t<e;t+=i){const g=a[t]-o,_=a[t+1]-u;r+=f*g-h*_,h=g,f=_}return r/2}function L1(a,t,e,i){let r=0;for(let o=0,u=e.length;o<u;++o){const h=e[o];r+=D1(a,t,h,i),t=h}return r}function DT(a,t,e,i){let r=0;for(let o=0,u=e.length;o<u;++o){const h=e[o];r+=L1(a,t,h,i),t=h[h.length-1]}return r}function rp(a,t,e,i,r,o,u){const h=a[t],f=a[t+1],g=a[e]-h,_=a[e+1]-f;let y;if(g===0&&_===0)y=t;else{const p=((r-h)*g+(o-f)*_)/(g*g+_*_);if(p>1)y=e;else if(p>0){for(let E=0;E<i;++E)u[E]=cn(a[t+E],a[e+E],p);u.length=i;return}else y=t}for(let p=0;p<i;++p)u[p]=a[y+p];u.length=i}function xg(a,t,e,i,r){let o=a[t],u=a[t+1];for(t+=i;t<e;t+=i){const h=a[t],f=a[t+1],g=Ui(o,u,h,f);g>r&&(r=g),o=h,u=f}return r}function Sg(a,t,e,i,r){for(let o=0,u=e.length;o<u;++o){const h=e[o];r=xg(a,t,h,i,r),t=h}return r}function LT(a,t,e,i,r){for(let o=0,u=e.length;o<u;++o){const h=e[o];r=Sg(a,t,h,i,r),t=h[h.length-1]}return r}function Cg(a,t,e,i,r,o,u,h,f,g,_){if(t==e)return g;let y,p;if(r===0){if(p=Ui(u,h,a[t],a[t+1]),p<g){for(y=0;y<i;++y)f[y]=a[t+y];return f.length=i,p}return g}_=_||[NaN,NaN];let E=t+i;for(;E<e;)if(rp(a,E-i,E,i,u,h,_),p=Ui(u,h,_[0],_[1]),p<g){for(g=p,y=0;y<i;++y)f[y]=_[y];f.length=i,E+=i}else E+=i*Math.max((Math.sqrt(p)-Math.sqrt(g))/r|0,1);if(o&&(rp(a,e-i,t,i,u,h,_),p=Ui(u,h,_[0],_[1]),p<g)){for(g=p,y=0;y<i;++y)f[y]=_[y];f.length=i}return g}function Tg(a,t,e,i,r,o,u,h,f,g,_){_=_||[NaN,NaN];for(let y=0,p=e.length;y<p;++y){const E=e[y];g=Cg(a,t,E,i,r,o,u,h,f,g,_),t=E}return g}function OT(a,t,e,i,r,o,u,h,f,g,_){_=_||[NaN,NaN];for(let y=0,p=e.length;y<p;++y){const E=e[y];g=Tg(a,t,E,i,r,o,u,h,f,g,_),t=E[E.length-1]}return g}function O1(a,t,e,i){for(let r=0,o=e.length;r<o;++r)a[t++]=e[r];return t}function Oc(a,t,e,i){for(let r=0,o=e.length;r<o;++r){const u=e[r];for(let h=0;h<i;++h)a[t++]=u[h]}return t}function Rg(a,t,e,i,r){r=r||[];let o=0;for(let u=0,h=e.length;u<h;++u){const f=Oc(a,t,e[u],i);r[o++]=f,t=f}return r.length=o,r}function IT(a,t,e,i,r){r=r||[];let o=0;for(let u=0,h=e.length;u<h;++u){const f=Rg(a,t,e[u],i,r[o]);f.length===0&&(f[0]=t),r[o++]=f,t=f[f.length-1]}return r.length=o,r}function Rs(a,t,e,i,r){r=r!==void 0?r:[];let o=0;for(let u=t;u<e;u+=i)r[o++]=a.slice(u,u+i);return r.length=o,r}function no(a,t,e,i,r){r=r!==void 0?r:[];let o=0;for(let u=0,h=e.length;u<h;++u){const f=e[u];r[o++]=Rs(a,t,f,i,r[o]),t=f}return r.length=o,r}function Hd(a,t,e,i,r){r=r!==void 0?r:[];let o=0;for(let u=0,h=e.length;u<h;++u){const f=e[u];r[o++]=f.length===1&&f[0]===t?[]:no(a,t,f,i,r[o]),t=f[f.length-1]}return r.length=o,r}function Ic(a,t,e,i,r,o,u){const h=(e-t)/i;if(h<3){for(;t<e;t+=i)o[u++]=a[t],o[u++]=a[t+1];return u}const f=new Array(h);f[0]=1,f[h-1]=1;const g=[t,e-i];let _=0;for(;g.length>0;){const y=g.pop(),p=g.pop();let E=0;const x=a[p],T=a[p+1],C=a[y],R=a[y+1];for(let M=p+i;M<y;M+=i){const A=a[M],L=a[M+1],D=PC(A,L,x,T,C,R);D>E&&(_=M,E=D)}E>r&&(f[(_-t)/i]=1,p+i<_&&g.push(p,_),_+i<y&&g.push(_,y))}for(let y=0;y<h;++y)f[y]&&(o[u++]=a[t+y*i],o[u++]=a[t+y*i+1]);return u}function I1(a,t,e,i,r,o,u,h){for(let f=0,g=e.length;f<g;++f){const _=e[f];u=Ic(a,t,_,i,r,o,u),h.push(u),t=_}return u}function ur(a,t){return t*Math.round(a/t)}function NT(a,t,e,i,r,o,u){if(t==e)return u;let h=ur(a[t],r),f=ur(a[t+1],r);t+=i,o[u++]=h,o[u++]=f;let g,_;do if(g=ur(a[t],r),_=ur(a[t+1],r),t+=i,t==e)return o[u++]=g,o[u++]=_,u;while(g==h&&_==f);for(;t<e;){const y=ur(a[t],r),p=ur(a[t+1],r);if(t+=i,y==g&&p==_)continue;const E=g-h,x=_-f,T=y-h,C=p-f;if(E*C==x*T&&(E<0&&T<E||E==T||E>0&&T>E)&&(x<0&&C<x||x==C||x>0&&C>x)){g=y,_=p;continue}o[u++]=g,o[u++]=_,h=g,f=_,g=y,_=p}return o[u++]=g,o[u++]=_,u}function wg(a,t,e,i,r,o,u,h){for(let f=0,g=e.length;f<g;++f){const _=e[f];u=NT(a,t,_,i,r,o,u),h.push(u),t=_}return u}function zT(a,t,e,i,r,o,u,h){for(let f=0,g=e.length;f<g;++f){const _=e[f],y=[];u=wg(a,t,_,i,r,o,u,y),h.push(y),t=_[_.length-1]}return u}class io extends Is{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}clone(){return new io(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,r){return r<Sr(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Cg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,r))}getArea(){return D1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Rs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=Ic(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new io(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Oc(this.flatCoordinates,0,t,this.stride),this.changed()}}class ai extends Is{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new ai(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){const o=this.flatCoordinates,u=Ui(t,e,o[0],o[1]);if(u<r){const h=this.stride;for(let f=0;f<h;++f)i[f]=o[f];return i.length=h,u}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Wl(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return og(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=O1(this.flatCoordinates,0,t,this.stride),this.changed()}}function FT(a,t,e,i,r){return!cg(r,function(u){return!hr(a,t,e,i,u[0],u[1])})}function hr(a,t,e,i,r,o){let u=0,h=a[e-i],f=a[e-i+1];for(;t<e;t+=i){const g=a[t],_=a[t+1];f<=o?_>o&&(g-h)*(o-f)-(r-h)*(_-f)>0&&u++:_<=o&&(g-h)*(o-f)-(r-h)*(_-f)<0&&u--,h=g,f=_}return u!==0}function bg(a,t,e,i,r,o){if(e.length===0||!hr(a,t,e[0],i,r,o))return!1;for(let u=1,h=e.length;u<h;++u)if(hr(a,e[u-1],e[u],i,r,o))return!1;return!0}function GT(a,t,e,i,r,o){if(e.length===0)return!1;for(let u=0,h=e.length;u<h;++u){const f=e[u];if(bg(a,t,f,i,r,o))return!0;t=f[f.length-1]}return!1}function Mg(a,t,e,i,r,o,u){let h,f,g,_,y,p,E;const x=r[o+1],T=[];for(let M=0,A=e.length;M<A;++M){const L=e[M];for(_=a[L-i],p=a[L-i+1],h=t;h<L;h+=i)y=a[h],E=a[h+1],(x<=p&&E<=x||p<=x&&x<=E)&&(g=(x-p)/(E-p)*(y-_)+_,T.push(g)),_=y,p=E}let C=NaN,R=-1/0;for(T.sort(Pi),_=T[0],h=1,f=T.length;h<f;++h){y=T[h];const M=Math.abs(y-_);M>R&&(g=(_+y)/2,bg(a,t,e,i,g,x)&&(C=g,R=M)),_=y}return isNaN(C)&&(C=r[o]),u?(u.push(C,x,R),u):[C,x,R]}function N1(a,t,e,i,r){let o=[];for(let u=0,h=e.length;u<h;++u){const f=e[u];o=Mg(a,t,f,i,r,2*u,o),t=f[f.length-1]}return o}function z1(a,t,e,i,r){let o;for(t+=i;t<e;t+=i)if(o=r(a.slice(t-i,t),a.slice(t,t+i)),o)return o;return!1}function Nc(a,t,e,i,r,o){return o=o??m1(hn(),a,t,e,i),He(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:z1(a,t,e,i,function(u,h){return kC(r,u,h)}):!1}function kT(a,t,e,i,r){for(let o=0,u=e.length;o<u;++o){if(Nc(a,t,e[o],i,r))return!0;t=e[o]}return!1}function F1(a,t,e,i,r){return!!(Nc(a,t,e,i,r)||hr(a,t,e,i,r[0],r[1])||hr(a,t,e,i,r[0],r[3])||hr(a,t,e,i,r[2],r[1])||hr(a,t,e,i,r[2],r[3]))}function G1(a,t,e,i,r){if(!F1(a,t,e[0],i,r))return!1;if(e.length===1)return!0;for(let o=1,u=e.length;o<u;++o)if(FT(a,e[o-1],e[o],i,r)&&!Nc(a,e[o-1],e[o],i,r))return!1;return!0}function PT(a,t,e,i,r){for(let o=0,u=e.length;o<u;++o){const h=e[o];if(G1(a,t,h,i,r))return!0;t=h[h.length-1]}return!1}function UT(a,t,e,i){for(;t<e-i;){for(let r=0;r<i;++r){const o=a[t+r];a[t+r]=a[e-i+r],a[e-i+r]=o}t+=i,e-=i}}function Ag(a,t,e,i){let r=0,o=a[e-i],u=a[e-i+1];for(;t<e;t+=i){const h=a[t],f=a[t+1];r+=(h-o)*(f+u),o=h,u=f}return r===0?void 0:r>0}function k1(a,t,e,i,r){r=r!==void 0?r:!1;for(let o=0,u=e.length;o<u;++o){const h=e[o],f=Ag(a,t,h,i);if(o===0){if(r&&f||!r&&!f)return!1}else if(r&&!f||!r&&f)return!1;t=h}return!0}function YT(a,t,e,i,r){for(let o=0,u=e.length;o<u;++o){const h=e[o];if(!k1(a,t,h,i,r))return!1;h.length&&(t=h[h.length-1])}return!0}function jd(a,t,e,i,r){r=r!==void 0?r:!1;for(let o=0,u=e.length;o<u;++o){const h=e[o],f=Ag(a,t,h,i);(o===0?r&&f||!r&&!f:r&&!f||!r&&f)&&UT(a,t,h,i),t=h}return t}function ap(a,t,e,i,r){for(let o=0,u=e.length;o<u;++o)t=jd(a,t,e[o],i,r);return t}function XT(a,t){const e=[];let i=0,r=0,o;for(let u=0,h=t.length;u<h;++u){const f=t[u],g=Ag(a,i,f,2);if(o===void 0&&(o=g),g===o)e.push(t.slice(r,u+1));else{if(e.length===0)continue;e[e.length-1].push(t[r])}r=u+1,i=f}return e}class oi extends Is{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,e!==void 0&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?ri(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new oi(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,r){return r<Sr(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Sg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Tg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,r))}containsXY(t,e){return bg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return L1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),jd(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,no(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Ds(this.getExtent());this.flatInteriorPoint_=Mg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ai(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new io(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,i=this.ends_,r=[];let o=0;for(let u=0,h=i.length;u<h;++u){const f=i[u],g=new io(e.slice(o,f),t);r.push(g),o=f}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;k1(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=jd(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=wg(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new oi(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return G1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Rg(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function lp(a){if(bc(a))throw new Error("Cannot create polygon from empty extent");const t=a[0],e=a[1],i=a[2],r=a[3],o=[t,e,t,r,i,r,i,e,t,e];return new oi(o,"XY",[o.length])}function BT(a,t,e){t=t||32;const i=a.getStride(),r=a.getLayout(),o=a.getCenter(),u=i*(t+1),h=new Array(u);for(let _=0;_<u;_+=i){h[_]=0,h[_+1]=0;for(let y=2;y<i;y++)h[_+y]=o[y]}const f=[h.length],g=new oi(h,r,f);return HT(g,o,a.getRadius()),g}function HT(a,t,e,i){const r=a.getFlatCoordinates(),o=a.getStride(),u=r.length/o-1,h=0;for(let f=0;f<=u;++f){const g=f*o,_=h+_r(f,u)*2*Math.PI/u;r[g]=t[0]+e*Math.cos(_),r[g+1]=t[1]+e*Math.sin(_)}a.changed()}function oc(a,t,e,i,r,o,u){let h,f;const g=(e-t)/i;if(g===1)h=t;else if(g===2)h=t,f=r;else if(g!==0){let _=a[t],y=a[t+1],p=0;const E=[0];for(let C=t+i;C<e;C+=i){const R=a[C],M=a[C+1];p+=Math.sqrt((R-_)*(R-_)+(M-y)*(M-y)),E.push(p),_=R,y=M}const x=r*p,T=bC(E,x);T<0?(f=(x-E[-T-2])/(E[-T-1]-E[-T-2]),h=t+(-T-2)*i):h=t+T*i}u=u>1?u:2,o=o||new Array(u);for(let _=0;_<u;++_)o[_]=h===void 0?NaN:f===void 0?a[h+_]:cn(a[h+_],a[h+i+_],f);return o}function Vd(a,t,e,i,r,o){if(e==t)return null;let u;if(r<a[t+i-1])return o?(u=a.slice(t,t+i),u[i-1]=r,u):null;if(a[e-1]<r)return o?(u=a.slice(e-i,e),u[i-1]=r,u):null;if(r==a[t+i-1])return a.slice(t,t+i);let h=t/i,f=e/i;for(;h<f;){const p=h+f>>1;r<a[(p+1)*i-1]?f=p:h=p+1}const g=a[h*i-1];if(r==g)return a.slice((h-1)*i,(h-1)*i+i);const _=a[(h+1)*i-1],y=(r-g)/(_-g);u=[];for(let p=0;p<i-1;++p)u.push(cn(a[(h-1)*i+p],a[h*i+p],y));return u.push(r),u}function jT(a,t,e,i,r,o,u){if(u)return Vd(a,t,e[e.length-1],i,r,o);let h;if(r<a[i-1])return o?(h=a.slice(0,i),h[i-1]=r,h):null;if(a[a.length-1]<r)return o?(h=a.slice(a.length-i),h[i-1]=r,h):null;for(let f=0,g=e.length;f<g;++f){const _=e[f];if(t!=_){if(r<a[t+i-1])return null;if(r<=a[_-1])return Vd(a,t,_,i,r,!1);t=_}}return null}function P1(a,t,e,i){let r=a[t],o=a[t+1],u=0;for(let h=t+i;h<e;h+=i){const f=a[h],g=a[h+1];u+=Math.sqrt((f-r)*(f-r)+(g-o)*(g-o)),r=f,o=g}return u}class Xi extends Is{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendCoordinate(t){ri(this.flatCoordinates,t),this.changed()}clone(){const t=new Xi(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){return r<Sr(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Cg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,r))}forEachSegment(t){return z1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return this.layout!="XYM"&&this.layout!="XYZM"?null:(e=e!==void 0?e:!1,Vd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return Rs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return oc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return P1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=Ic(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new Xi(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return Nc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Oc(this.flatCoordinates,0,t,this.stride),this.changed()}}const bn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Os=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",VT=Os.includes("firefox"),ZT=Os.includes("safari")&&!Os.includes("chrom");ZT&&(Os.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Os));const qT=Os.includes("webkit")&&!Os.includes("edge"),U1=Os.includes("macintosh"),Y1=typeof devicePixelRatio<"u"?devicePixelRatio:1,X1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,B1=typeof Image<"u"&&Image.prototype.decode,H1=function(){let a=!1;try{const t=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return a}(),Ct={IDLE:0,LOADING:1,LOADED:2,ERROR:3},op={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var up={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function KT(a){var _,y;var t,e=[],i=1,r;if(typeof a=="number")return{space:"rgb",values:[a>>>16,(a&65280)>>>8,a&255],alpha:1};if(typeof a=="number")return{space:"rgb",values:[a>>>16,(a&65280)>>>8,a&255],alpha:1};if(a=String(a).toLowerCase(),op[a])e=op[a].slice(),r="rgb";else if(a==="transparent")i=0,r="rgb",e=[0,0,0];else if(a[0]==="#"){var o=a.slice(1),u=o.length,h=u<=4;i=1,h?(e=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],u===4&&(i=parseInt(o[3]+o[3],16)/255)):(e=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],u===8&&(i=parseInt(o[6]+o[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),r="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(a)){var f=t[1];r=f.replace(/a$/,"");var g=r==="cmyk"?4:r==="gray"?1:3;e=t[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=e.shift()),e=e.map(function(p,E){if(p[p.length-1]==="%")return p=parseFloat(p)/100,E===3?p:r==="rgb"?p*255:r[0]==="h"||r[0]==="l"&&!E?p*100:r==="lab"?p*125:r==="lch"?E<2?p*150:p*360:r[0]==="o"&&!E?p:r==="oklab"?p*.4:r==="oklch"?E<2?p*.4:p*360:p;if(r[E]==="h"||E===2&&r[r.length-1]==="h"){if(up[p]!==void 0)return up[p];if(p.endsWith("deg"))return parseFloat(p);if(p.endsWith("turn"))return parseFloat(p)*360;if(p.endsWith("grad"))return parseFloat(p)*360/400;if(p.endsWith("rad"))return parseFloat(p)*180/Math.PI}return p==="none"?0:parseFloat(p)}),i=e.length>g?e.pop():1}else/[0-9](?:\s|\/|,)/.test(a)&&(e=a.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),r=((y=(_=a.match(/([a-z])/ig))==null?void 0:_.join(""))==null?void 0:y.toLowerCase())||"rgb");return{space:r,values:e,alpha:i}}const so={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var ud={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(a){var t=a[0]/360,e=a[1]/100,i=a[2]/100,r,o,u,h,f,g=0;if(e===0)return f=i*255,[f,f,f];for(o=i<.5?i*(1+e):i+e-i*e,r=2*i-o,h=[0,0,0];g<3;)u=t+1/3*-(g-1),u<0?u++:u>1&&u--,f=6*u<1?r+(o-r)*6*u:2*u<1?o:3*u<2?r+(o-r)*(2/3-u)*6:r,h[g++]=f*255;return h}};so.hsl=function(a){var t=a[0]/255,e=a[1]/255,i=a[2]/255,r=Math.min(t,e,i),o=Math.max(t,e,i),u=o-r,h,f,g;return o===r?h=0:t===o?h=(e-i)/u:e===o?h=2+(i-t)/u:i===o&&(h=4+(t-e)/u),h=Math.min(h*60,360),h<0&&(h+=360),g=(r+o)/2,o===r?f=0:g<=.5?f=u/(o+r):f=u/(2-o-r),[h,f*100,g*100]};function WT(a){Array.isArray(a)&&a.raw&&(a=String.raw(...arguments)),a instanceof Number&&(a=+a);var t,e=KT(a);if(!e.space)return[];const i=e.space[0]==="h"?ud.min:so.min,r=e.space[0]==="h"?ud.max:so.max;return t=Array(3),t[0]=Math.min(Math.max(e.values[0],i[0]),r[0]),t[1]=Math.min(Math.max(e.values[1],i[1]),r[1]),t[2]=Math.min(Math.max(e.values[2],i[2]),r[2]),e.space[0]==="h"&&(t=ud.rgb(t)),t.push(Math.min(Math.max(e.alpha,0),1)),t}const Fe={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Fe.max=Fe.whitepoint[2].D65;Fe.rgb=function(a,t){t=t||Fe.whitepoint[2].E;var e=a[0]/t[0],i=a[1]/t[1],r=a[2]/t[2],o,u,h;return o=e*3.240969941904521+i*-1.537383177570093+r*-.498610760293,u=e*-.96924363628087+i*1.87596750150772+r*.041555057407175,h=e*.055630079696993+i*-.20397695888897+r*1.056971514242878,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u=u*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,o=Math.min(Math.max(0,o),1),u=Math.min(Math.max(0,u),1),h=Math.min(Math.max(0,h),1),[o*255,u*255,h*255]};so.xyz=function(a,t){var e=a[0]/255,i=a[1]/255,r=a[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var o=e*.41239079926595+i*.35758433938387+r*.18048078840183,u=e*.21263900587151+i*.71516867876775+r*.072192315360733,h=e*.019330818715591+i*.11919477979462+r*.95053215224966;return t=t||Fe.whitepoint[2].E,[o*t[0],u*t[1],h*t[2]]};var Dg={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(a,t,e){var i,r,o,u,h,f,g,_,y,p,E,x,T;if(o=a[0],u=a[1],h=a[2],o===0)return[0,0,0];var C=.0011070564598794539;return t=t||"D65",e=e||2,y=Fe.whitepoint[e][t][0],p=Fe.whitepoint[e][t][1],E=Fe.whitepoint[e][t][2],x=4*y/(y+15*p+3*E),T=9*p/(y+15*p+3*E),i=u/(13*o)+x||0,r=h/(13*o)+T||0,g=o>8?p*Math.pow((o+16)/116,3):p*o*C,f=g*9*i/(4*r)||0,_=g*(12-3*i-20*r)/(4*r)||0,[f,g,_]}};Fe.luv=function(a,t,e){var i,r,o,u,h,f,g,_,y,p,E,x,T,C=.008856451679035631,R=903.2962962962961;t=t||"D65",e=e||2,y=Fe.whitepoint[e][t][0],p=Fe.whitepoint[e][t][1],E=Fe.whitepoint[e][t][2],x=4*y/(y+15*p+3*E),T=9*p/(y+15*p+3*E),f=a[0],g=a[1],_=a[2],i=4*f/(f+15*g+3*_)||0,r=9*g/(f+15*g+3*_)||0;var M=g/p;return o=M<=C?R*M:116*Math.pow(M,1/3)-16,u=13*o*(i-x),h=13*o*(r-T),[o,u,h]};var j1={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(a){var t=a[0],e=a[1],i=a[2],r,o,u;return u=i/360*2*Math.PI,r=e*Math.cos(u),o=e*Math.sin(u),[t,r,o]},xyz:function(a){return Dg.xyz(j1.luv(a))}};Dg.lchuv=function(a){var t=a[0],e=a[1],i=a[2],r=Math.sqrt(e*e+i*i),o=Math.atan2(i,e),u=o*360/2/Math.PI;return u<0&&(u+=360),[t,r,u]};Fe.lchuv=function(a){return Dg.lchuv(Fe.luv(a))};const Lg=[NaN,NaN,NaN,0];function QT(a){return typeof a=="string"?a:Ig(a)}const JT=1024,Pl={};let cd=0;function $T(a){if(a.length===4)return a;const t=a.slice();return t[3]=1,t}function cp(a){const t=Fe.lchuv(so.xyz(a));return t[3]=a[3],t}function tR(a){const t=Fe.rgb(j1.xyz(a));return t[3]=a[3],t}function Og(a){if(a==="none")return Lg;if(Pl.hasOwnProperty(a))return Pl[a];if(cd>=JT){let e=0;for(const i in Pl)(e++&3)===0&&(delete Pl[i],--cd)}const t=WT(a);if(t.length!==4)throw new Error('failed to parse "'+a+'" as color');for(const e of t)if(isNaN(e))throw new Error('failed to parse "'+a+'" as color');return V1(t),Pl[a]=t,++cd,t}function La(a){return Array.isArray(a)?a:Og(a)}function V1(a){return a[0]=ie(a[0]+.5|0,0,255),a[1]=ie(a[1]+.5|0,0,255),a[2]=ie(a[2]+.5|0,0,255),a[3]=ie(a[3],0,1),a}function Ig(a){let t=a[0];t!=(t|0)&&(t=t+.5|0);let e=a[1];e!=(e|0)&&(e=e+.5|0);let i=a[2];i!=(i|0)&&(i=i+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+t+","+e+","+i+","+r+")"}function ve(a,t,e,i){let r;return e&&e.length?r=e.shift():X1?r=new OffscreenCanvas(a||300,t||300):r=document.createElement("canvas"),a&&(r.width=a),t&&(r.height=t),r.getContext("2d",i)}let hd;function uc(){return hd||(hd=ve(1,1)),hd}function zc(a){const t=a.canvas;t.width=1,t.height=1,a.clearRect(0,0,1,1)}function hp(a,t){const e=t.parentNode;e&&e.replaceChild(a,t)}function eR(a){for(;a.lastChild;)a.lastChild.remove()}function nR(a,t){const e=a.childNodes;for(let i=0;;++i){const r=e[i],o=t[i];if(!r&&!o)break;if(r!==o){if(!r){a.appendChild(o);continue}if(!o){a.removeChild(r),--i;continue}a.insertBefore(o,r)}}}function iR(a,t,e){const i=a;let r=!0,o=!1,u=!1;const h=[nc(i,mt.LOAD,function(){u=!0,o||t()})];return i.src&&B1?(o=!0,i.decode().then(function(){r&&t()}).catch(function(f){r&&(u?t():e())})):h.push(nc(i,mt.ERROR,e)),function(){r=!1,h.forEach(Bt)}}function sR(a,t){return new Promise((e,i)=>{function r(){u(),e(a)}function o(){u(),i(new Error("Image load error"))}function u(){a.removeEventListener("load",r),a.removeEventListener("error",o)}a.addEventListener("load",r),a.addEventListener("error",o)})}function rR(a,t){return t&&(a.src=t),a.src&&B1?new Promise((e,i)=>a.decode().then(()=>e(a)).catch(r=>a.complete&&a.width?e(a):i(r))):sR(a)}class aR{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const i=this.cache_[e];(t++&3)===0&&!i.hasListener()&&(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,i){const r=fd(t,e,i);return r in this.cache_?this.cache_[r]:null}getPattern(t,e,i){const r=fd(t,e,i);return r in this.patternCache_?this.patternCache_[r]:null}set(t,e,i,r,o){const u=fd(t,e,i),h=u in this.cache_;this.cache_[u]=r,o&&(r.getImageState()===Ct.IDLE&&r.load(),r.getImageState()===Ct.LOADING?r.ready().then(()=>{this.patternCache_[u]=uc().createPattern(r.getImage(1),"repeat")}):this.patternCache_[u]=uc().createPattern(r.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function fd(a,t,e){const i=e?La(e):"null";return t+":"+a+":"+i}const Mn=new aR;let Ul=null;class Z1 extends Cc{constructor(t,e,i,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?Ct.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Ct.LOADED){Ul||(Ul=ve(1,1,void 0,{willReadFrequently:!0})),Ul.drawImage(this.image_,0,0);try{Ul.getImageData(0,0,1,1),this.tainted_=!1}catch{Ul=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(mt.CHANGE)}handleImageError_(){this.imageState_=Ct.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ct.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=ve(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ct.IDLE){this.image_||this.initializeImage_(),this.imageState_=Ct.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&rR(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Ct.LOADED)return;const e=this.image_,i=ve(Math.ceil(e.width*t),Math.ceil(e.height*t)),r=i.canvas;i.scale(t,t),i.drawImage(e,0,0),i.globalCompositeOperation="multiply",i.fillStyle=QT(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Ct.LOADED||this.imageState_===Ct.ERROR)t();else{const e=()=>{(this.imageState_===Ct.LOADED||this.imageState_===Ct.ERROR)&&(this.removeEventListener(mt.CHANGE,e),t())};this.addEventListener(mt.CHANGE,e)}})),this.ready_}}function Ng(a,t,e,i,r,o){let u=t===void 0?void 0:Mn.get(t,e,r);return u||(u=new Z1(a,a&&"src"in a?a.src||void 0:t,e,i,r),Mn.set(t,e,r,u,o)),o&&u&&!Mn.getPattern(t,e,r)&&Mn.set(t,e,r,u,o),u}function si(a){return a?Array.isArray(a)?Ig(a):typeof a=="object"&&"src"in a?lR(a):a:null}function lR(a){if(!a.offset||!a.size)return Mn.getPattern(a.src,"anonymous",a.color);const t=a.src+":"+a.offset,e=Mn.getPattern(t,void 0,a.color);if(e)return e;const i=Mn.get(a.src,"anonymous",null);if(i.getImageState()!==Ct.LOADED)return null;const r=ve(a.size[0],a.size[1]);return r.drawImage(i.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),Ng(r.canvas,t,void 0,Ct.LOADED,a.color,!0),Mn.getPattern(t,void 0,a.color)}class q1{drawCustom(t,e,i,r,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,i){}drawFeature(t,e,i){}drawGeometryCollection(t,e,i){}drawLineString(t,e,i){}drawMultiLineString(t,e,i){}drawMultiPoint(t,e,i){}drawMultiPolygon(t,e,i){}drawPoint(t,e,i){}drawPolygon(t,e,i){}drawText(t,e,i){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}const Yu="ol-hidden",Fc="ol-unselectable",zg="ol-control",fp="ol-collapsed",oR=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),dp=["style","variant","weight","size","lineHeight","family"],K1=function(a){const t=a.match(oR);if(!t)return null;const e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=dp.length;i<r;++i){const o=t[i+1];o!==void 0&&(e[dp[i]]=o)}return e.families=e.family.split(/,\s?/),e},W1="10px sans-serif",We="#000",Oa="round",Bi=[],Hi=0,Ia="round",ro=10,ao="#000",lo="center",cc="middle",fr=[0,0,0,0],oo=1,Ii=new ci;let ga=null,Zd;const qd={},uR=function(){const t="32px ",e=["monospace","serif"],i=e.length,r="wmytzilWMYTZIL@#/&?$%10";let o,u;function h(g,_,y){let p=!0;for(let E=0;E<i;++E){const x=e[E];if(u=hc(g+" "+_+" "+t+x,r),y!=x){const T=hc(g+" "+_+" "+t+y+","+x,r);p=p&&T!=u}}return!!p}function f(){let g=!0;const _=Ii.getKeys();for(let y=0,p=_.length;y<p;++y){const E=_[y];if(Ii.get(E)<100){const[x,T,C]=E.split(`
`);h(x,T,C)?(yo(qd),ga=null,Zd=void 0,Ii.set(E,100)):(Ii.set(E,Ii.get(E)+1,!0),g=!1)}}g&&(clearInterval(o),o=void 0)}return function(g){const _=K1(g);if(!_)return;const y=_.families;for(let p=0,E=y.length;p<E;++p){const x=y[p],T=_.style+`
`+_.weight+`
`+x;Ii.get(T)===void 0&&(Ii.set(T,100,!0),h(_.style,_.weight,x)||(Ii.set(T,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),cR=function(){let a;return function(t){let e=qd[t];if(e==null){if(X1){const i=K1(t),r=Q1(t,"Žg");e=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=t,document.body.appendChild(a),e=a.offsetHeight,document.body.removeChild(a);qd[t]=e}return e}}();function Q1(a,t){return ga||(ga=ve(1,1)),a!=Zd&&(ga.font=a,Zd=ga.font),ga.measureText(t)}function hc(a,t){return Q1(a,t).width}function gp(a,t,e){if(t in e)return e[t];const i=t.split(`
`).reduce((r,o)=>Math.max(r,hc(a,o)),0);return e[t]=i,i}function hR(a,t){const e=[],i=[],r=[];let o=0,u=0,h=0,f=0;for(let g=0,_=t.length;g<=_;g+=2){const y=t[g];if(y===`
`||g===_){o=Math.max(o,u),r.push(u),u=0,h+=f,f=0;continue}const p=t[g+1]||a.font,E=hc(p,y);e.push(E),u+=E;const x=cR(p);i.push(x),f=Math.max(f,x)}return{width:o,height:h,widths:e,heights:i,lineWidths:r}}function fR(a,t,e,i,r,o,u,h,f,g,_){a.save(),e!==1&&(a.globalAlpha===void 0?a.globalAlpha=y=>y.globalAlpha*=e:a.globalAlpha*=e),t&&a.transform.apply(a,t),i.contextInstructions?(a.translate(f,g),a.scale(_[0],_[1]),dR(i,a)):_[0]<0||_[1]<0?(a.translate(f,g),a.scale(_[0],_[1]),a.drawImage(i,r,o,u,h,0,0,u,h)):a.drawImage(i,r,o,u,h,f,g,u*_[0],h*_[1]),a.restore()}function dR(a,t){const e=a.contextInstructions;for(let i=0,r=e.length;i<r;i+=2)Array.isArray(e[i+1])?t[e[i]].apply(t,e[i+1]):t[e[i]]=e[i+1]}class gR extends q1{constructor(t,e,i,r,o,u,h){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=r,this.transformRotation_=r?Mc(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=u,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Bn()}drawImages_(t,e,i,r){if(!this.image_)return;const o=Ms(t,e,i,r,this.transform_,this.pixelCoordinates_),u=this.context_,h=this.tmpLocalTransform_,f=u.globalAlpha;this.imageOpacity_!=1&&(u.globalAlpha=f*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let _=0,y=o.length;_<y;_+=2){const p=o[_]-this.imageAnchorX_,E=o[_+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=p+this.imageAnchorX_,T=E+this.imageAnchorY_;Vi(h,x,T,1,1,g,-x,-T),u.save(),u.transform.apply(u,h),u.translate(x,T),u.scale(this.imageScale_[0],this.imageScale_[1]),u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),u.restore()}else u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,E,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(u.globalAlpha=f)}drawText_(t,e,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Ms(t,e,i,r,this.transform_,this.pixelCoordinates_),u=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);e<i;e+=r){const f=o[e]+this.textOffsetX_,g=o[e+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(u.save(),u.translate(f-this.textOffsetX_,g-this.textOffsetY_),u.rotate(h),u.translate(this.textOffsetX_,this.textOffsetY_),u.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&u.strokeText(this.text_,0,0),this.textFillState_&&u.fillText(this.text_,0,0),u.restore()):(this.textStrokeState_&&u.strokeText(this.text_,f,g),this.textFillState_&&u.fillText(this.text_,f,g))}}moveToLineTo_(t,e,i,r,o){const u=this.context_,h=Ms(t,e,i,r,this.transform_,this.pixelCoordinates_);u.moveTo(h[0],h[1]);let f=h.length;o&&(f-=2);for(let g=2;g<f;g+=2)u.lineTo(h[g],h[g+1]);return o&&u.closePath(),i}drawRings_(t,e,i,r){for(let o=0,u=i.length;o<u;++o)e=this.moveToLineTo_(t,e,i[o],r,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!He(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=AT(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],r=e[3]-e[1],o=Math.sqrt(i*i+r*r),u=this.context_;u.beginPath(),u.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&u.fill(),this.strokeState_&&u.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,e){const i=e.getGeometryFunction()(t);i&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let i=0,r=e.length;i<r;++i)this.drawGeometry(e[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!He(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(He(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=t.getFlatCoordinates();let o=0;const u=t.getEnds(),h=t.getStride();i.beginPath();for(let f=0,g=u.length;f<g;++f)o=this.moveToLineTo_(r,o,u[f],h,!1);i.stroke()}if(this.text_!==""){const i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!He(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!He(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getOrientedFlatCoordinates();let r=0;const o=t.getEndss(),u=t.getStride();e.beginPath();for(let h=0,f=o.length;h<f;++h){const g=o[h];r=this.drawRings_(i,r,g,u)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),qi(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:lo;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=r&&(i.textAlign=r,e.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(!t)this.fillState_=null;else{const i=t.getColor();this.fillState_={fillStyle:si(i||We)}}if(!e)this.strokeState_=null;else{const i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),u=e.getLineDashOffset(),h=e.getLineJoin(),f=e.getWidth(),g=e.getMiterLimit(),_=o||Bi;this.strokeState_={lineCap:r!==void 0?r:Oa,lineDash:this.pixelRatio_===1?_:_.map(y=>y*this.pixelRatio_),lineDashOffset:(u||Hi)*this.pixelRatio_,lineJoin:h!==void 0?h:Ia,lineWidth:(f!==void 0?f:oo)*this.pixelRatio_,miterLimit:g!==void 0?g:ro,strokeStyle:si(i||ao)}}}setImageStyle(t){let e;if(!t||!(e=t.getSize())){this.image_=null;return}const i=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const u=t.getScaleArray();this.imageScale_=[u[0]*this.pixelRatio_/i,u[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(!t)this.text_="";else{const e=t.getFill();if(!e)this.textFillState_=null;else{const E=e.getColor();this.textFillState_={fillStyle:si(E||We)}}const i=t.getStroke();if(!i)this.textStrokeState_=null;else{const E=i.getColor(),x=i.getLineCap(),T=i.getLineDash(),C=i.getLineDashOffset(),R=i.getLineJoin(),M=i.getWidth(),A=i.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:Oa,lineDash:T||Bi,lineDashOffset:C||Hi,lineJoin:R!==void 0?R:Ia,lineWidth:M!==void 0?M:oo,miterLimit:A!==void 0?A:ro,strokeStyle:si(E||ao)}}const r=t.getFont(),o=t.getOffsetX(),u=t.getOffsetY(),h=t.getRotateWithView(),f=t.getRotation(),g=t.getScaleArray(),_=t.getText(),y=t.getTextAlign(),p=t.getTextBaseline();this.textState_={font:r!==void 0?r:W1,textAlign:y!==void 0?y:lo,textBaseline:p!==void 0?p:cc},this.text_=_!==void 0?Array.isArray(_)?_.reduce((E,x,T)=>E+=T%2?" ":x,""):_:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=u!==void 0?this.pixelRatio_*u:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=f!==void 0?f:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const _R=.5,J1={Point:CR,LineString:ER,Polygon:RR,MultiPoint:TR,MultiLineString:xR,MultiPolygon:SR,GeometryCollection:vR,Circle:yR};function mR(a,t){return parseInt(St(a),10)-parseInt(St(t),10)}function _p(a,t){const e=$1(a,t);return e*e}function $1(a,t){return _R*a/t}function yR(a,t,e,i,r){const o=e.getFill(),u=e.getStroke();if(o||u){const f=a.getBuilder(e.getZIndex(),"Circle");f.setFillStrokeStyle(o,u),f.drawCircle(t,i,r)}const h=e.getText();if(h&&h.getText()){const f=a.getBuilder(e.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,i)}}function mp(a,t,e,i,r,o,u,h){const f=[],g=e.getImage();if(g){let p=!0;const E=g.getImageState();E==Ct.LOADED||E==Ct.ERROR?p=!1:E==Ct.IDLE&&g.load(),p&&f.push(g.ready())}const _=e.getFill();_&&_.loading()&&f.push(_.ready());const y=f.length>0;return y&&Promise.all(f).then(()=>r(null)),pR(a,t,e,i,o,u,h),y}function pR(a,t,e,i,r,o,u){const h=e.getGeometryFunction()(t);if(!h)return;const f=h.simplifyTransformed(i,r);if(e.getRenderer())tv(a,f,e,t,u);else{const _=J1[f.getType()];_(a,f,e,t,u,o)}}function tv(a,t,e,i,r){if(t.getType()=="GeometryCollection"){const u=t.getGeometries();for(let h=0,f=u.length;h<f;++h)tv(a,u[h],e,i,r);return}a.getBuilder(e.getZIndex(),"Default").drawCustom(t,i,e.getRenderer(),e.getHitDetectionRenderer(),r)}function vR(a,t,e,i,r,o){const u=t.getGeometriesArray();let h,f;for(h=0,f=u.length;h<f;++h){const g=J1[u[h].getType()];g(a,u[h],e,i,r,o)}}function ER(a,t,e,i,r){const o=e.getStroke();if(o){const h=a.getBuilder(e.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,i,r)}const u=e.getText();if(u&&u.getText()){const h=a.getBuilder(e.getZIndex(),"Text");h.setTextStyle(u),h.drawText(t,i,r)}}function xR(a,t,e,i,r){const o=e.getStroke();if(o){const h=a.getBuilder(e.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,i,r)}const u=e.getText();if(u&&u.getText()){const h=a.getBuilder(e.getZIndex(),"Text");h.setTextStyle(u),h.drawText(t,i,r)}}function SR(a,t,e,i,r){const o=e.getFill(),u=e.getStroke();if(u||o){const f=a.getBuilder(e.getZIndex(),"Polygon");f.setFillStrokeStyle(o,u),f.drawMultiPolygon(t,i,r)}const h=e.getText();if(h&&h.getText()){const f=a.getBuilder(e.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,i,r)}}function CR(a,t,e,i,r,o){const u=e.getImage(),h=e.getText(),f=h&&h.getText(),g=o&&u&&f?{}:void 0;if(u){if(u.getImageState()!=Ct.LOADED)return;const _=a.getBuilder(e.getZIndex(),"Image");_.setImageStyle(u,g),_.drawPoint(t,i,r)}if(f){const _=a.getBuilder(e.getZIndex(),"Text");_.setTextStyle(h,g),_.drawText(t,i,r)}}function TR(a,t,e,i,r,o){const u=e.getImage(),h=u&&u.getOpacity()!==0,f=e.getText(),g=f&&f.getText(),_=o&&h&&g?{}:void 0;if(h){if(u.getImageState()!=Ct.LOADED)return;const y=a.getBuilder(e.getZIndex(),"Image");y.setImageStyle(u,_),y.drawMultiPoint(t,i,r)}if(g){const y=a.getBuilder(e.getZIndex(),"Text");y.setTextStyle(f,_),y.drawText(t,i,r)}}function RR(a,t,e,i,r){const o=e.getFill(),u=e.getStroke();if(o||u){const f=a.getBuilder(e.getZIndex(),"Polygon");f.setFillStrokeStyle(o,u),f.drawPolygon(t,i,r)}const h=e.getText();if(h&&h.getText()){const f=a.getBuilder(e.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,i,r)}}let wR=!1;function bR(a,t,e,i,r,o,u){const h=new XMLHttpRequest;h.open("GET",typeof a=="function"?a(e,i,r):a,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=wR,h.onload=function(f){if(!h.status||h.status>=200&&h.status<300){const g=t.getType();try{let _;g=="text"||g=="json"?_=h.responseText:g=="xml"?_=h.responseXML||h.responseText:g=="arraybuffer"&&(_=h.response),_?o(t.readFeatures(_,{extent:e,featureProjection:r}),t.readProjection(_)):u()}catch{u()}}else u()},h.onerror=u,h.send()}function yp(a,t){return function(e,i,r,o,u){bR(a,t,e,i,r,(h,f)=>{this.addFeatures(h),o!==void 0&&o(h)},u||ba)}}function MR(a,t){return[[-1/0,-1/0,1/0,1/0]]}function ev(a,t,e,i){const r=[];let o=hn();for(let u=0,h=e.length;u<h;++u){const f=e[u];o=ug(a,t,f[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=f[f.length-1]}return r}class Gc extends Is{constructor(t,e,i){super(),i!==void 0&&e===void 0?this.setFlatCoordinates(i,t):(e=e||0,this.setCenterAndRadius(t,e,i))}clone(){const t=new Gc(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){const o=this.flatCoordinates,u=t-o[0],h=e-o[1],f=u*u+h*h;if(f<r){if(f===0)for(let g=0;g<this.stride;++g)i[g]=o[g];else{const g=this.getRadius()/Math.sqrt(f);i[0]=o[0]+g*u,i[1]=o[1]+g*h;for(let _=2;_<this.stride;++_)i[_]=o[_]}return i.length=this.stride,f}return r}containsXY(t,e){const i=this.flatCoordinates,r=t-i[0],o=e-i[1];return r*r+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,i=e[this.stride]-e[0];return ji(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){const e=this.getExtent();if(He(t,e)){const i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||t[1]<=i[1]&&t[3]>=i[1]?!0:cg(t,this.intersectsCoordinate.bind(this))}return!1}setCenter(t){const e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+i;for(let o=1;o<e;++o)r[e+o]=t[o];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let o=O1(r,0,t,this.stride);r[o++]=r[0]+e;for(let u=1,h=this.stride;u<h;++u)r[o++]=r[u];r.length=o,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const i=this.getCenter(),r=this.getStride();this.setCenter(Eg(i,0,i.length,r,t,e,i)),this.changed()}}Gc.prototype.transform;class fc extends A1{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Bt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let e=0,i=t.length;e<i;++e)this.changeEventsKeys_.push(wt(t[e],mt.CHANGE,this.changed,this))}clone(){const t=new fc(dd(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,e,i,r){if(r<Sr(this.getExtent(),t,e))return r;const o=this.geometries_;for(let u=0,h=o.length;u<h;++u)r=o[u].closestPointXY(t,e,i,r);return r}containsXY(t,e){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)if(i[r].containsXY(t,e))return!0;return!1}computeExtent(t){Eo(t);const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)_1(t,e[i].getExtent());return t}getGeometries(){return dd(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],i=this.geometries_;let r=!1;for(let o=0,u=i.length;o<u;++o){const h=i[o],f=h.getSimplifiedGeometry(t);e.push(f),f!==h&&(r=!0)}return r?new fc(e):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)if(e[i].intersectsExtent(t))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(t,e){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].rotate(t,e);this.changed()}scale(t,e,i){i||(i=Ds(this.getExtent()));const r=this.geometries_;for(let o=0,u=r.length;o<u;++o)r[o].scale(t,e,i);this.changed()}setGeometries(t){this.setGeometriesArray(dd(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let i=0,r=e.length;i<r;++i)e[i].applyTransform(t);this.changed()}translate(t,e){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function dd(a){return a.map(t=>t.clone())}class uo extends Is{constructor(t,e,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(e!==void 0&&i)this.setFlatCoordinates(e,t),this.ends_=i;else{const r=t,o=[],u=[];for(let f=0,g=r.length;f<g;++f){const _=r[f];ri(o,_.getFlatCoordinates()),u.push(o.length)}const h=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(h,o),this.ends_=u}}appendLineString(t){ri(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new uo(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,r){return r<Sr(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Sg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Tg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,r))}getCoordinateAtM(t,e,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(e=e!==void 0?e:!1,i=i!==void 0?i:!1,jT(this.flatCoordinates,0,this.ends_,this.stride,t,e,i))}getCoordinates(){return no(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new Xi(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,i=this.layout,r=[];let o=0;for(let u=0,h=e.length;u<h;++u){const f=e[u],g=new Xi(t.slice(o,f),i);r.push(g),o=f}return r}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let i=0;const r=this.ends_,o=this.stride;for(let u=0,h=r.length;u<h;++u){const f=r[u],g=oc(e,i,f,o,.5);ri(t,g),i=f}return t}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=I1(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new uo(e,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(t){return kT(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Rg(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class kc extends Is{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){ri(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new kc(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,r){if(r<Sr(this.getExtent(),t,e))return r;const o=this.flatCoordinates,u=this.stride;for(let h=0,f=o.length;h<f;h+=u){const g=Ui(t,e,o[h],o[h+1]);if(g<r){r=g;for(let _=0;_<u;++_)i[_]=o[h+_];i.length=u}}return r}getCoordinates(){return Rs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new ai(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,i=this.stride,r=[];for(let o=0,u=t.length;o<u;o+=i){const h=new ai(t.slice(o,o+i),e);r.push(h)}return r}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,i=this.stride;for(let r=0,o=e.length;r<o;r+=i){const u=e[r],h=e[r+1];if(og(t,u,h))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Oc(this.flatCoordinates,0,t,this.stride),this.changed()}}class co extends Is{constructor(t,e,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){const r=t,o=[],u=[];for(let h=0,f=r.length;h<f;++h){const g=r[h],_=o.length,y=g.getEnds();for(let p=0,E=y.length;p<E;++p)y[p]+=_;ri(o,g.getFlatCoordinates()),u.push(y)}e=r.length===0?this.getLayout():r[0].getLayout(),t=o,i=u}e!==void 0&&i?(this.setFlatCoordinates(e,t),this.endss_=i):this.setCoordinates(t,e)}appendPolygon(t){let e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;ri(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let r=0,o=e.length;r<o;++r)e[r]+=i}this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let r=0;r<t;++r)e[r]=this.endss_[r].slice();const i=new co(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i}closestPointXY(t,e,i,r){return r<Sr(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(LT(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),OT(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,r))}containsXY(t,e){return GT(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return DT(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),ap(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Hd(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=ev(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=N1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new kc(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;YT(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ap(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=zT(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new co(e,"XY",i)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(t===0)e=0;else{const o=this.endss_[t-1];e=o[o.length-1]}const i=this.endss_[t].slice(),r=i[i.length-1];if(e!==0)for(let o=0,u=i.length;o<u;++o)i[o]-=e;return new oi(this.flatCoordinates.slice(e,r),this.layout,i)}getPolygons(){const t=this.layout,e=this.flatCoordinates,i=this.endss_,r=[];let o=0;for(let u=0,h=i.length;u<h;++u){const f=i[u].slice(),g=f[f.length-1];if(o!==0)for(let y=0,p=f.length;y<p;++y)f[y]-=o;const _=new oi(e.slice(o,g),t,f);r.push(_),o=g}return r}getType(){return"MultiPolygon"}intersectsExtent(t){return PT(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=IT(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const pp=Bn();class Un{constructor(t,e,i,r,o,u){this.styleFunction,this.extent_,this.id_=u,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Wl(this.flatCoordinates_):ug(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Ds(this.getExtent());this.flatInteriorPoints_=Mg(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=XT(this.flatCoordinates_,this.ends_),e=ev(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=N1(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=oc(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const i=this.ends_;for(let r=0,o=i.length;r<o;++r){const u=i[r],h=oc(t,e,u,2,.5);ri(this.flatMidpoints_,h),e=u}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=tn(t);const e=t.getExtent(),i=t.getWorldExtent();if(e&&i){const r=je(i)/je(e);Vi(pp,i[0],i[3],r,-r,0,0,0),Ms(this.flatCoordinates_,0,this.flatCoordinates_.length,2,pp,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new Un(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=d1((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=Ic(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=I1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,r);break;case"Polygon":r=[],i.length=wg(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,r);break}return r&&(this.simplifiedGeometry_=new Un(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Un.prototype.getFlatCoordinates=Un.prototype.getOrientedFlatCoordinates;function nv(a,t,e=0,i=a.length-1,r=AR){for(;i>e;){if(i-e>600){const f=i-e+1,g=t-e+1,_=Math.log(f),y=.5*Math.exp(2*_/3),p=.5*Math.sqrt(_*y*(f-y)/f)*(g-f/2<0?-1:1),E=Math.max(e,Math.floor(t-g*y/f+p)),x=Math.min(i,Math.floor(t+(f-g)*y/f+p));nv(a,t,E,x,r)}const o=a[t];let u=e,h=i;for(Yl(a,e,t),r(a[i],o)>0&&Yl(a,e,i);u<h;){for(Yl(a,u,h),u++,h--;r(a[u],o)<0;)u++;for(;r(a[h],o)>0;)h--}r(a[e],o)===0?Yl(a,e,h):(h++,Yl(a,h,i)),h<=t&&(e=h+1),t<=h&&(i=h-1)}}function Yl(a,t,e){const i=a[t];a[t]=a[e],a[e]=i}function AR(a,t){return a<t?-1:a>t?1:0}let iv=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const i=[];if(!Bu(t,e))return i;const r=this.toBBox,o=[];for(;e;){for(let u=0;u<e.children.length;u++){const h=e.children[u],f=e.leaf?r(h):h;Bu(t,f)&&(e.leaf?i.push(h):_d(t,f)?this._all(h,i):o.push(h))}e=o.pop()}return i}collides(t){let e=this.data;if(!Bu(t,e))return!1;const i=[];for(;e;){for(let r=0;r<e.children.length;r++){const o=e.children[r],u=e.leaf?this.toBBox(o):o;if(Bu(t,u)){if(e.leaf||_d(t,u))return!0;i.push(o)}}e=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const i=this.data;this.data=e,e=i}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=_a([]),this}remove(t,e){if(!t)return this;let i=this.data;const r=this.toBBox(t),o=[],u=[];let h,f,g;for(;i||o.length;){if(i||(i=o.pop(),f=o[o.length-1],h=u.pop(),g=!0),i.leaf){const _=DR(t,i.children,e);if(_!==-1)return i.children.splice(_,1),o.push(i),this._condense(o),this}!g&&!i.leaf&&_d(i,r)?(o.push(i),u.push(h),h=0,f=i,i=i.children[0]):f?(h++,i=f.children[h],g=!1):i=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const i=[];for(;t;)t.leaf?e.push(...t.children):i.push(...t.children),t=i.pop();return e}_build(t,e,i,r){const o=i-e+1;let u=this._maxEntries,h;if(o<=u)return h=_a(t.slice(e,i+1)),oa(h,this.toBBox),h;r||(r=Math.ceil(Math.log(o)/Math.log(u)),u=Math.ceil(o/Math.pow(u,r-1))),h=_a([]),h.leaf=!1,h.height=r;const f=Math.ceil(o/u),g=f*Math.ceil(Math.sqrt(u));vp(t,e,i,g,this.compareMinX);for(let _=e;_<=i;_+=g){const y=Math.min(_+g-1,i);vp(t,_,y,f,this.compareMinY);for(let p=_;p<=y;p+=f){const E=Math.min(p+f-1,y);h.children.push(this._build(t,p,E,r-1))}}return oa(h,this.toBBox),h}_chooseSubtree(t,e,i,r){for(;r.push(e),!(e.leaf||r.length-1===i);){let o=1/0,u=1/0,h;for(let f=0;f<e.children.length;f++){const g=e.children[f],_=gd(g),y=IR(t,g)-_;y<u?(u=y,o=_<o?_:o,h=g):y===u&&_<o&&(o=_,h=g)}e=h||e.children[0]}return e}_insert(t,e,i){const r=i?t:this.toBBox(t),o=[],u=this._chooseSubtree(r,this.data,e,o);for(u.children.push(t),jl(u,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)}_split(t,e){const i=t[e],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);const u=this._chooseSplitIndex(i,o,r),h=_a(i.children.splice(u,i.children.length-u));h.height=i.height,h.leaf=i.leaf,oa(i,this.toBBox),oa(h,this.toBBox),e?t[e-1].children.push(h):this._splitRoot(i,h)}_splitRoot(t,e){this.data=_a([t,e]),this.data.height=t.height+1,this.data.leaf=!1,oa(this.data,this.toBBox)}_chooseSplitIndex(t,e,i){let r,o=1/0,u=1/0;for(let h=e;h<=i-e;h++){const f=Hl(t,0,h,this.toBBox),g=Hl(t,h,i,this.toBBox),_=NR(f,g),y=gd(f)+gd(g);_<o?(o=_,r=h,u=y<u?y:u):_===o&&y<u&&(u=y,r=h)}return r||i-e}_chooseSplitAxis(t,e,i){const r=t.leaf?this.compareMinX:LR,o=t.leaf?this.compareMinY:OR,u=this._allDistMargin(t,e,i,r),h=this._allDistMargin(t,e,i,o);u<h&&t.children.sort(r)}_allDistMargin(t,e,i,r){t.children.sort(r);const o=this.toBBox,u=Hl(t,0,e,o),h=Hl(t,i-e,i,o);let f=Xu(u)+Xu(h);for(let g=e;g<i-e;g++){const _=t.children[g];jl(u,t.leaf?o(_):_),f+=Xu(u)}for(let g=i-e-1;g>=e;g--){const _=t.children[g];jl(h,t.leaf?o(_):_),f+=Xu(h)}return f}_adjustParentBBoxes(t,e,i){for(let r=i;r>=0;r--)jl(e[r],t)}_condense(t){for(let e=t.length-1,i;e>=0;e--)t[e].children.length===0?e>0?(i=t[e-1].children,i.splice(i.indexOf(t[e]),1)):this.clear():oa(t[e],this.toBBox)}};function DR(a,t,e){if(!e)return t.indexOf(a);for(let i=0;i<t.length;i++)if(e(a,t[i]))return i;return-1}function oa(a,t){Hl(a,0,a.children.length,t,a)}function Hl(a,t,e,i,r){r||(r=_a(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<e;o++){const u=a.children[o];jl(r,a.leaf?i(u):u)}return r}function jl(a,t){return a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY),a}function LR(a,t){return a.minX-t.minX}function OR(a,t){return a.minY-t.minY}function gd(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function Xu(a){return a.maxX-a.minX+(a.maxY-a.minY)}function IR(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function NR(a,t){const e=Math.max(a.minX,t.minX),i=Math.max(a.minY,t.minY),r=Math.min(a.maxX,t.maxX),o=Math.min(a.maxY,t.maxY);return Math.max(0,r-e)*Math.max(0,o-i)}function _d(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function Bu(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function _a(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function vp(a,t,e,i,r){const o=[t,e];for(;o.length;){if(e=o.pop(),t=o.pop(),e-t<=i)continue;const u=t+Math.ceil((e-t)/i/2)*i;nv(a,u,t,e,r),o.push(t,u,u,e)}}class dc{constructor(t){this.rbush_=new iv(t),this.items_={}}insert(t,e){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[St(e)]=i}load(t,e){const i=new Array(e.length);for(let r=0,o=e.length;r<o;r++){const u=t[r],h=e[r],f={minX:u[0],minY:u[1],maxX:u[2],maxY:u[3],value:h};i[r]=f,this.items_[St(h)]=f}this.rbush_.load(i)}remove(t){const e=St(t),i=this.items_[e];return delete this.items_[e],this.rbush_.remove(i)!==null}update(t,e){const i=this.items_[St(e)],r=[i.minX,i.minY,i.maxX,i.maxY];to(r,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let i;for(let r=0,o=t.length;r<o;r++)if(i=e(t[r]),i)return i;return i}isEmpty(){return Ma(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return ji(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}class sv extends ci{constructor(t){super(),this.projection=tn(t.projection),this.attributions_=Ep(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise(function(i,r){e.viewResolver=i,e.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=Ep(t),this.changed()}setState(t){this.state_=t,this.changed()}}function Ep(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),t=>a):null}const Ne={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class ps extends Dn{constructor(t,e,i){super(t),this.feature=e,this.features=i}}class Fg extends sv{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=ba,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(zt(this.format_,"`format` must be set when `url` is set"),this.loader_=yp(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:MR;const e=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=e?new dc:null,this.loadedExtentsRtree_=new dc,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(t.features)?r=t.features:t.features&&(i=t.features,r=i.getArray()),!e&&i===void 0&&(i=new wn(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=St(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);const i=t.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new ps(Ne.ADDFEATURE,t))}setupChangeEvents_(t,e){e instanceof Un||(this.featureChangeKeys_[t]=[wt(e,mt.CHANGE,this.handleFeatureChange_,this),wt(e,wa.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,e){let i=!0;if(e.getId()!==void 0){const r=String(e.getId());if(!(r in this.idIndex_))this.idIndex_[r]=e;else if(e instanceof Un){const o=this.idIndex_[r];o instanceof Un?Array.isArray(o)?o.push(e):this.idIndex_[r]=[o,e]:i=!1}else i=!1}return i&&(zt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],i=[],r=[];for(let o=0,u=t.length;o<u;o++){const h=t[o],f=St(h);this.addToIndex_(f,h)&&i.push(h)}for(let o=0,u=i.length;o<u;o++){const h=i[o],f=St(h);this.setupChangeEvents_(f,h);const g=h.getGeometry();if(g){const _=g.getExtent();e.push(_),r.push(h)}else this.nullGeometryFeatures_[f]=h}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(Ne.ADDFEATURE))for(let o=0,u=i.length;o<u;o++)this.dispatchEvent(new ps(Ne.ADDFEATURE,i[o]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(Ne.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),this.addEventListener(Ne.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),t.addEventListener(pe.ADD,i=>{e||(e=!0,this.addFeature(i.element),e=!1)}),t.addEventListener(pe.REMOVE,i=>{e||(e=!0,this.removeFeature(i.element),e=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Bt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new ps(Ne.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(r){const o=r.getGeometry();if(o instanceof Un||o.intersectsCoordinate(t))return e(r)})}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,function(i){const r=i.getGeometry();if(r instanceof Un||r.intersectsExtent(t)){const o=e(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ma(this.nullGeometryFeatures_)||ri(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){e.push(i)}),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=v1(t,e);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const i=t[0],r=t[1];let o=null;const u=[NaN,NaN];let h=1/0;const f=[-1/0,-1/0,1/0,1/0];return e=e||yr,this.featuresRtree_.forEachInExtent(f,function(g){if(e(g)){const _=g.getGeometry(),y=h;if(h=_ instanceof Un?0:_.closestPointXY(i,r,u,h),h<y){o=g;const p=Math.sqrt(h);f[0]=i-p,f[1]=r-p,f[2]=i+p,f[3]=r+p}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return e!==void 0?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return e!==void 0?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,i=St(e),r=e.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);else{const u=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(u,e)):this.featuresRtree_&&this.featuresRtree_.update(u,e)}const o=e.getId();if(o!==void 0){const u=o.toString();this.idIndex_[u]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[u]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new ps(Ne.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return e!==void 0?e in this.idIndex_:St(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ma(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,e,i){const r=this.loadedExtentsRtree_,o=this.strategy_(t,e,i);for(let u=0,h=o.length;u<h;++u){const f=o[u];r.forEachInExtent(f,function(_){return Bl(_.extent,f)})||(++this.loadingExtentsCount_,this.dispatchEvent(new ps(Ne.FEATURESLOADSTART)),this.loader_.call(this,f,e,i,_=>{--this.loadingExtentsCount_,this.dispatchEvent(new ps(Ne.FEATURESLOADEND,void 0,_))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ps(Ne.FEATURESLOADERROR))}),r.insert(f,{extent:f.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_,i=e.forEachInExtent(t,function(r){if(to(r.extent,t))return r});i&&e.remove(i)}removeFeatures(t){let e=!1;for(let i=0,r=t.length;i<r;++i)e=this.removeFeatureInternal(t[i])||e;e&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=St(t);if(!(e in this.uidIndex_))return!1;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const i=this.featureChangeKeys_[e];i==null||i.forEach(Bt),delete this.featureChangeKeys_[e];const r=t.getId();if(r!==void 0){const o=r.toString(),u=this.idIndex_[o];u===t?delete this.idIndex_[o]:Array.isArray(u)&&(u.splice(u.indexOf(t),1),u.length===1&&(this.idIndex_[o]=u[0]))}return delete this.uidIndex_[e],this.hasListener(Ne.REMOVEFEATURE)&&this.dispatchEvent(new ps(Ne.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e];break}}setLoader(t){this.loader_=t}setUrl(t){zt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(yp(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}class pr{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new pr({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const e=Ng(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then(()=>{this.patternImage_=null}),e.getImageState()===Ct.IDLE&&e.load(),e.getImageState()===Ct.LOADING&&(this.patternImage_=e)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?St(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:La(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class mr{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new mr({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}function xp(a){return a[0]>0&&a[1]>0}function zR(a,t,e){return e===void 0&&(e=[0,0]),e[0]=a[0]*t+.5|0,e[1]=a[1]*t+.5|0,e}function $e(a,t){return Array.isArray(a)?a:(t===void 0?t=[a,a]:(t[0]=a,t[1]=a),t)}class Pc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=$e(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Pc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Nt()}getImage(t){return Nt()}getHitDetectionImage(){return Nt()}getPixelRatio(t){return 1}getImageState(){return Nt()}getImageSize(){return Nt()}getOrigin(){return Nt()}getSize(){return Nt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t)}listenImageChange(t){Nt()}load(){Nt()}unlistenImageChange(t){Nt()}ready(){return Promise.resolve()}}class Uc extends Pc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Ct.LOADING:Ct.LOADED,this.imageState_===Ct.LOADING&&this.ready().then(()=>this.imageState_=Ct.LOADED),this.render()}clone(){const t=this.getScale(),e=new Uc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-e[0]/i[0],t[1]/2+e[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var o,u;const e=(o=this.fill_)==null?void 0:o.getKey(),i=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${e}`+Object.values(this.renderOptions_).join(",");let r=(u=Mn.get(i,null,null))==null?void 0:u.getImage(1);if(!r){const h=this.renderOptions_,f=Math.ceil(h.size*t),g=ve(f,f);this.draw_(h,g,t),r=g.canvas,Mn.set(i,null,null,new Z1(r,void 0,null,Ct.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,i){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const V=r;r=o,o=V}const u=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/u,f=o*Math.sin(h),g=Math.sqrt(o*o-f*f),_=r-g,y=Math.sqrt(f*f+_*_),p=y/f;if(t==="miter"&&p<=i)return p*e;const E=e/2/p,x=e/2*(_/y),C=Math.sqrt((r+E)*(r+E)+x*x)-r;if(this.radius2_===void 0||t==="bevel")return C*2;const R=r*Math.sin(h),M=Math.sqrt(r*r-R*R),A=o-M,D=Math.sqrt(R*R+A*A)/R;if(D<=i){const V=D*e/2-o-r;return 2*Math.max(C,V)}return C*2}createRenderOptions(){let t=Oa,e=Ia,i=0,r=null,o=0,u,h=0;this.stroke_&&(u=si(this.stroke_.getColor()??ao),h=this.stroke_.getWidth()??oo,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,e=this.stroke_.getLineJoin()??Ia,t=this.stroke_.getLineCap()??Oa,i=this.stroke_.getMiterLimit()??ro);const f=this.calculateLineJoinSize_(e,h,i),g=Math.max(this.radius,this.radius2_||0),_=Math.ceil(2*g+f);return{strokeStyle:u,strokeWidth:h,size:_,lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:e,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let r=this.fill_.getColor();r===null&&(r=We),e.fillStyle=si(r),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=La(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(e=ve(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const i=this.radius;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(e*=2);const o=this.angle_-Math.PI/2,u=2*Math.PI/e;for(let h=0;h<e;h++){const f=o+h*u,g=h%2===0?i:r;t.lineTo(g*Math.cos(f),g*Math.sin(f))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=We,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class So extends Uc{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new So({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius=t,this.render()}}class Xn{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=Sp,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new Xn({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(e){return e.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Sp,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function FR(a){let t;if(typeof a=="function")t=a;else{let e;Array.isArray(a)?e=a:(zt(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),e=[a]),t=function(){return e}}return t}let md=null;function rv(a,t){if(!md){const e=new pr({color:"rgba(255,255,255,0.4)"}),i=new mr({color:"#3399CC",width:1.25});md=[new Xn({image:new So({fill:e,stroke:i,radius:5}),fill:e,stroke:i})]}return md}function av(){const a={},t=[255,255,255,1],e=[0,153,255,1],i=3;return a.Polygon=[new Xn({fill:new pr({color:[255,255,255,.5]})})],a.MultiPolygon=a.Polygon,a.LineString=[new Xn({stroke:new mr({color:t,width:i+2})}),new Xn({stroke:new mr({color:e,width:i})})],a.MultiLineString=a.LineString,a.Circle=a.Polygon.concat(a.LineString),a.Point=[new Xn({image:new So({radius:i*2,fill:new pr({color:e}),stroke:new mr({color:t,width:i/2})}),zIndex:1/0})],a.MultiPoint=a.Point,a.GeometryCollection=a.Polygon.concat(a.LineString,a.Point),a}function Sp(a){return a.getGeometry()}const GR="#333";class Gg{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=$e(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new pr({color:GR}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Gg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const ze={ANIMATING:0,INTERACTING:1},ht={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Hu=[ht.FILL],ws=[ht.STROKE],dr=[ht.BEGIN_PATH],Cp=[ht.CLOSE_PATH];class Co extends q1{constructor(t,e,i,r){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return e==1?t:t.map(function(i){return i*e})}appendFlatPointCoordinates(t,e){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let u=o.length;for(let h=0,f=t.length;h<f;h+=e)r[0]=t[h],r[1]=t[h+1],Aa(i,r)&&(o[u++]=r[0],o[u++]=r[1]);return u}appendFlatLineCoordinates(t,e,i,r,o,u){const h=this.coordinates;let f=h.length;const g=this.getBufferedMaxExtent();u&&(e+=r);let _=t[e],y=t[e+1];const p=this.tmpCoordinate_;let E=!0,x,T,C;for(x=e+r;x<i;x+=r)p[0]=t[x],p[1]=t[x+1],C=Gd(g,p),C!==T?(E&&(h[f++]=_,h[f++]=y,E=!1),h[f++]=p[0],h[f++]=p[1]):C===me.INTERSECTING?(h[f++]=p[0],h[f++]=p[1],E=!1):E=!0,_=p[0],y=p[1],T=C;return(o&&E||x===e+r)&&(h[f++]=_,h[f++]=y),f}drawCustomCoordinates_(t,e,i,r,o){for(let u=0,h=i.length;u<h;++u){const f=i[u],g=this.appendFlatLineCoordinates(t,e,f,r,!1,!1);o.push(g),e=f}return e}drawCustom(t,e,i,r,o){this.beginGeometry(t,e,o);const u=t.getType(),h=t.getStride(),f=this.coordinates.length;let g,_,y,p,E;switch(u){case"MultiPolygon":g=t.getOrientedFlatCoordinates(),p=[];const x=t.getEndss();E=0;for(let T=0,C=x.length;T<C;++T){const R=[];E=this.drawCustomCoordinates_(g,E,x[T],h,R),p.push(R)}this.instructions.push([ht.CUSTOM,f,p,t,i,Hd,o]),this.hitDetectionInstructions.push([ht.CUSTOM,f,p,t,r||i,Hd,o]);break;case"Polygon":case"MultiLineString":y=[],g=u=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),E=this.drawCustomCoordinates_(g,0,t.getEnds(),h,y),this.instructions.push([ht.CUSTOM,f,y,t,i,no,o]),this.hitDetectionInstructions.push([ht.CUSTOM,f,y,t,r||i,no,o]);break;case"LineString":case"Circle":g=t.getFlatCoordinates(),_=this.appendFlatLineCoordinates(g,0,g.length,h,!1,!1),this.instructions.push([ht.CUSTOM,f,_,t,i,Rs,o]),this.hitDetectionInstructions.push([ht.CUSTOM,f,_,t,r||i,Rs,o]);break;case"MultiPoint":g=t.getFlatCoordinates(),_=this.appendFlatPointCoordinates(g,h),_>f&&(this.instructions.push([ht.CUSTOM,f,_,t,i,Rs,o]),this.hitDetectionInstructions.push([ht.CUSTOM,f,_,t,r||i,Rs,o]));break;case"Point":g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),_=this.coordinates.length,this.instructions.push([ht.CUSTOM,f,_,t,i,void 0,o]),this.hitDetectionInstructions.push([ht.CUSTOM,f,_,t,r||i,void 0,o]);break}this.endGeometry(e)}beginGeometry(t,e,i){this.beginGeometryInstruction1_=[ht.BEGIN_GEOMETRY,e,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ht.BEGIN_GEOMETRY,e,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let e;const i=t.length;let r,o,u=-1;for(e=0;e<i;++e)r=t[e],o=r[0],o==ht.END_GEOMETRY?u=e:o==ht.BEGIN_GEOMETRY&&(r[2]=e,AC(this.hitDetectionInstructions,u,e),u=-1)}fillStyleToState(t,e={}){if(t){const i=t.getColor();e.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,e.fillStyle=si(i||We)}else e.fillStyle=void 0;return e}strokeStyleToState(t,e={}){if(t){const i=t.getColor();e.strokeStyle=si(i||ao);const r=t.getLineCap();e.lineCap=r!==void 0?r:Oa;const o=t.getLineDash();e.lineDash=o?o.slice():Bi;const u=t.getLineDashOffset();e.lineDashOffset=u||Hi;const h=t.getLineJoin();e.lineJoin=h!==void 0?h:Ia;const f=t.getWidth();e.lineWidth=f!==void 0?f:oo;const g=t.getMiterLimit();e.miterLimit=g!==void 0?g:ro,e.lineWidth>this.maxLineWidth&&(this.maxLineWidth=e.lineWidth,this.bufferedMaxExtent_=null)}else e.strokeStyle=void 0,e.lineCap=void 0,e.lineDash=null,e.lineDashOffset=void 0,e.lineJoin=void 0,e.lineWidth=void 0,e.miterLimit=void 0;return e}setFillStrokeStyle(t,e){const i=this.state;this.fillStyleToState(t,i),this.strokeStyleToState(e,i)}createFill(t){const e=t.fillStyle,i=[ht.SET_FILL_STYLE,e];return typeof e!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ht.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){const i=t.strokeStyle,r=t.lineCap,o=t.lineDash,u=t.lineDashOffset,h=t.lineJoin,f=t.lineWidth,g=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||o!=t.currentLineDash&&!qi(t.currentLineDash,o)||t.currentLineDashOffset!=u||t.currentLineJoin!=h||t.currentLineWidth!=f||t.currentMiterLimit!=g)&&(i!==void 0&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=u,t.currentLineJoin=h,t.currentLineWidth=f,t.currentMiterLimit=g)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[ht.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=g1(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;vo(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class kR extends Co{constructor(t,e,i,r){super(t,e,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,i){if(!this.image_||this.maxExtent&&!Aa(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,i);const r=t.getFlatCoordinates(),o=t.getStride(),u=this.coordinates.length,h=this.appendFlatPointCoordinates(r,o);this.instructions.push([ht.DRAW_IMAGE,u,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,u,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,i){if(!this.image_)return;this.beginGeometry(t,e,i);const r=t.getFlatCoordinates(),o=[];for(let f=0,g=r.length;f<g;f+=t.getStride())(!this.maxExtent||Aa(this.maxExtent,r.slice(f,f+2)))&&o.push(r[f],r[f+1]);const u=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([ht.DRAW_IMAGE,u,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,u,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const i=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}class PR extends Co{constructor(t,e,i,r){super(t,e,i,r)}drawFlatCoordinates_(t,e,i,r){const o=this.coordinates.length,u=this.appendFlatLineCoordinates(t,e,i,r,!1,!1),h=[ht.MOVE_TO_LINE_TO,o,u];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i}drawLineString(t,e,i){const r=this.state,o=r.strokeStyle,u=r.lineWidth;if(o===void 0||u===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e,i),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bi,Hi],dr);const h=t.getFlatCoordinates(),f=t.getStride();this.drawFlatCoordinates_(h,0,h.length,f),this.hitDetectionInstructions.push(ws),this.endGeometry(e)}drawMultiLineString(t,e,i){const r=this.state,o=r.strokeStyle,u=r.lineWidth;if(o===void 0||u===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e,i),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bi,Hi],dr);const h=t.getEnds(),f=t.getFlatCoordinates(),g=t.getStride();let _=0;for(let y=0,p=h.length;y<p;++y)_=this.drawFlatCoordinates_(f,_,h[y],g);this.hitDetectionInstructions.push(ws),this.endGeometry(e)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ws),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(ws),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(dr)}}class Tp extends Co{constructor(t,e,i,r){super(t,e,i,r)}drawFlatCoordinatess_(t,e,i,r){const o=this.state,u=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,f=i.length;this.instructions.push(dr),this.hitDetectionInstructions.push(dr);for(let g=0;g<f;++g){const _=i[g],y=this.coordinates.length,p=this.appendFlatLineCoordinates(t,e,_,r,!0,!h),E=[ht.MOVE_TO_LINE_TO,y,p];this.instructions.push(E),this.hitDetectionInstructions.push(E),h&&(this.instructions.push(Cp),this.hitDetectionInstructions.push(Cp)),e=_}return u&&(this.instructions.push(Hu),this.hitDetectionInstructions.push(Hu)),h&&(this.instructions.push(ws),this.hitDetectionInstructions.push(ws)),e}drawCircle(t,e,i){const r=this.state,o=r.fillStyle,u=r.strokeStyle;if(o===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bi,Hi]);const h=t.getFlatCoordinates(),f=t.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,f,!1,!1);const _=[ht.CIRCLE,g];this.instructions.push(dr,_),this.hitDetectionInstructions.push(dr,_),r.fillStyle!==void 0&&(this.instructions.push(Hu),this.hitDetectionInstructions.push(Hu)),r.strokeStyle!==void 0&&(this.instructions.push(ws),this.hitDetectionInstructions.push(ws)),this.endGeometry(e)}drawPolygon(t,e,i){const r=this.state,o=r.fillStyle,u=r.strokeStyle;if(o===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bi,Hi]);const h=t.getEnds(),f=t.getOrientedFlatCoordinates(),g=t.getStride();this.drawFlatCoordinatess_(f,0,h,g),this.endGeometry(e)}drawMultiPolygon(t,e,i){const r=this.state,o=r.fillStyle,u=r.strokeStyle;if(o===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,We]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bi,Hi]);const h=t.getEndss(),f=t.getOrientedFlatCoordinates(),g=t.getStride();let _=0;for(let y=0,p=h.length;y<p;++y)_=this.drawFlatCoordinatess_(f,_,h[y],g);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const e=this.coordinates;for(let i=0,r=e.length;i<r;++i)e[i]=ur(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function UR(a,t,e,i,r){const o=[];let u=e,h=0,f=t.slice(e,2);for(;h<a&&u+r<i;){const[g,_]=f.slice(-2),y=t[u+r],p=t[u+r+1],E=Math.sqrt((y-g)*(y-g)+(p-_)*(p-_));if(h+=E,h>=a){const x=(a-h+E)/E,T=cn(g,y,x),C=cn(_,p,x);f.push(T,C),o.push(f),f=[T,C],h==a&&(u+=r),h=0}else if(h<a)f.push(t[u+r],t[u+r+1]),u+=r;else{const x=E-h,T=cn(g,y,x/E),C=cn(_,p,x/E);f.push(T,C),o.push(f),f=[T,C],h=0,u+=r}}return h>0&&o.push(f),o}function YR(a,t,e,i,r){let o=e,u=e,h=0,f=0,g=e,_,y,p,E,x,T,C,R,M,A;for(y=e;y<i;y+=r){const L=t[y],D=t[y+1];x!==void 0&&(M=L-x,A=D-T,E=Math.sqrt(M*M+A*A),C!==void 0&&(f+=p,_=Math.acos((C*M+R*A)/(p*E)),_>a&&(f>h&&(h=f,o=g,u=y),f=0,g=y-r)),p=E,C=M,R=A),x=L,T=D}return f+=E,f>h?[g,y]:[o,u]}const gc={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class XR extends Co{constructor(t,e,i,r){super(t,e,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[We]={fillStyle:We},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,i){const r=this.textFillState_,o=this.textStrokeState_,u=this.textState_;if(this.text_===""||!u||!r&&!o)return;const h=this.coordinates;let f=h.length;const g=t.getType();let _=null,y=t.getStride();if(u.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!He(this.maxExtent,t.getExtent()))return;let p;if(_=t.getFlatCoordinates(),g=="LineString")p=[_.length];else if(g=="MultiLineString")p=t.getEnds();else if(g=="Polygon")p=t.getEnds().slice(0,1);else if(g=="MultiPolygon"){const C=t.getEndss();p=[];for(let R=0,M=C.length;R<M;++R)p.push(C[R][0])}this.beginGeometry(t,e,i);const E=u.repeat,x=E?void 0:u.textAlign;let T=0;for(let C=0,R=p.length;C<R;++C){let M;E?M=UR(E*this.resolution,_,T,p[C],y):M=[_.slice(T,p[C])];for(let A=0,L=M.length;A<L;++A){const D=M[A];let V=0,W=D.length;if(x==null){const F=YR(u.maxAngle,D,0,D.length,2);V=F[0],W=F[1]}for(let F=V;F<W;F+=y)h.push(D[F],D[F+1]);const H=h.length;T=p[C],this.drawChars_(f,H),f=H}}this.endGeometry(e)}else{let p=u.overflow?null:[];switch(g){case"Point":case"MultiPoint":_=t.getFlatCoordinates();break;case"LineString":_=t.getFlatMidpoint();break;case"Circle":_=t.getCenter();break;case"MultiLineString":_=t.getFlatMidpoints(),y=2;break;case"Polygon":_=t.getFlatInteriorPoint(),u.overflow||p.push(_[2]/this.resolution),y=3;break;case"MultiPolygon":const L=t.getFlatInteriorPoints();_=[];for(let D=0,V=L.length;D<V;D+=3)u.overflow||p.push(L[D+2]/this.resolution),_.push(L[D],L[D+1]);if(_.length===0)return;y=2;break}const E=this.appendFlatPointCoordinates(_,y);if(E===f)return;if(p&&(E-f)/2!==_.length/y){let L=f/2;p=p.filter((D,V)=>{const W=h[(L+V)*2]===_[V*y]&&h[(L+V)*2+1]===_[V*y+1];return W||--L,W})}this.saveTextStates_();const x=u.backgroundFill?this.createFill(this.fillStyleToState(u.backgroundFill)):null,T=u.backgroundStroke?this.createStroke(this.strokeStyleToState(u.backgroundStroke)):null;this.beginGeometry(t,e,i);let C=u.padding;if(C!=fr&&(u.scale[0]<0||u.scale[1]<0)){let L=u.padding[0],D=u.padding[1],V=u.padding[2],W=u.padding[3];u.scale[0]<0&&(D=-D,W=-W),u.scale[1]<0&&(L=-L,V=-V),C=[L,D,V,W]}const R=this.pixelRatio;this.instructions.push([ht.DRAW_IMAGE,f,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,C==fr?fr:C.map(function(L){return L*R}),x,T,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]);const M=1/R,A=x?x.slice(0):null;A&&(A[1]=We),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,f,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[M,M],NaN,this.declutterMode_,this.declutterImageWithText_,C,A,T,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?We:this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]),this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||lo,justify:e.justify,textBaseline:e.textBaseline||cc,scale:e.scale});const u=this.fillKey_;i&&(u in this.fillStates||(this.fillStates[u]={fillStyle:i.fillStyle}))}drawChars_(t,e){const i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,u=this.textKey_,h=this.fillKey_;this.saveTextStates_();const f=this.pixelRatio,g=gc[r.textBaseline],_=this.textOffsetY_*f,y=this.text_,p=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([ht.DRAW_CHARS,t,e,g,r.overflow,h,r.maxAngle,f,_,o,p*f,y,u,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ht.DRAW_CHARS,t,e,g,r.overflow,h&&We,r.maxAngle,f,_,o,p*f,y,u,1/f,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,e){let i,r,o;if(!t)this.text_="";else{const u=t.getFill();u?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=si(u.getColor()||We)):(r=null,this.textFillState_=r);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const T=h.getLineDash(),C=h.getLineDashOffset(),R=h.getWidth(),M=h.getMiterLimit();o.lineCap=h.getLineCap()||Oa,o.lineDash=T?T.slice():Bi,o.lineDashOffset=C===void 0?Hi:C,o.lineJoin=h.getLineJoin()||Ia,o.lineWidth=R===void 0?oo:R,o.miterLimit=M===void 0?ro:M,o.strokeStyle=si(h.getColor()||ao)}i=this.textState_;const f=t.getFont()||W1;uR(f);const g=t.getScaleArray();i.overflow=t.getOverflow(),i.font=f,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||cc,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||fr,i.scale=g===void 0?[1,1]:g;const _=t.getOffsetX(),y=t.getOffsetY(),p=t.getRotateWithView(),E=t.getKeepUpright(),x=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=p===void 0?!1:p,this.textKeepUpright_=E===void 0?!0:E,this.textRotation_=x===void 0?0:x,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:St(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+St(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}const BR={Circle:Tp,Default:Co,Image:kR,LineString:PR,Polygon:Tp,Text:XR};class HR{constructor(t,e,i,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const i=this.buildersByZIndex_[e];for(const r in i){const o=i[r].finish();t[e][r]=o}}return t}getBuilder(t,e){const i=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[e];if(o===void 0){const u=BR[e];o=new u(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=o}return o}}function jR(a,t,e,i,r,o,u,h,f,g,_,y,p=!0){let E=a[t],x=a[t+1],T=0,C=0,R=0,M=0;function A(){T=E,C=x,t+=i,E=a[t],x=a[t+1],M+=R,R=Math.sqrt((E-T)*(E-T)+(x-C)*(x-C))}do A();while(t<e-i&&M+R<o);let L=R===0?0:(o-M)/R;const D=cn(T,E,L),V=cn(C,x,L),W=t-i,H=M,F=o+h*f(g,r,_);for(;t<e-i&&M+R<F;)A();L=R===0?0:(F-M)/R;const q=cn(T,E,L),it=cn(C,x,L);let rt=!1;if(p)if(y){const J=[D,V,q,it];Eg(J,0,4,2,y,J,J),rt=J[0]>J[2]}else rt=D>q;const ot=Math.PI,tt=[],gt=W+i===t;t=W,R=0,M=H,E=a[t],x=a[t+1];let P;if(gt){A(),P=Math.atan2(x-C,E-T),rt&&(P+=P>0?-ot:ot);const J=(q+D)/2,Q=(it+V)/2;return tt[0]=[J,Q,(F-o)/2,P,r],tt}r=r.replace(/\n/g," ");for(let J=0,Q=r.length;J<Q;){A();let nt=Math.atan2(x-C,E-T);if(rt&&(nt+=nt>0?-ot:ot),P!==void 0){let at=nt-P;if(at+=at>ot?-2*ot:at<-ot?2*ot:0,Math.abs(at)>u)return null}P=nt;const b=J;let U=0;for(;J<Q;++J){const at=rt?Q-J-1:J,ct=h*f(g,r[at],_);if(t+i<e&&M+R<o+U+ct/2)break;U+=ct}if(J===b)continue;const k=rt?r.substring(Q-b,Q-J):r.substring(b,J);L=R===0?0:(o+U/2-M)/R;const et=cn(T,E,L),$=cn(C,x,L);tt.push([et,$,U/2,nt,k]),o+=U}return tt}class lv{constructor(){by(this,"pushMethodArgs_",(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(uc(),{get:(t,e)=>{if(typeof uc()[e]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e),this.pushMethodArgs_},set:(t,e,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e,i),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(e=>{for(let i=0,r=e.length;i<r;++i){const o=e[i];if(typeof o=="function"){o(t);continue}const u=e[++i];if(typeof t[o]=="function")t[o](...u);else{if(typeof u=="function"){t[o]=u(t);continue}t[o]=u}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const ua=hn(),vs=[],Li=[],Oi=[],Es=[];function Rp(a){return a[3].declutterBox}const wp=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function yd(a,t){return t==="start"?t=wp.test(a)?"right":"left":t==="end"&&(t=wp.test(a)?"left":"right"),gc[t]}function VR(a,t,e){return e>0&&a.push(`
`,""),a.push(t,""),a}class ZR{constructor(t,e,i,r,o){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Bn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new lv:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,i,r){const o=t+e+i+r;if(this.labels_[o])return this.labels_[o];const u=r?this.strokeStates[r]:null,h=i?this.fillStates[i]:null,f=this.textStates[e],g=this.pixelRatio,_=[f.scale[0]*g,f.scale[1]*g],y=f.justify?gc[f.justify]:yd(Array.isArray(t)?t[0]:t,f.textAlign||lo),p=r&&u.lineWidth?u.lineWidth:0,E=Array.isArray(t)?t:String(t).split(`
`).reduce(VR,[]),{width:x,height:T,widths:C,heights:R,lineWidths:M}=hR(f,E),A=x+p,L=[],D=(A+2)*_[0],V=(T+p)*_[1],W={width:D<0?Math.floor(D):Math.ceil(D),height:V<0?Math.floor(V):Math.ceil(V),contextInstructions:L};(_[0]!=1||_[1]!=1)&&L.push("scale",_),r&&(L.push("strokeStyle",u.strokeStyle),L.push("lineWidth",p),L.push("lineCap",u.lineCap),L.push("lineJoin",u.lineJoin),L.push("miterLimit",u.miterLimit),L.push("setLineDash",[u.lineDash]),L.push("lineDashOffset",u.lineDashOffset)),i&&L.push("fillStyle",h.fillStyle),L.push("textBaseline","middle"),L.push("textAlign","center");const H=.5-y;let F=y*A+H*p;const q=[],it=[];let rt=0,ot=0,tt=0,gt=0,P;for(let J=0,Q=E.length;J<Q;J+=2){const nt=E[J];if(nt===`
`){ot+=rt,rt=0,F=y*A+H*p,++gt;continue}const b=E[J+1]||f.font;b!==P&&(r&&q.push("font",b),i&&it.push("font",b),P=b),rt=Math.max(rt,R[tt]);const U=[nt,F+H*C[tt]+y*(C[tt]-M[gt]),.5*(p+rt)+ot];F+=C[tt],r&&q.push("strokeText",U),i&&it.push("fillText",U),++tt}return Array.prototype.push.apply(L,q),Array.prototype.push.apply(L,it),this.labels_[o]=W,W}replayTextBackground_(t,e,i,r,o,u,h){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),u&&(this.alignAndScaleFill_=u[2],t.fillStyle=u[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,r,o,u,h,f,g,_,y,p,E,x,T,C){h*=p[0],f*=p[1];let R=i-h,M=r-f;const A=o+g>t?t-g:o,L=u+_>e?e-_:u,D=x[3]+A*p[0]+x[1],V=x[0]+L*p[1]+x[2],W=R-x[3],H=M-x[0];(T||y!==0)&&(vs[0]=W,Es[0]=W,vs[1]=H,Li[1]=H,Li[0]=W+D,Oi[0]=Li[0],Oi[1]=H+V,Es[1]=Oi[1]);let F;return y!==0?(F=Vi(Bn(),i,r,1,1,y,-i,-r),ye(F,vs),ye(F,Li),ye(F,Oi),ye(F,Es),ji(Math.min(vs[0],Li[0],Oi[0],Es[0]),Math.min(vs[1],Li[1],Oi[1],Es[1]),Math.max(vs[0],Li[0],Oi[0],Es[0]),Math.max(vs[1],Li[1],Oi[1],Es[1]),ua)):ji(Math.min(W,W+D),Math.min(H,H+V),Math.max(W,W+D),Math.max(H,H+V),ua),E&&(R=Math.round(R),M=Math.round(M)),{drawImageX:R,drawImageY:M,drawImageW:A,drawImageH:L,originX:g,originY:_,declutterBox:{minX:ua[0],minY:ua[1],maxX:ua[2],maxY:ua[3],value:C},canvasTransform:F,scale:p}}replayImageOrLabel_(t,e,i,r,o,u,h){const f=!!(u||h),g=r.declutterBox,_=h?h[2]*r.scale[0]/2:0;return g.minX-_<=e[0]&&g.maxX+_>=0&&g.minY-_<=e[1]&&g.maxY+_>=0&&(f&&this.replayTextBackground_(t,vs,Li,Oi,Es,u,h),fR(t,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const i=ye(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(i[0]%r,i[1]%r),e!==1&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,r){const o=this.textStates[e],u=this.createLabel(t,e,r,i),h=this.strokeStates[i],f=this.pixelRatio,g=yd(Array.isArray(t)?t[0]:t,o.textAlign||lo),_=gc[o.textBaseline||cc],y=h&&h.lineWidth?h.lineWidth:0,p=u.width/f-2*o.scale[0],E=g*p+2*(.5-g)*y,x=_*u.height/f+2*(.5-_)*y;return{label:u,anchorX:E,anchorY:x}}execute_(t,e,i,r,o,u,h,f){const g=this.zIndexContext_;let _;this.pixelCoordinates_&&qi(i,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=Ms(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),ST(this.renderedTransform_,i));let y=0;const p=r.length;let E=0,x,T,C,R,M,A,L,D,V,W,H,F,q,it=0,rt=0;const ot=this.coordinateCache_,tt=this.viewRotation_,gt=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,P={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:tt},J=this.instructions!=r||this.overlaps?0:200;let Q,nt,b,U;for(;y<p;){const k=r[y];switch(k[0]){case ht.BEGIN_GEOMETRY:Q=k[1],U=k[3],Q.getGeometry()?h!==void 0&&!He(h,U.getExtent())?y=k[2]+1:++y:y=k[2],g&&(g.zIndex=k[4]);break;case ht.BEGIN_PATH:it>J&&(this.fill_(t),it=0),rt>J&&(t.stroke(),rt=0),!it&&!rt&&(t.beginPath(),M=NaN,A=NaN),++y;break;case ht.CIRCLE:E=k[1];const $=_[E],at=_[E+1],ct=_[E+2],Gt=_[E+3],yt=ct-$,Ut=Gt-at,vt=Math.sqrt(yt*yt+Ut*Ut);t.moveTo($+vt,at),t.arc($,at,vt,0,2*Math.PI,!0),++y;break;case ht.CLOSE_PATH:t.closePath(),++y;break;case ht.CUSTOM:E=k[1],x=k[2];const Ge=k[3],jn=k[4],en=k[5];P.geometry=Ge,P.feature=Q,y in ot||(ot[y]=[]);const nn=ot[y];en?en(_,E,x,2,nn):(nn[0]=_[E],nn[1]=_[E+1],nn.length=2),g&&(g.zIndex=k[6]),jn(nn,P),++y;break;case ht.DRAW_IMAGE:E=k[1],x=k[2],V=k[3],T=k[4],C=k[5];let Vn=k[6];const Ee=k[7],Ve=k[8],Ln=k[9],On=k[10];let Zn=k[11];const hi=k[12];let In=k[13];R=k[14]||"declutter";const fi=k[15];if(!V&&k.length>=20){W=k[19],H=k[20],F=k[21],q=k[22];const ce=this.drawLabelWithPointPlacement_(W,H,F,q);V=ce.label,k[3]=V;const di=k[23];T=(ce.anchorX-di)*this.pixelRatio,k[4]=T;const ke=k[24];C=(ce.anchorY-ke)*this.pixelRatio,k[5]=C,Vn=V.height,k[6]=Vn,In=V.width,k[13]=In}let Ht;k.length>25&&(Ht=k[25]);let ka,zs,Fs;k.length>17?(ka=k[16],zs=k[17],Fs=k[18]):(ka=fr,zs=null,Fs=null),On&&gt?Zn+=tt:!On&&!gt&&(Zn-=tt);let Rr=0;for(;E<x;E+=2){if(Ht&&Ht[Rr++]<In/this.pixelRatio)continue;const ce=this.calculateImageOrLabelDimensions_(V.width,V.height,_[E],_[E+1],In,Vn,T,C,Ve,Ln,Zn,hi,o,ka,!!zs||!!Fs,Q),di=[t,e,V,ce,Ee,zs,Fs];if(f){let ke,sn,Ae;if(fi){const Kt=x-E;if(!fi[Kt]){fi[Kt]={args:di,declutterMode:R};continue}const he=fi[Kt];ke=he.args,sn=he.declutterMode,delete fi[Kt],Ae=Rp(ke)}let Pe,Nn;if(ke&&(sn!=="declutter"||!f.collides(Ae))&&(Pe=!0),(R!=="declutter"||!f.collides(ce.declutterBox))&&(Nn=!0),sn==="declutter"&&R==="declutter"){const Kt=Pe&&Nn;Pe=Kt,Nn=Kt}Pe&&(sn!=="none"&&f.insert(Ae),this.replayImageOrLabel_.apply(this,ke)),Nn&&(R!=="none"&&f.insert(ce.declutterBox),this.replayImageOrLabel_.apply(this,di))}else this.replayImageOrLabel_.apply(this,di)}++y;break;case ht.DRAW_CHARS:const wo=k[1],Pa=k[2],Ua=k[3],jc=k[4];q=k[5];const Gs=k[6],be=k[7],bo=k[8];F=k[9];const fn=k[10];W=k[11],H=k[12];const Me=[k[13],k[13]];R=k[14]||"declutter";const Vc=k[15],Ya=this.textStates[H],ks=Ya.font,qn=[Ya.scale[0]*be,Ya.scale[1]*be];let Kn;ks in this.widths_?Kn=this.widths_[ks]:(Kn={},this.widths_[ks]=Kn);const Wn=P1(_,wo,Pa,2),Ps=Math.abs(qn[0])*gp(ks,W,Kn);if(jc||Ps<=Wn){const ce=this.textStates[H].textAlign,di=(Wn-Ps)*yd(W,ce),ke=jR(_,wo,Pa,2,W,di,Gs,Math.abs(qn[0]),gp,ks,Kn,gt?0:this.viewRotation_,Vc);t:if(ke){const sn=[];let Ae,Pe,Nn,Kt,he;if(F)for(Ae=0,Pe=ke.length;Ae<Pe;++Ae){he=ke[Ae],Nn=he[4],Kt=this.createLabel(Nn,H,"",F),T=he[2]+(qn[0]<0?-fn:fn),C=Ua*Kt.height+(.5-Ua)*2*fn*qn[1]/qn[0]-bo;const dn=this.calculateImageOrLabelDimensions_(Kt.width,Kt.height,he[0],he[1],Kt.width,Kt.height,T,C,0,0,he[3],Me,!1,fr,!1,Q);if(f&&R==="declutter"&&f.collides(dn.declutterBox))break t;sn.push([t,e,Kt,dn,1,null,null])}if(q)for(Ae=0,Pe=ke.length;Ae<Pe;++Ae){he=ke[Ae],Nn=he[4],Kt=this.createLabel(Nn,H,q,""),T=he[2],C=Ua*Kt.height-bo;const dn=this.calculateImageOrLabelDimensions_(Kt.width,Kt.height,he[0],he[1],Kt.width,Kt.height,T,C,0,0,he[3],Me,!1,fr,!1,Q);if(f&&R==="declutter"&&f.collides(dn.declutterBox))break t;sn.push([t,e,Kt,dn,1,null,null])}f&&R!=="none"&&f.load(sn.map(Rp));for(let dn=0,Mo=sn.length;dn<Mo;++dn)this.replayImageOrLabel_.apply(this,sn[dn])}}++y;break;case ht.END_GEOMETRY:if(u!==void 0){Q=k[1];const ce=u(Q,U,R);if(ce)return ce}++y;break;case ht.FILL:J?it++:this.fill_(t),++y;break;case ht.MOVE_TO_LINE_TO:for(E=k[1],x=k[2],nt=_[E],b=_[E+1],t.moveTo(nt,b),M=nt+.5|0,A=b+.5|0,E+=2;E<x;E+=2)nt=_[E],b=_[E+1],L=nt+.5|0,D=b+.5|0,(E==x-2||L!==M||D!==A)&&(t.lineTo(nt,b),M=L,A=D);++y;break;case ht.SET_FILL_STYLE:this.alignAndScaleFill_=k[2],it&&(this.fill_(t),it=0,rt&&(t.stroke(),rt=0)),t.fillStyle=k[1],++y;break;case ht.SET_STROKE_STYLE:rt&&(t.stroke(),rt=0),this.setStrokeStyle_(t,k),++y;break;case ht.STROKE:J?rt++:t.stroke(),++y;break;default:++y;break}}it&&this.fill_(t),rt&&t.stroke()}execute(t,e,i,r,o,u){this.viewRotation_=r,this.execute_(t,e,i,this.instructions,o,void 0,void 0,u)}executeHitDetection(t,e,i,r,o){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,r,o)}}const va=["Polygon","Circle","LineString","Image","Text","Default"],ov=["Image","Text"],qR=va.filter(a=>!ov.includes(a));class KR{constructor(t,e,i,r,o,u,h){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=u,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Bn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,e){const i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,e){for(const i in t){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const o=t[i];for(const u in o){const h=o[u];r[u]=new ZR(this.resolution_,this.pixelRatio_,this.overlaps_,h,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const i=this.executorsByZIndex_[e];for(let r=0,o=t.length;r<o;++r)if(t[r]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,r,o,u){r=Math.round(r);const h=r*2+1,f=Vi(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=ve(h,h,void 0,{willReadFrequently:!0}));const _=this.hitDetectionContext_;_.canvas.width!==h||_.canvas.height!==h?(_.canvas.width=h,_.canvas.height=h):g||_.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=hn(),Ql(y,t),vo(y,e*(this.renderBuffer_+r),y));const p=WR(r);let E;function x(D,V,W){const H=_.getImageData(0,0,h,h).data;for(let F=0,q=p.length;F<q;F++)if(H[p[F]]>0){if(!u||W==="none"||E!=="Image"&&E!=="Text"||u.includes(D)){const it=(p[F]-3)/4,rt=r-it%h,ot=r-(it/h|0),tt=o(D,V,rt*rt+ot*ot);if(tt)return tt}_.clearRect(0,0,h,h);break}}const T=Object.keys(this.executorsByZIndex_).map(Number);T.sort(Pi);let C,R,M,A,L;for(C=T.length-1;C>=0;--C){const D=T[C].toString();for(M=this.executorsByZIndex_[D],R=va.length-1;R>=0;--R)if(E=va[R],A=M[E],A!==void 0&&(L=A.executeHitDetection(_,f,i,x,y),L))return L}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const i=e[0],r=e[1],o=e[2],u=e[3],h=[i,r,i,u,o,u,o,r];return Ms(h,0,8,2,t,h),h}isEmpty(){return Ma(this.executorsByZIndex_)}execute(t,e,i,r,o,u,h){const f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(h?MC:Pi),u=u||va;const g=va.length;for(let _=0,y=f.length;_<y;++_){const p=f[_].toString(),E=this.executorsByZIndex_[p];for(let x=0,T=u.length;x<T;++x){const C=u[x],R=E[C];if(R!==void 0){const M=h===null?void 0:R.getZIndexContext(),A=M?M.getContext():t,L=this.maxExtent_&&C!=="Image"&&C!=="Text";if(L&&(A.save(),this.clip(A,i)),!M||C==="Text"||C==="Image"?R.execute(A,e,i,r,o,h):M.pushFunction(D=>R.execute(D,e,i,r,o,h)),L&&A.restore(),M){M.offset();const D=f[_]*g+x;this.deferredZIndexContexts_[D]||(this.deferredZIndexContexts_[D]=[]),this.deferredZIndexContexts_[D].push(M)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(Pi);for(let i=0,r=e.length;i<r;++i)t[e[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[e[i]].length=0}}const pd={};function WR(a){if(pd[a]!==void 0)return pd[a];const t=a*2+1,e=a*a,i=new Array(e+1);for(let o=0;o<=a;++o)for(let u=0;u<=a;++u){const h=o*o+u*u;if(h>e)break;let f=i[h];f||(f=[],i[h]=f),f.push(((a+o)*t+(a+u))*4+3),o>0&&f.push(((a-o)*t+(a+u))*4+3),u>0&&(f.push(((a+o)*t+(a-u))*4+3),o>0&&f.push(((a-o)*t+(a-u))*4+3))}const r=[];for(let o=0,u=i.length;o<u;++o)i[o]&&r.push(...i[o]);return pd[a]=r,r}function bp(a,t,e,i){return e!==void 0&&i!==void 0?[e/a,i/t]:e!==void 0?e/a:i!==void 0?i/t:1}class Yc extends Pc{constructor(t){t=t||{};const e=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:e,rotation:i,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const u=t.img!==void 0?t.img:null;let h=t.src;zt(!(h!==void 0&&u),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&u&&(h=u.src||St(u)),zt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),zt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let f;if(t.src!==void 0?f=Ct.IDLE:u!==void 0&&("complete"in u?u.complete?f=u.src?Ct.LOADED:Ct.IDLE:f=Ct.LOADING:f=Ct.LOADED),this.color_=t.color!==void 0?La(t.color):null,this.iconImage_=Ng(u,h,this.crossOrigin_,f,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let g,_;if(t.size)[g,_]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)g=y.width,_=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const p=()=>{if(this.unlistenImageChange(p),!this.initialOptions_)return;const E=this.iconImage_.getSize();this.setScale(bp(E[0],E[1],t.width,t.height))};this.listenImageChange(p);return}}g!==void 0&&this.setScale(bp(g,_,t.width,t.height))}}clone(){let t,e,i;return this.initialOptions_?(e=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Yc({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-e[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Ct.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Ct.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(mt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(mt.CHANGE,t)}ready(){return this.iconImage_.ready()}}const ni=.5;function QR(a,t,e,i,r,o,u,h,f){const g=r,_=a[0]*ni,y=a[1]*ni,p=ve(_,y);p.imageSmoothingEnabled=!1;const E=p.canvas,x=new gR(p,ni,r,null,u,h,null),T=e.length,C=Math.floor((256*256*256-1)/T),R={};for(let A=1;A<=T;++A){const L=e[A-1],D=L.getStyleFunction()||i;if(!D)continue;let V=D(L,o);if(!V)continue;Array.isArray(V)||(V=[V]);const H=(A*C).toString(16).padStart(7,"#00000");for(let F=0,q=V.length;F<q;++F){const it=V[F],rt=it.getGeometryFunction()(L);if(!rt||!He(g,rt.getExtent()))continue;const ot=it.clone(),tt=ot.getFill();tt&&tt.setColor(H);const gt=ot.getStroke();gt&&(gt.setColor(H),gt.setLineDash(null)),ot.setText(void 0);const P=it.getImage();if(P){const b=P.getImageSize();if(!b)continue;const U=ve(b[0],b[1],void 0,{alpha:!1}),k=U.canvas;U.fillStyle=H,U.fillRect(0,0,k.width,k.height),ot.setImage(new Yc({img:k,anchor:P.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:P.getOrigin(),opacity:1,size:P.getSize(),scale:P.getScale(),rotation:P.getRotation(),rotateWithView:P.getRotateWithView()}))}const J=ot.getZIndex()||0;let Q=R[J];Q||(Q={},R[J]=Q,Q.Polygon=[],Q.Circle=[],Q.LineString=[],Q.Point=[]);const nt=rt.getType();if(nt==="GeometryCollection"){const b=rt.getGeometriesArrayRecursive();for(let U=0,k=b.length;U<k;++U){const et=b[U];Q[et.getType().replace("Multi","")].push(et,ot)}}else Q[nt.replace("Multi","")].push(rt,ot)}}const M=Object.keys(R).map(Number).sort(Pi);for(let A=0,L=M.length;A<L;++A){const D=R[M[A]];for(const V in D){const W=D[V];for(let H=0,F=W.length;H<F;H+=2){x.setStyle(W[H+1]);for(let q=0,it=t.length;q<it;++q)x.setTransform(t[q]),x.drawGeometry(W[H])}}}return p.getImageData(0,0,E.width,E.height)}function JR(a,t,e){const i=[];if(e){const r=Math.floor(Math.round(a[0])*ni),o=Math.floor(Math.round(a[1])*ni),u=(ie(r,0,e.width-1)+ie(o,0,e.height-1)*e.width)*4,h=e.data[u],f=e.data[u+1],_=e.data[u+2]+256*(f+256*h),y=Math.floor((256*256*256-1)/t.length);_&&_%y===0&&i.push(t[_/y-1])}return i}class uv extends Dn{constructor(t,e,i,r){super(t),this.inversePixelTransform=e,this.frameState=i,this.context=r}}const $R=5;class t2 extends po{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=$R}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Nt()}getData(t){return null}prepareFrame(t){return Nt()}renderFrame(t,e){return Nt()}forEachFeatureAtCoordinate(t,e,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;(e.getState()===Ct.LOADED||e.getState()===Ct.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=Ct.LOADED&&e!=Ct.ERROR&&t.addEventListener(mt.CHANGE,this.boundHandleImageChange_),e==Ct.IDLE&&(t.load(),e=t.getState()),e==Ct.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Mp=[];let ma=null;function e2(){ma=ve(1,1,void 0,{willReadFrequently:!0})}class cv extends t2{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Bn(),this.pixelTransform=Bn(),this.inversePixelTransform=Bn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,e,i){ma||e2(),ma.clearRect(0,0,1,1);let r;try{ma.drawImage(t,e,i,1,1,0,0,1,1),r=ma.getImageData(0,0,1,1).data}catch{return ma=null,null}return r}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,e,i){const r=this.getLayer().getClassName();let o,u;if(t&&t.className===r&&(!i||t&&t.style.backgroundColor&&qi(La(t.style.backgroundColor),La(i)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(u=h.getContext("2d"))}if(u&&u.canvas.style.transform===e?(this.container=t,this.context=u,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",u=ve();const f=u.canvas;o.appendChild(f),h=f.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=u}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,e,i){const r=Cr(i),o=wc(i),u=Rc(i),h=Tc(i);ye(e.coordinateToPixelTransform,r),ye(e.coordinateToPixelTransform,o),ye(e.coordinateToPixelTransform,u),ye(e.coordinateToPixelTransform,h);const f=this.inversePixelTransform;ye(f,r),ye(f,o),ye(f,u),ye(f,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,e){const i=t.extent,r=t.viewState.resolution,o=t.viewState.rotation,u=t.pixelRatio,h=Math.round(Pt(i)/r*u),f=Math.round(je(i)/r*u);Vi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/u,1/u,o,-h/2,-f/2),M1(this.inversePixelTransform,this.pixelTransform);const g=TT(this.pixelTransform);if(this.useContainer(e,g,this.getBackground(t)),!this.containerReused){const _=this.context.canvas;_.width!=h||_.height!=f?(_.width=h,_.height=f):this.context.clearRect(0,0,h,f),g!==_.style.transform&&(_.style.transform=g)}}dispatchRenderEvent_(t,e,i){const r=this.getLayer();if(r.hasListener(t)){const o=new uv(t,this.inversePixelTransform,i,e);r.dispatchEvent(o)}}preRender(t,e){this.frameState=e,!e.declutter&&this.dispatchRenderEvent_(bn.PRERENDER,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(bn.POSTRENDER,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new lv),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(bn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(bn.POSTRENDER,this.context,t))}getRenderTransform(t,e,i,r,o,u,h){const f=o/2,g=u/2,_=r/e,y=-_,p=-t[0]+h,E=-t[1];return Vi(this.tempTransform,f,g,_,y,-i,p,E)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class n2 extends cv{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=hn(),this.wrappedRenderedExtent_=hn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,i){const r=e.extent,o=e.viewState,u=o.center,h=o.resolution,f=o.projection,g=o.rotation,_=f.getExtent(),y=this.getLayer().getSource(),p=this.getLayer().getDeclutter(),E=e.pixelRatio,x=e.viewHints,T=!(x[ze.ANIMATING]||x[ze.INTERACTING]),C=this.context,R=Math.round(Pt(r)/h*E),M=Math.round(je(r)/h*E),A=y.getWrapX()&&f.canWrapX(),L=A?Pt(_):null,D=A?Math.ceil((r[2]-_[2])/L)+1:1;let V=A?Math.floor((r[0]-_[0])/L):0;do{let W=this.getRenderTransform(u,h,0,E,R,M,V*L);e.declutter&&(W=W.slice(0)),t.execute(C,[C.canvas.width,C.canvas.height],W,g,T,i===void 0?va:i?ov:qR,i?p&&e.declutter[p]:void 0)}while(++V<D)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ve(this.context.canvas.width,this.context.canvas.height,Mp))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,zc(this.context),Mp.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;const r=t.viewState;this.prepareContainer(t,e);const o=this.context,u=this.replayGroup_;let h=u&&!u.isEmpty();if(!h&&!(this.getLayer().hasListener(bn.PRERENDER)||this.getLayer().hasListener(bn.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(o,t),r.projection,this.clipped_=!1,h&&i.extent&&this.clipping){const f=Gi(i.extent);h=He(f,t.extent),this.clipped_=h&&!Bl(f,t.extent),this.clipped_&&this.clipUnrotated(o,t,f)}return h&&this.renderWorlds(u,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,u=this.renderedRotation_,h=this.renderedProjection_,f=this.wrappedRenderedExtent_,g=this.getLayer(),_=[],y=i[0]*ni,p=i[1]*ni;_.push(this.getRenderTransform(r,o,u,ni,y,p,0).slice());const E=g.getSource(),x=h.getExtent();if(E.getWrapX()&&h.canWrapX()&&!Bl(x,f)){let T=f[0];const C=Pt(x);let R=0,M;for(;T<x[0];)--R,M=C*R,_.push(this.getRenderTransform(r,o,u,ni,y,p,M).slice()),T+=C;for(R=0,T=f[2];T>x[2];)++R,M=C*R,_.push(this.getRenderTransform(r,o,u,ni,y,p,M).slice()),T-=C}this.hitDetectionImageData_=QR(i,_,this.renderedFeatures_,g.getStyleFunction(),f,o,u,_p(o,this.renderedPixelRatio_))}e(JR(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,e,i,r,o){var p,E;if(!this.replayGroup_)return;const u=e.viewState.resolution,h=e.viewState.rotation,f=this.getLayer(),g={},_=function(x,T,C){const R=St(x),M=g[R];if(M){if(M!==!0&&C<M.distanceSq){if(C===0)return g[R]=!0,o.splice(o.lastIndexOf(M),1),r(x,f,T);M.geometry=T,M.distanceSq=C}}else{if(C===0)return g[R]=!0,r(x,f,T);o.push(g[R]={feature:x,layer:f,geometry:T,distanceSq:C,callback:r})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,u,h,i,_,y?(E=(p=e.declutter)==null?void 0:p[y])==null?void 0:E.all().map(x=>x.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),i=e.getSource();if(!i)return!1;const r=t.viewHints[ze.ANIMATING],o=t.viewHints[ze.INTERACTING],u=e.getUpdateWhileAnimating(),h=e.getUpdateWhileInteracting();if(this.ready&&!u&&r||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=t.extent,g=t.viewState,_=g.projection,y=g.resolution,p=t.pixelRatio,E=e.getRevision(),x=e.getRenderBuffer();let T=e.getRenderOrder();T===void 0&&(T=mR);const C=g.center.slice(),R=vo(f,x*y),M=R.slice(),A=[R.slice()],L=_.getExtent();if(i.getWrapX()&&_.canWrapX()&&!Bl(L,t.extent)){const tt=Pt(L),gt=Math.max(Pt(R)/2,tt);R[0]=L[0]-gt,R[2]=L[2]+gt,x1(C,_);const P=p1(A[0],_);P[0]<L[0]&&P[2]<L[2]?A.push([P[0]+tt,P[1],P[2]+tt,P[3]]):P[0]>L[0]&&P[2]>L[2]&&A.push([P[0]-tt,P[1],P[2]-tt,P[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==E&&this.renderedRenderOrder_==T&&this.renderedFrameDeclutter_===!!t.declutter&&Bl(this.wrappedRenderedExtent_,R))return qi(this.renderedExtent_,M)||(this.hitDetectionImageData_=null,this.renderedExtent_=M),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const D=new HR($1(y,p),R,y,p);let V;for(let tt=0,gt=A.length;tt<gt;++tt)i.loadFeatures(A[tt],y,_);const W=_p(y,p);let H=!0;const F=(tt,gt)=>{let P;const J=tt.getStyleFunction()||e.getStyleFunction();if(J&&(P=J(tt,y)),P){const Q=this.renderFeature(tt,W,P,D,V,this.getLayer().getDeclutter(),gt);H=H&&!Q}},q=Lc(R),it=i.getFeaturesInExtent(q);T&&it.sort(T);for(let tt=0,gt=it.length;tt<gt;++tt)F(it[tt],tt);this.renderedFeatures_=it,this.ready=H;const rt=D.finish(),ot=new KR(R,y,p,i.getOverlaps(),rt,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=E,this.renderedRenderOrder_=T,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=M,this.wrappedRenderedExtent_=R,this.renderedCenter_=C,this.renderedProjection_=_,this.renderedPixelRatio_=p,this.replayGroup_=ot,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,i,r,o,u,h){if(!i)return!1;let f=!1;if(Array.isArray(i))for(let g=0,_=i.length;g<_;++g)f=mp(r,t,i[g],e,this.boundHandleStyleImageChange_,o,u,h)||f;else f=mp(r,t,i,e,this.boundHandleStyleImageChange_,o,u,h);return f}}let Tr=0;const Be=1<<Tr++,At=1<<Tr++,Qe=1<<Tr++,Yn=1<<Tr++,vr=1<<Tr++,Vl=1<<Tr++,ju=Math.pow(2,Tr)-1,kg={[Be]:"boolean",[At]:"number",[Qe]:"string",[Yn]:"color",[vr]:"number[]",[Vl]:"size"},i2=Object.keys(kg).map(Number).sort(Pi);function s2(a){return a in kg}function Zl(a){const t=[];for(const e of i2)ql(a,e)&&t.push(kg[e]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function ql(a,t){return(a&t)===t}function xs(a,t){return a===t}class ue{constructor(t,e){if(!s2(t))throw new Error(`literal expressions must have a specific type, got ${Zl(t)}`);this.type=t,this.value=e}}class r2{constructor(t,e,...i){this.type=t,this.operator=e,this.args=i}}function hv(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function we(a,t,e){switch(typeof a){case"boolean":{if(xs(t,Qe))return new ue(Qe,a?"true":"false");if(!ql(t,Be))throw new Error(`got a boolean, but expected ${Zl(t)}`);return new ue(Be,a)}case"number":{if(xs(t,Vl))return new ue(Vl,$e(a));if(xs(t,Be))return new ue(Be,!!a);if(xs(t,Qe))return new ue(Qe,a.toString());if(!ql(t,At))throw new Error(`got a number, but expected ${Zl(t)}`);return new ue(At,a)}case"string":{if(xs(t,Yn))return new ue(Yn,Og(a));if(xs(t,Be))return new ue(Be,!!a);if(!ql(t,Qe))throw new Error(`got a string, but expected ${Zl(t)}`);return new ue(Qe,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return m2(a,t,e);for(const i of a)if(typeof i!="number")throw new Error("expected an array of numbers");if(xs(t,Vl)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new ue(Vl,a)}if(xs(t,Yn)){if(a.length===3)return new ue(Yn,[...a,1]);if(a.length===4)return new ue(Yn,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!ql(t,vr))throw new Error(`got an array of numbers, but expected ${Zl(t)}`);return new ue(vr,a)}const B={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},a2={[B.Get]:_t(xt(1,1/0),Ap),[B.Var]:_t(xt(1,1),l2),[B.Has]:_t(xt(1,1/0),Ap),[B.Id]:_t(o2,ca),[B.Concat]:_t(xt(2,1/0),Ft(Qe)),[B.GeometryType]:_t(u2,ca),[B.LineMetric]:_t(ca),[B.Resolution]:_t(vd,ca),[B.Zoom]:_t(vd,ca),[B.Time]:_t(vd,ca),[B.Any]:_t(xt(2,1/0),Ft(Be)),[B.All]:_t(xt(2,1/0),Ft(Be)),[B.Not]:_t(xt(1,1),Ft(Be)),[B.Equal]:_t(xt(2,2),Ft(ju)),[B.NotEqual]:_t(xt(2,2),Ft(ju)),[B.GreaterThan]:_t(xt(2,2),Ft(At)),[B.GreaterThanOrEqualTo]:_t(xt(2,2),Ft(At)),[B.LessThan]:_t(xt(2,2),Ft(At)),[B.LessThanOrEqualTo]:_t(xt(2,2),Ft(At)),[B.Multiply]:_t(xt(2,1/0),Dp),[B.Coalesce]:_t(xt(2,1/0),Dp),[B.Divide]:_t(xt(2,2),Ft(At)),[B.Add]:_t(xt(2,1/0),Ft(At)),[B.Subtract]:_t(xt(2,2),Ft(At)),[B.Clamp]:_t(xt(3,3),Ft(At)),[B.Mod]:_t(xt(2,2),Ft(At)),[B.Pow]:_t(xt(2,2),Ft(At)),[B.Abs]:_t(xt(1,1),Ft(At)),[B.Floor]:_t(xt(1,1),Ft(At)),[B.Ceil]:_t(xt(1,1),Ft(At)),[B.Round]:_t(xt(1,1),Ft(At)),[B.Sin]:_t(xt(1,1),Ft(At)),[B.Cos]:_t(xt(1,1),Ft(At)),[B.Atan]:_t(xt(1,2),Ft(At)),[B.Sqrt]:_t(xt(1,1),Ft(At)),[B.Match]:_t(xt(4,1/0),Lp,h2),[B.Between]:_t(xt(3,3),Ft(At)),[B.Interpolate]:_t(xt(6,1/0),Lp,f2),[B.Case]:_t(xt(3,1/0),c2,d2),[B.In]:_t(xt(2,2),g2),[B.Number]:_t(xt(1,1/0),Ft(ju)),[B.String]:_t(xt(1,1/0),Ft(ju)),[B.Array]:_t(xt(1,1/0),Ft(At)),[B.Color]:_t(xt(1,4),Ft(At)),[B.Band]:_t(xt(1,3),Ft(At)),[B.Palette]:_t(xt(2,2),_2),[B.ToString]:_t(xt(1,1),Ft(Be|At|Qe|Yn))};function Ap(a,t,e){const i=a.length-1,r=new Array(i);for(let o=0;o<i;++o){const u=a[o+1];switch(typeof u){case"number":{r[o]=new ue(At,u);break}case"string":{r[o]=new ue(Qe,u);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${u}`)}o===0&&e.properties.add(String(u))}return r}function l2(a,t,e){const i=a[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return e.variables.add(i),[new ue(Qe,i)]}function o2(a,t,e){e.featureId=!0}function u2(a,t,e){e.geometryType=!0}function vd(a,t,e){e.mapState=!0}function ca(a,t,e){const i=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function xt(a,t){return function(e,i,r){const o=e[0],u=e.length-1;if(a===t){if(u!==a){const h=a===1?"":"s";throw new Error(`expected ${a} argument${h} for ${o}, got ${u}`)}}else if(u<a||u>t){const h=t===1/0?`${a} or more`:`${a} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${u}`)}}}function Dp(a,t,e){const i=a.length-1,r=new Array(i);for(let o=0;o<i;++o){const u=we(a[o+1],t,e);r[o]=u}return r}function Ft(a){return function(t,e,i){const r=t.length-1,o=new Array(r);for(let u=0;u<r;++u){const h=we(t[u+1],a,i);o[u]=h}return o}}function c2(a,t,e){const i=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function Lp(a,t,e){const i=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function h2(a,t,e){const i=a.length-1,r=Qe|At|Be,o=we(a[1],r,e),u=we(a[a.length-1],t,e),h=new Array(i-2);for(let f=0;f<i-2;f+=2){try{const g=we(a[f+2],o.type,e);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+1} of match expression: ${g.message}`)}try{const g=we(a[f+3],u.type,e);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+2} of match expression: ${g.message}`)}}return[o,...h,u]}function f2(a,t,e){const i=a[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const f=i[1];if(typeof f!="number"||f<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(f)} instead`);r=f;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new ue(At,r);let u;try{u=we(a[2],At,e)}catch(f){throw new Error(`failed to parse argument 1 in interpolate expression: ${f.message}`)}const h=new Array(a.length-3);for(let f=0;f<h.length;f+=2){try{const g=we(a[f+3],At,e);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+2} for interpolate expression: ${g.message}`)}try{const g=we(a[f+4],t,e);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+3} for interpolate expression: ${g.message}`)}}return[o,u,...h]}function d2(a,t,e){const i=we(a[a.length-1],t,e),r=new Array(a.length-1);for(let o=0;o<r.length-1;o+=2){try{const u=we(a[o+1],Be,e);r[o]=u}catch(u){throw new Error(`failed to parse argument ${o} of case expression: ${u.message}`)}try{const u=we(a[o+2],i.type,e);r[o+1]=u}catch(u){throw new Error(`failed to parse argument ${o+1} of case expression: ${u.message}`)}}return r[r.length-1]=i,r}function g2(a,t,e){let i=a[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=Qe}else r=At;const o=new Array(i.length);for(let h=0;h<o.length;h++)try{const f=we(i[h],r,e);o[h]=f}catch(f){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${f.message}`)}return[we(a[1],r,e),...o]}function _2(a,t,e){let i;try{i=we(a[1],At,e)}catch(u){throw new Error(`failed to parse first argument in palette expression: ${u.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let u=0;u<o.length;u++){let h;try{h=we(r[u],Yn,e)}catch(f){throw new Error(`failed to parse color at index ${u} in palette expression: ${f.message}`)}if(!(h instanceof ue))throw new Error(`the palette color at index ${u} must be a literal value`);o[u]=h}return[i,...o]}function _t(...a){return function(t,e,i){const r=t[0];let o;for(let u=0;u<a.length;u++){const h=a[u](t,e,i);if(u==a.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new r2(e,r,...o)}}function m2(a,t,e){const i=a[0],r=a2[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(a,t,e)}function fv(a){if(!a)return"";const t=a.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return fv(a.getGeometries()[0]);default:return""}}function dv(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Ki(a,t,e){const i=we(a,t,e);return Hn(i)}function Hn(a,t){if(a instanceof ue){if(a.type===Yn&&typeof a.value=="string"){const i=Og(a.value);return function(){return i}}return function(){return a.value}}const e=a.operator;switch(e){case B.Number:case B.String:case B.Coalesce:return y2(a);case B.Get:case B.Var:case B.Has:return p2(a);case B.Id:return i=>i.featureId;case B.GeometryType:return i=>i.geometryType;case B.Concat:{const i=a.args.map(r=>Hn(r));return r=>"".concat(...i.map(o=>o(r).toString()))}case B.Resolution:return i=>i.resolution;case B.Any:case B.All:case B.Between:case B.In:case B.Not:return E2(a);case B.Equal:case B.NotEqual:case B.LessThan:case B.LessThanOrEqualTo:case B.GreaterThan:case B.GreaterThanOrEqualTo:return v2(a);case B.Multiply:case B.Divide:case B.Add:case B.Subtract:case B.Clamp:case B.Mod:case B.Pow:case B.Abs:case B.Floor:case B.Ceil:case B.Round:case B.Sin:case B.Cos:case B.Atan:case B.Sqrt:return x2(a);case B.Case:return S2(a);case B.Match:return C2(a);case B.Interpolate:return T2(a);case B.ToString:return R2(a);default:throw new Error(`Unsupported operator ${e}`)}}function y2(a,t){const e=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Hn(a.args[o]);switch(e){case B.Coalesce:return o=>{for(let u=0;u<i;++u){const h=r[u](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case B.Number:case B.String:return o=>{for(let u=0;u<i;++u){const h=r[u](o);if(typeof h===e)return h}throw new Error(`Expected one of the values to be a ${e}`)};default:throw new Error(`Unsupported assertion operator ${e}`)}}function p2(a,t){const i=a.args[0].value;switch(a.operator){case B.Get:return r=>{const o=a.args;let u=r.properties[i];for(let h=1,f=o.length;h<f;++h){const _=o[h].value;u=u[_]}return u};case B.Var:return r=>r.variables[i];case B.Has:return r=>{const o=a.args;if(!(i in r.properties))return!1;let u=r.properties[i];for(let h=1,f=o.length;h<f;++h){const _=o[h].value;if(!u||!Object.hasOwn(u,_))return!1;u=u[_]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function v2(a,t){const e=a.operator,i=Hn(a.args[0]),r=Hn(a.args[1]);switch(e){case B.Equal:return o=>i(o)===r(o);case B.NotEqual:return o=>i(o)!==r(o);case B.LessThan:return o=>i(o)<r(o);case B.LessThanOrEqualTo:return o=>i(o)<=r(o);case B.GreaterThan:return o=>i(o)>r(o);case B.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${e}`)}}function E2(a,t){const e=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Hn(a.args[o]);switch(e){case B.Any:return o=>{for(let u=0;u<i;++u)if(r[u](o))return!0;return!1};case B.All:return o=>{for(let u=0;u<i;++u)if(!r[u](o))return!1;return!0};case B.Between:return o=>{const u=r[0](o),h=r[1](o),f=r[2](o);return u>=h&&u<=f};case B.In:return o=>{const u=r[0](o);for(let h=1;h<i;++h)if(u===r[h](o))return!0;return!1};case B.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${e}`)}}function x2(a,t){const e=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Hn(a.args[o]);switch(e){case B.Multiply:return o=>{let u=1;for(let h=0;h<i;++h)u*=r[h](o);return u};case B.Divide:return o=>r[0](o)/r[1](o);case B.Add:return o=>{let u=0;for(let h=0;h<i;++h)u+=r[h](o);return u};case B.Subtract:return o=>r[0](o)-r[1](o);case B.Clamp:return o=>{const u=r[0](o),h=r[1](o);if(u<h)return h;const f=r[2](o);return u>f?f:u};case B.Mod:return o=>r[0](o)%r[1](o);case B.Pow:return o=>Math.pow(r[0](o),r[1](o));case B.Abs:return o=>Math.abs(r[0](o));case B.Floor:return o=>Math.floor(r[0](o));case B.Ceil:return o=>Math.ceil(r[0](o));case B.Round:return o=>Math.round(r[0](o));case B.Sin:return o=>Math.sin(r[0](o));case B.Cos:return o=>Math.cos(r[0](o));case B.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case B.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${e}`)}}function S2(a,t){const e=a.args.length,i=new Array(e);for(let r=0;r<e;++r)i[r]=Hn(a.args[r]);return r=>{for(let o=0;o<e-1;o+=2)if(i[o](r))return i[o+1](r);return i[e-1](r)}}function C2(a,t){const e=a.args.length,i=new Array(e);for(let r=0;r<e;++r)i[r]=Hn(a.args[r]);return r=>{const o=i[0](r);for(let u=1;u<e;u+=2)if(o===i[u](r))return i[u+1](r);return i[e-1](r)}}function T2(a,t){const e=a.args.length,i=new Array(e);for(let r=0;r<e;++r)i[r]=Hn(a.args[r]);return r=>{const o=i[0](r),u=i[1](r);let h,f;for(let g=2;g<e;g+=2){const _=i[g](r);let y=i[g+1](r);const p=Array.isArray(y);if(p&&(y=$T(y)),_>=u)return g===2?y:p?w2(o,u,h,f,_,y):Kl(o,u,h,f,_,y);h=_,f=y}return f}}function R2(a,t){const e=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Hn(a.args[o]);switch(e){case B.ToString:return o=>{const u=r[0](o);return a.args[0].type===Yn?Ig(u):u.toString()};default:throw new Error(`Unsupported convert operator ${e}`)}}function Kl(a,t,e,i,r,o){const u=r-e;if(u===0)return i;const h=t-e,f=a===1?h/u:(Math.pow(a,h)-1)/(Math.pow(a,u)-1);return i+f*(o-i)}function w2(a,t,e,i,r,o){if(r-e===0)return i;const h=cp(i),f=cp(o);let g=f[2]-h[2];g>180?g-=360:g<-180&&(g+=360);const _=[Kl(a,t,e,h[0],r,f[0]),Kl(a,t,e,h[1],r,f[1]),h[2]+Kl(a,t,e,0,r,g),Kl(a,t,e,i[3],r,o[3])];return V1(tR(_))}function b2(a){return!0}function M2(a){const t=hv(),e=A2(a,t),i=dv();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,t.featureId){const u=r.getId();u!==void 0?i.featureId=u:i.featureId=null}return t.geometryType&&(i.geometryType=fv(r.getGeometry())),e(i)}}function Op(a){const t=hv(),e=a.length,i=new Array(e);for(let u=0;u<e;++u)i[u]=Kd(a[u],t);const r=dv(),o=new Array(e);return function(u,h){if(r.properties=u.getPropertiesInternal(),r.resolution=h,t.featureId){const g=u.getId();g!==void 0?r.featureId=g:r.featureId=null}let f=0;for(let g=0;g<e;++g){const _=i[g](r);_&&(o[f]=_,f+=1)}return o.length=f,o}}function A2(a,t){const e=a.length,i=new Array(e);for(let r=0;r<e;++r){const o=a[r],u="filter"in o?Ki(o.filter,Be,t):b2;let h;if(Array.isArray(o.style)){const f=o.style.length;h=new Array(f);for(let g=0;g<f;++g)h[g]=Kd(o.style[g],t)}else h=[Kd(o.style,t)];i[r]={filter:u,styles:h}}return function(r){const o=[];let u=!1;for(let h=0;h<e;++h){const f=i[h].filter;if(f(r)&&!(a[h].else&&u)){u=!0;for(const g of i[h].styles){const _=g(r);_&&o.push(_)}}}return o}}function Kd(a,t){const e=ho(a,"",t),i=fo(a,"",t),r=D2(a,t),o=L2(a,t),u=Je(a,"z-index",t);if(!e&&!i&&!r&&!o&&!Ma(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const h=new Xn;return function(f){let g=!0;if(e){const _=e(f);_&&(g=!1),h.setFill(_)}if(i){const _=i(f);_&&(g=!1),h.setStroke(_)}if(r){const _=r(f);_&&(g=!1),h.setText(_)}if(o){const _=o(f);_&&(g=!1),h.setImage(_)}return u&&h.setZIndex(u(f)),g?null:h}}function ho(a,t,e){let i;if(t+"fill-pattern-src"in a)i=z2(a,t+"fill-",e);else{if(a[t+"fill-color"]==="none")return o=>null;i=Pg(a,t+"fill-color",e)}if(!i)return null;const r=new pr;return function(o){const u=i(o);return u===Lg?null:(r.setColor(u),r)}}function fo(a,t,e){const i=Je(a,t+"stroke-width",e),r=Pg(a,t+"stroke-color",e);if(!i&&!r)return null;const o=zi(a,t+"stroke-line-cap",e),u=zi(a,t+"stroke-line-join",e),h=gv(a,t+"stroke-line-dash",e),f=Je(a,t+"stroke-line-dash-offset",e),g=Je(a,t+"stroke-miter-limit",e),_=new mr;return function(y){if(r){const p=r(y);if(p===Lg)return null;_.setColor(p)}if(i&&_.setWidth(i(y)),o){const p=o(y);if(p!=="butt"&&p!=="round"&&p!=="square")throw new Error("Expected butt, round, or square line cap");_.setLineCap(p)}if(u){const p=u(y);if(p!=="bevel"&&p!=="round"&&p!=="miter")throw new Error("Expected bevel, round, or miter line join");_.setLineJoin(p)}return h&&_.setLineDash(h(y)),f&&_.setLineDashOffset(f(y)),g&&_.setMiterLimit(g(y)),_}}function D2(a,t){const e="text-",i=zi(a,e+"value",t);if(!i)return null;const r=ho(a,e,t),o=ho(a,e+"background-",t),u=fo(a,e,t),h=fo(a,e+"background-",t),f=zi(a,e+"font",t),g=Je(a,e+"max-angle",t),_=Je(a,e+"offset-x",t),y=Je(a,e+"offset-y",t),p=Ca(a,e+"overflow",t),E=zi(a,e+"placement",t),x=Je(a,e+"repeat",t),T=Xc(a,e+"scale",t),C=Ca(a,e+"rotate-with-view",t),R=Je(a,e+"rotation",t),M=zi(a,e+"align",t),A=zi(a,e+"justify",t),L=zi(a,e+"baseline",t),D=Ca(a,e+"keep-upright",t),V=gv(a,e+"padding",t),W=Bc(a,e+"declutter-mode"),H=new Gg({declutterMode:W});return function(F){if(H.setText(i(F)),r&&H.setFill(r(F)),o&&H.setBackgroundFill(o(F)),u&&H.setStroke(u(F)),h&&H.setBackgroundStroke(h(F)),f&&H.setFont(f(F)),g&&H.setMaxAngle(g(F)),_&&H.setOffsetX(_(F)),y&&H.setOffsetY(y(F)),p&&H.setOverflow(p(F)),E){const q=E(F);if(q!=="point"&&q!=="line")throw new Error("Expected point or line for text-placement");H.setPlacement(q)}if(x&&H.setRepeat(x(F)),T&&H.setScale(T(F)),C&&H.setRotateWithView(C(F)),R&&H.setRotation(R(F)),M){const q=M(F);if(q!=="left"&&q!=="center"&&q!=="right"&&q!=="end"&&q!=="start")throw new Error("Expected left, right, center, start, or end for text-align");H.setTextAlign(q)}if(A){const q=A(F);if(q!=="left"&&q!=="right"&&q!=="center")throw new Error("Expected left, right, or center for text-justify");H.setJustify(q)}if(L){const q=L(F);if(q!=="bottom"&&q!=="top"&&q!=="middle"&&q!=="alphabetic"&&q!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");H.setTextBaseline(q)}return V&&H.setPadding(V(F)),D&&H.setKeepUpright(D(F)),H}}function L2(a,t){return"icon-src"in a?O2(a,t):"shape-points"in a?I2(a,t):"circle-radius"in a?N2(a,t):null}function O2(a,t){const e="icon-",i=e+"src",r=_v(a[i],i),o=_c(a,e+"anchor",t),u=Xc(a,e+"scale",t),h=Je(a,e+"opacity",t),f=_c(a,e+"displacement",t),g=Je(a,e+"rotation",t),_=Ca(a,e+"rotate-with-view",t),y=Np(a,e+"anchor-origin"),p=zp(a,e+"anchor-x-units"),E=zp(a,e+"anchor-y-units"),x=P2(a,e+"color"),T=G2(a,e+"cross-origin"),C=k2(a,e+"offset"),R=Np(a,e+"offset-origin"),M=mc(a,e+"width"),A=mc(a,e+"height"),L=F2(a,e+"size"),D=Bc(a,e+"declutter-mode"),V=new Yc({src:r,anchorOrigin:y,anchorXUnits:p,anchorYUnits:E,color:x,crossOrigin:T,offset:C,offsetOrigin:R,height:A,width:M,size:L,declutterMode:D});return function(W){return h&&V.setOpacity(h(W)),f&&V.setDisplacement(f(W)),g&&V.setRotation(g(W)),_&&V.setRotateWithView(_(W)),u&&V.setScale(u(W)),o&&V.setAnchor(o(W)),V}}function I2(a,t){const e="shape-",i=e+"points",r=e+"radius",o=Wd(a[i],i),u=Wd(a[r],r),h=ho(a,e,t),f=fo(a,e,t),g=Xc(a,e+"scale",t),_=_c(a,e+"displacement",t),y=Je(a,e+"rotation",t),p=Ca(a,e+"rotate-with-view",t),E=mc(a,e+"radius2"),x=mc(a,e+"angle"),T=Bc(a,e+"declutter-mode"),C=new Uc({points:o,radius:u,radius2:E,angle:x,declutterMode:T});return function(R){return h&&C.setFill(h(R)),f&&C.setStroke(f(R)),_&&C.setDisplacement(_(R)),y&&C.setRotation(y(R)),p&&C.setRotateWithView(p(R)),g&&C.setScale(g(R)),C}}function N2(a,t){const e="circle-",i=ho(a,e,t),r=fo(a,e,t),o=Je(a,e+"radius",t),u=Xc(a,e+"scale",t),h=_c(a,e+"displacement",t),f=Je(a,e+"rotation",t),g=Ca(a,e+"rotate-with-view",t),_=Bc(a,e+"declutter-mode"),y=new So({radius:5,declutterMode:_});return function(p){return o&&y.setRadius(o(p)),i&&y.setFill(i(p)),r&&y.setStroke(r(p)),h&&y.setDisplacement(h(p)),f&&y.setRotation(f(p)),g&&y.setRotateWithView(g(p)),u&&y.setScale(u(p)),y}}function Je(a,t,e){if(!(t in a))return;const i=Ki(a[t],At,e);return function(r){return Wd(i(r),t)}}function zi(a,t,e){if(!(t in a))return null;const i=Ki(a[t],Qe,e);return function(r){return _v(i(r),t)}}function z2(a,t,e){const i=zi(a,t+"pattern-src",e),r=Ip(a,t+"pattern-offset",e),o=Ip(a,t+"pattern-size",e),u=Pg(a,t+"color",e);return function(h){return{src:i(h),offset:r&&r(h),size:o&&o(h),color:u&&u(h)}}}function Ca(a,t,e){if(!(t in a))return null;const i=Ki(a[t],Be,e);return function(r){const o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function Pg(a,t,e){if(!(t in a))return null;const i=Ki(a[t],Yn,e);return function(r){return mv(i(r),t)}}function gv(a,t,e){if(!(t in a))return null;const i=Ki(a[t],vr,e);return function(r){return To(i(r),t)}}function _c(a,t,e){if(!(t in a))return null;const i=Ki(a[t],vr,e);return function(r){const o=To(i(r),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function Ip(a,t,e){if(!(t in a))return null;const i=Ki(a[t],vr,e);return function(r){return yv(i(r),t)}}function Xc(a,t,e){if(!(t in a))return null;const i=Ki(a[t],vr|At,e);return function(r){return U2(i(r),t)}}function mc(a,t){const e=a[t];if(e!==void 0){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}}function F2(a,t){const e=a[t];if(e!==void 0){if(typeof e=="number")return $e(e);if(!Array.isArray(e))throw new Error(`Expected a number or size array for ${t}`);if(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return e}}function G2(a,t){const e=a[t];if(e!==void 0){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}}function Np(a,t){const e=a[t];if(e!==void 0){if(e!=="bottom-left"&&e!=="bottom-right"&&e!=="top-left"&&e!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return e}}function zp(a,t){const e=a[t];if(e!==void 0){if(e!=="pixels"&&e!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return e}}function k2(a,t){const e=a[t];if(e!==void 0)return To(e,t)}function Bc(a,t){const e=a[t];if(e!==void 0){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);if(e!=="declutter"&&e!=="obstacle"&&e!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return e}}function P2(a,t){const e=a[t];if(e!==void 0)return mv(e,t)}function To(a,t){if(!Array.isArray(a))throw new Error(`Expected an array for ${t}`);const e=a.length;for(let i=0;i<e;++i)if(typeof a[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return a}function _v(a,t){if(typeof a!="string")throw new Error(`Expected a string for ${t}`);return a}function Wd(a,t){if(typeof a!="number")throw new Error(`Expected a number for ${t}`);return a}function mv(a,t){if(typeof a=="string")return a;const e=To(a,t),i=e.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return e}function yv(a,t){const e=To(a,t);if(e.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return e}function U2(a,t){return typeof a=="number"?a:yv(a,t)}const Pn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Fp(a,t,e){return function(i,r,o,u,h){if(!i)return;if(!r&&!t)return i;const f=t?0:o[0]*r,g=t?0:o[1]*r,_=h?h[0]:0,y=h?h[1]:0;let p=a[0]+f/2+_,E=a[2]-f/2+_,x=a[1]+g/2+y,T=a[3]-g/2+y;p>E&&(p=(E+p)/2,E=p),x>T&&(x=(T+x)/2,T=x);let C=ie(i[0],p,E),R=ie(i[1],x,T);if(u&&e&&r){const M=30*r;C+=-M*Math.log(1+Math.max(0,p-i[0])/M)+M*Math.log(1+Math.max(0,i[0]-E)/M),R+=-M*Math.log(1+Math.max(0,x-i[1])/M)+M*Math.log(1+Math.max(0,i[1]-T)/M)}return[C,R]}}function Y2(a){return a}function pv(a){return Math.pow(a,3)}function Fa(a){return 1-pv(1-a)}function X2(a){return 3*a*a-2*a*a*a}function B2(a){return a}function Ug(a,t,e,i){const r=Pt(t)/e[0],o=je(t)/e[1];return i?Math.min(a,Math.max(r,o)):Math.min(a,Math.min(r,o))}function Yg(a,t,e){let i=Math.min(a,t);const r=50;return i*=Math.log(1+r*Math.max(0,a/t-1))/r+1,e&&(i=Math.max(i,e),i/=Math.log(1+r*Math.max(0,e/a-1))/r+1),ie(i,e/2,t*2)}function H2(a,t,e,i){return t=t!==void 0?t:!0,function(r,o,u,h){if(r!==void 0){const f=a[0],g=a[a.length-1],_=e?Ug(f,e,u,i):f;if(h)return t?Yg(r,_,g):ie(r,g,_);const y=Math.min(_,r),p=Math.floor(lg(a,y,o));return a[p]>_&&p<a.length-1?a[p+1]:a[p]}}}function j2(a,t,e,i,r,o){return i=i!==void 0?i:!0,e=e!==void 0?e:0,function(u,h,f,g){if(u!==void 0){const _=r?Ug(t,r,f,o):t;if(g)return i?Yg(u,_,e):ie(u,e,_);const y=1e-9,p=Math.ceil(Math.log(t/_)/Math.log(a)-y),E=-h*(.5-y)+.5,x=Math.min(_,u),T=Math.floor(Math.log(t/x)/Math.log(a)+E),C=Math.max(p,T),R=t/Math.pow(a,C);return ie(R,e,_)}}}function Gp(a,t,e,i,r){return e=e!==void 0?e:!0,function(o,u,h,f){if(o!==void 0){const g=i?Ug(a,i,h,r):a;return!e||!f?ie(o,t,g):Yg(o,g,t)}}}function Xg(a){if(a!==void 0)return 0}function kp(a){if(a!==void 0)return a}function V2(a){const t=2*Math.PI/a;return function(e,i){if(i)return e;if(e!==void 0)return e=Math.floor(e/t+.5)*t,e}}function Z2(a){const t=bs(5);return function(e,i){return i||e===void 0?e:Math.abs(e)<=t?0:e}}const q2=42,Bg=256,Ed=0;class ii extends ci{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=pg(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&yT(),t.center&&(t.center=Vt(t.center,this.projection_)),t.extent&&(t.extent=Gi(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const h in Pn)delete e[h];this.setProperties(e,!0);const i=W2(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const r=K2(t),o=i.constraint,u=Q2(t);this.constraints_={center:r,resolution:o,rotation:u},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const i=this.getCenterInternal();if(i){const r=t||[0,0,0,0];e=e||[0,0,0,0];const o=this.getResolution(),u=o/2*(r[3]-e[3]+e[1]-r[1]),h=o/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([i[0]+u,i[1]-h])}}getUpdatedOptions_(t){const e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let i=0;i<e.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Vt(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Vt(r.anchor,this.getProjection())),e[i]=r}this.animateInternal.apply(this,e)}animateInternal(t){let e=arguments.length,i;e>1&&typeof arguments[e-1]=="function"&&(i=arguments[e-1],--e);let r=0;for(;r<e&&!this.isDef();++r){const _=arguments[r];_.center&&this.setCenterInternal(_.center),_.zoom!==void 0?this.setZoom(_.zoom):_.resolution&&this.setResolution(_.resolution),_.rotation!==void 0&&this.setRotation(_.rotation)}if(r===e){i&&Vu(i,!0);return}let o=Date.now(),u=this.targetCenter_.slice(),h=this.targetResolution_,f=this.targetRotation_;const g=[];for(;r<e;++r){const _=arguments[r],y={start:o,complete:!1,anchor:_.anchor,duration:_.duration!==void 0?_.duration:1e3,easing:_.easing||X2,callback:i};if(_.center&&(y.sourceCenter=u,y.targetCenter=_.center.slice(),u=y.targetCenter),_.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(_.zoom),h=y.targetResolution):_.resolution&&(y.sourceResolution=h,y.targetResolution=_.resolution,h=y.targetResolution),_.rotation!==void 0){y.sourceRotation=f;const p=_r(_.rotation-f+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=f+p,f=y.targetRotation}J2(y)?y.complete=!0:o+=y.duration,g.push(y)}this.animations_.push(g),this.setHint(ze.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ze.ANIMATING]>0}getInteracting(){return this.hints_[ze.INTERACTING]>0}cancelAnimations(){this.setHint(ze.ANIMATING,-this.hints_[ze.ANIMATING]);let t;for(let e=0,i=this.animations_.length;e<i;++e){const r=this.animations_[e];if(r[0].callback&&Vu(r[0].callback,!1),!t)for(let o=0,u=r.length;o<u;++o){const h=r[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let o=!0;for(let u=0,h=r.length;u<h;++u){const f=r[u];if(f.complete)continue;const g=t-f.start;let _=f.duration>0?g/f.duration:1;_>=1?(f.complete=!0,_=1):o=!1;const y=f.easing(_);if(f.sourceCenter){const p=f.sourceCenter[0],E=f.sourceCenter[1],x=f.targetCenter[0],T=f.targetCenter[1];this.nextCenter_=f.targetCenter;const C=p+y*(x-p),R=E+y*(T-E);this.targetCenter_=[C,R]}if(f.sourceResolution&&f.targetResolution){const p=y===1?f.targetResolution:f.sourceResolution+y*(f.targetResolution-f.sourceResolution);if(f.anchor){const E=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(p,0,E,!0);this.targetCenter_=this.calculateCenterZoom(x,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const p=y===1?_r(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+y*(f.targetRotation-f.sourceRotation);if(f.anchor){const E=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(E,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),e=!0,!f.complete)break}if(o){this.animations_[i]=null,this.setHint(ze.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const u=r[0].callback;u&&Vu(u,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-e[0],r[1]-e[1]],fg(i,t-this.getRotation()),XC(i,e)),i}calculateCenterZoom(t,e){let i;const r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){const u=e[0]-t*(e[0]-r[0])/o,h=e[1]-t*(e[1]-r[1])/o;i=[u,h]}return i}getViewportSize_(t){const e=this.viewportSize_;if(t){const i=e[0],r=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Ls(t,this.getProjection())}getCenterInternal(){return this.get(Pn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return Lc(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();zt(e,"The view center is not defined");const i=this.getResolution();zt(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return zt(r!==void 0,"The view rotation is not defined"),Pd(e,i,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Pn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(Gi(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const i=Pt(t)/e[0],r=je(t)/e[1];return Math.max(i,r)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(e/i)/Math.log(t);return function(o){return e/Math.pow(t,o*r)}}getRotation(){return this.get(Pn.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/e;return function(u){return Math.log(i/u)/e/o}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const u=this.getViewportSizeMinusPadding_();r=xd(r,this.getViewportSize_(),[u[0]/2+o[3],u[1]/2+o[0]],e,i)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e=this.minZoom_||0,i,r;if(this.resolutions_){const o=lg(this.resolutions_,t,1);e=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return e+Math.log(i/t)/Math.log(r)}getResolutionForZoom(t){var e;if((e=this.resolutions_)!=null&&e.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=ie(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(r,ie(t-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let i;if(zt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){zt(!bc(t),"Cannot fit empty extent provided as `geometry`");const r=Gi(t,this.getProjection());i=lp(r)}else if(t.getType()==="Circle"){const r=Gi(t.getExtent(),this.getProjection());i=lp(r),i.rotate(this.getRotation(),Ds(r))}else i=t;this.fitInternal(i,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),i=Math.cos(e),r=Math.sin(-e),o=t.getFlatCoordinates(),u=t.getStride();let h=1/0,f=1/0,g=-1/0,_=-1/0;for(let y=0,p=o.length;y<p;y+=u){const E=o[y]*i-o[y+1]*r,x=o[y]*r+o[y+1]*i;h=Math.min(h,E),f=Math.min(f,x),g=Math.max(g,E),_=Math.max(_,x)}return[h,f,g,_]}fitInternal(t,e){e=e||{};let i=e.size;i||(i=this.getViewportSizeMinusPadding_());const r=e.padding!==void 0?e.padding:[0,0,0,0],o=e.nearest!==void 0?e.nearest:!1;let u;e.minResolution!==void 0?u=e.minResolution:e.maxZoom!==void 0?u=this.getResolutionForZoom(e.maxZoom):u=0;const h=this.rotatedExtentForGeometry(t);let f=this.getResolutionForExtentInternal(h,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);f=isNaN(f)?u:Math.max(f,u),f=this.getConstrainedResolution(f,o?0:1);const g=this.getRotation(),_=Math.sin(g),y=Math.cos(g),p=Ds(h);p[0]+=(r[1]-r[3])/2*f,p[1]+=(r[0]-r[2])/2*f;const E=p[0]*y-p[1]*_,x=p[1]*y+p[0]*_,T=this.getConstrainedCenter([E,x],f),C=e.callback?e.callback:ba;e.duration!==void 0?this.animateInternal({resolution:f,center:T,duration:e.duration,easing:e.easing},C):(this.targetResolution_=f,this.targetCenter_=T,this.applyTargetState_(!1,!0),Vu(C,!0))}centerOn(t,e,i){this.centerOnInternal(Vt(t,this.getProjection()),e,i)}centerOnInternal(t,e,i){this.setCenterInternal(xd(t,e,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,i,r){let o;const u=this.padding_;if(u&&t){const h=this.getViewportSizeMinusPadding_(-i),f=xd(t,r,[h[0]/2+u[3],h[1]/2+u[0]],e,i);o=[t[0]-f[0],t[1]-f[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const e=Ls(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&Vt(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,i);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=Vt(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Vt(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const i=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),u=this.constraints_.resolution(this.targetResolution_,0,o,i),h=this.constraints_.center(this.targetCenter_,u,o,i,this.calculateCenterShift(this.targetCenter_,u,r,o));this.get(Pn.ROTATION)!==r&&this.set(Pn.ROTATION,r),this.get(Pn.RESOLUTION)!==u&&(this.set(Pn.RESOLUTION,u),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Pn.CENTER)||!Xe(this.get(Pn.CENTER),h))&&this.set(Pn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,i){t=t!==void 0?t:200;const r=e||0,o=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,r,u),f=this.constraints_.center(this.targetCenter_,h,u,!1,this.calculateCenterShift(this.targetCenter_,h,o,u));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=f,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!Xe(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:f,resolution:h,duration:t,easing:Fa,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ze.INTERACTING,1)}endInteraction(t,e,i){i=i&&Vt(i,this.getProjection()),this.endInteractionInternal(t,e,i)}endInteractionInternal(t,e,i){this.getInteracting()&&(this.setHint(ze.INTERACTING,-1),this.resolveConstraints(t,e,i))}getConstrainedCenter(t,e){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)}getConstrainedZoom(t,e){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))}getConstrainedResolution(t,e){e=e||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,i)}}function Vu(a,t){setTimeout(function(){a(t)},0)}function K2(a){if(a.extent!==void 0){const e=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return Fp(a.extent,a.constrainOnlyCenter,e)}const t=pg(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,Fp(e,!1,!1)}return Y2}function W2(a){let t,e,i,u=a.minZoom!==void 0?a.minZoom:Ed,h=a.maxZoom!==void 0?a.maxZoom:28;const f=a.zoomFactor!==void 0?a.zoomFactor:2,g=a.multiWorld!==void 0?a.multiWorld:!1,_=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,y=a.showFullExtent!==void 0?a.showFullExtent:!1,p=pg(a.projection,"EPSG:3857"),E=p.getExtent();let x=a.constrainOnlyCenter,T=a.extent;if(!g&&!T&&p.isGlobal()&&(x=!1,T=E),a.resolutions!==void 0){const C=a.resolutions;e=C[u],i=C[h]!==void 0?C[h]:C[C.length-1],a.constrainResolution?t=H2(C,_,!x&&T,y):t=Gp(e,i,_,!x&&T,y)}else{const R=(E?Math.max(Pt(E),je(E)):360*dg.degrees/p.getMetersPerUnit())/Bg/Math.pow(2,Ed),M=R/Math.pow(2,28-Ed);e=a.maxResolution,e!==void 0?u=0:e=R/Math.pow(f,u),i=a.minResolution,i===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?i=e/Math.pow(f,h):i=R/Math.pow(f,h):i=M),h=u+Math.floor(Math.log(e/i)/Math.log(f)),i=e/Math.pow(f,h-u),a.constrainResolution?t=j2(f,e,i,_,!x&&T,y):t=Gp(e,i,_,!x&&T,y)}return{constraint:t,maxResolution:e,minResolution:i,minZoom:u,zoomFactor:f}}function Q2(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const e=a.constrainRotation;return e===void 0||e===!0?Z2():e===!1?kp:typeof e=="number"?V2(e):kp}return Xg}function J2(a){return!(a.sourceCenter&&a.targetCenter&&!Xe(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function xd(a,t,e,i,r){const o=Math.cos(-r);let u=Math.sin(-r),h=a[0]*o-a[1]*u,f=a[1]*o+a[0]*u;h+=(t[0]/2-e[0])*i,f+=(e[1]-t[1]/2)*i,u=-u;const g=h*o-f*u,_=f*o+h*u;return[g,_]}const kt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class vv extends ci{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);typeof t.properties=="object"&&(delete e.properties,Object.assign(e,t.properties)),e[kt.OPACITY]=t.opacity!==void 0?t.opacity:1,zt(typeof e[kt.OPACITY]=="number","Layer opacity must be a number"),e[kt.VISIBLE]=t.visible!==void 0?t.visible:!0,e[kt.Z_INDEX]=t.zIndex,e[kt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,e[kt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,e[kt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,e[kt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=e.className!==void 0?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return e.opacity=ie(Math.round(this.getOpacity()*100)/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=i===void 0&&!e.managed?1/0:i,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return Nt()}getLayerStatesArray(t){return Nt()}getExtent(){return this.get(kt.EXTENT)}getMaxResolution(){return this.get(kt.MAX_RESOLUTION)}getMinResolution(){return this.get(kt.MIN_RESOLUTION)}getMinZoom(){return this.get(kt.MIN_ZOOM)}getMaxZoom(){return this.get(kt.MAX_ZOOM)}getOpacity(){return this.get(kt.OPACITY)}getSourceState(){return Nt()}getVisible(){return this.get(kt.VISIBLE)}getZIndex(){return this.get(kt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(kt.EXTENT,t)}setMaxResolution(t){this.set(kt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(kt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(kt.MAX_ZOOM,t)}setMinZoom(t){this.set(kt.MIN_ZOOM,t)}setOpacity(t){zt(typeof t=="number","Layer opacity must be a number"),this.set(kt.OPACITY,t)}setVisible(t){this.set(kt.VISIBLE,t)}setZIndex(t){this.set(kt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Hc extends vv{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(kt.SOURCE,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(kt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Bt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=wt(t,mt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let e;const i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof ii?e={viewState:t.getState(),extent:t.calculateExtent()}:e=t,!e.layerStatesArray&&i&&(e.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(e.layerStatesArray){if(r=e.layerStatesArray.find(u=>u.layer===this),!r)return!1}else r=this.getLayerState();const o=this.getExtent();return Hg(r,e.viewState)&&(!o||He(o,e.extent))}getAttributions(t){var o;if(!this.isVisible(t))return[];const e=(o=this.getSource())==null?void 0:o.getAttributions();if(!e)return[];const i=t instanceof ii?t.getViewStateAndExtent():t;let r=e(i);return Array.isArray(r)||(r=[r]),r}render(t,e){const i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(kt.MAP,t)}getMapInternal(){return this.get(kt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Bt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Bt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=wt(t,bn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=wt(this,mt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const e=t.frameState.layerStatesArray,i=this.getLayerState(!1);zt(!e.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(i)}setSource(t){this.set(kt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Hg(a,t){if(!a.visible)return!1;const e=t.resolution;if(e<a.minResolution||e>=a.maxResolution)return!1;const i=t.zoom;return i>a.minZoom&&i<=a.maxZoom}const Pp={RENDER_ORDER:"renderOrder"};class Ev extends Hc{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Pp.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new iv(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(Pp.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?rv:t;const e=$2(t);this.styleFunction_=t===null?void 0:FR(e),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function $2(a){if(a===void 0)return rv;if(!a)return null;if(typeof a=="function"||a instanceof Xn)return a;if(!Array.isArray(a))return Op([a]);if(a.length===0)return[];const t=a.length,e=a[0];if(e instanceof Xn){const r=new Array(t);for(let o=0;o<t;++o){const u=a[o];if(!(u instanceof Xn))throw new Error("Expected a list of style instances");r[o]=u}return r}if("style"in e){const r=new Array(t);for(let o=0;o<t;++o){const u=a[o];if(!("style"in u))throw new Error("Expected a list of rules with a style property");r[o]=u}return M2(r)}return Op(a)}class jg extends Ev{constructor(t){super(t)}createRenderer(){return new n2(this)}}const ft={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Vg extends Cc{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(mt.CHANGE)}release(){this.setState(ft.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ft.EMPTY){if(this.state!==ft.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Nt()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=e,this.transitionStarts_[t]=i;else if(i===-1)return 1;const r=e-i+1e3/60;return r>=this.transition_?1:pv(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class xv extends Vg{constructor(t,e,i,r,o,u){super(t,e,u),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ft.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ft.ERROR,this.unlistenImage_(),this.image_=tw(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ft.LOADED:this.state=ft.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ft.ERROR&&(this.state=ft.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ft.IDLE&&(this.state=ft.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=iR(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function tw(){const a=ve(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class ew{constructor(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let i=e-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const r=this.points_[e+2]-this.points_[i+2];if(r<1e3/60)return!1;const o=this.points_[e]-this.points_[i],u=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(u,o),this.initialVelocity_=Math.sqrt(o*o+u*u)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class ya extends Dn{constructor(t,e,i){super(t),this.map=e,this.frameState=i!==void 0?i:null}}class Ni extends ya{constructor(t,e,i,r,o,u){super(t,e,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=u}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Dt={SINGLECLICK:"singleclick",CLICK:mt.CLICK,DBLCLICK:mt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Qd={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class nw extends Cc{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e===void 0?1:e,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=wt(i,Qd.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=wt(i,Qd.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(mt.TOUCHMOVE,this.boundHandleTouchMove_,H1?{passive:!1}:!1)}emulateClick_(t){let e=new Ni(Dt.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Ni(Dt.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Ni(Dt.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){const e=t,i=e.pointerId;if(e.type==Dt.POINTERUP||e.type==Dt.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==e.target){delete this.trackedTouches_[r];break}}else(e.type==Dt.POINTERDOWN||e.type==Dt.POINTERMOVE)&&(this.trackedTouches_[i]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new Ni(Dt.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Bt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const e=new Ni(Dt.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(wt(i,Dt.POINTERMOVE,this.handlePointerMove_,this),wt(i,Dt.POINTERUP,this.handlePointerUp_,this),wt(this.element_,Dt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(wt(this.element_.getRootNode(),Dt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new Ni(Dt.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Ni(Dt.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Bt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(mt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Bt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Bt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Cs={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ie={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},yc=1/0;class iw{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,yo(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,i=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(t){zt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=yc?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,i=this.priorities_,r=e.length,o=e[t],u=i[t],h=t;for(;t<r>>1;){const f=this.getLeftChildIndex_(t),g=this.getRightChildIndex_(t),_=g<r&&i[g]<i[f]?g:f;e[t]=e[_],i[t]=i[_],t=_}e[t]=o,i[t]=u,this.siftDown_(h,t)}siftDown_(t,e){const i=this.elements_,r=this.priorities_,o=i[e],u=r[e];for(;e>t;){const h=this.getParentIndex_(e);if(r[h]>u)i[e]=i[h],r[e]=r[h],e=h;else break}i[e]=o,r[e]=u}reprioritize(){const t=this.priorityFunction_,e=this.elements_,i=this.priorities_;let r=0;const o=e.length;let u,h,f;for(h=0;h<o;++h)u=e[h],f=t(u),f==yc?delete this.queuedElements_[this.keyFunction_(u)]:(i[r]=f,e[r++]=u);e.length=r,i.length=r,this.heapify_()}}class sw extends iw{constructor(t,e){super(i=>t.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(mt.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,i=e.getState();if(i===ft.LOADED||i===ft.ERROR||i===ft.EMPTY){i!==ft.ERROR&&e.removeEventListener(mt.CHANGE,this.boundHandleTileChange_);const r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let i=0;for(;this.tilesLoading_<t&&i<e&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()===ft.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}}function rw(a,t,e,i,r){if(!a||!(e in a.wantedTiles)||!a.wantedTiles[e][t.getKey()])return yc;const o=a.viewState.center,u=i[0]-o[0],h=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(u*u+h*h)/r}class Zg extends ci{constructor(t){super();const e=t.element;e&&!t.target&&!e.style.pointerEvents&&(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var e;this.map_&&((e=this.element)==null||e.remove());for(let i=0,r=this.listenerKeys.length;i<r;++i)Bt(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=t,t){const i=this.target_??t.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==ba&&this.listenerKeys.push(wt(t,Cs.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class aw extends Zg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const e=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:e+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"›",u=t.collapseClassName!==void 0?t.collapseClassName:e+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=u):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(mt.CLICK,this.handleClick_.bind(this),!1);const g=e+" "+Fc+" "+zg+(this.collapsed_&&this.collapsible_?" "+fp:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=g,_.appendChild(this.toggleButton_),_.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=this.getMap().getAllLayers(),i=new Set(e.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!e.some(o=>{var u;return((u=o.getSource())==null?void 0:u.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(i)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const e=await Promise.all(this.collectSourceAttributions_(t).map(r=>LC(()=>r))),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!qi(e,this.renderedAttributions_)){eR(this.ulElement_);for(let r=0,o=e.length;r<o;++r){const u=document.createElement("li");u.innerHTML=e[r],this.ulElement_.appendChild(u)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(fp),this.collapsed_?hp(this.collapseLabel_,this.label_):hp(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class lw extends Zg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"⇧",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const o=t.tipLabel?t.tipLabel:"Reset rotation",u=document.createElement("button");u.className=e+"-reset",u.setAttribute("type","button"),u.title=o,u.appendChild(this.label_),u.addEventListener(mt.CLICK,this.handleClick_.bind(this),!1);const h=e+" "+Fc+" "+zg,f=this.element;f.className=h,f.appendChild(u),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Yu)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const i=e.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:Fa}):e.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const i=e.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Yu);!o&&i===0?this.element.classList.add(Yu):o&&i!==0&&this.element.classList.remove(Yu)}this.label_.style.transform=r}this.rotation_=i}}class ow extends Zg{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:e+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:e+"-out",u=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"–",f=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",g=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",_=document.createElement("button");_.className=r,_.setAttribute("type","button"),_.title=f,_.appendChild(typeof u=="string"?document.createTextNode(u):u),_.addEventListener(mt.CLICK,this.handleClick_.bind(this,i),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=g,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(mt.CLICK,this.handleClick_.bind(this,-i),!1);const p=e+" "+Fc+" "+zg,E=this.element;E.className=p,E.appendChild(_),E.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const o=i.getConstrainedZoom(r+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Fa})):i.setZoom(o)}}}function uw(a){a=a||{};const t=new wn;return(a.zoom!==void 0?a.zoom:!0)&&t.push(new ow(a.zoomOptions)),(a.rotate!==void 0?a.rotate:!0)&&t.push(new lw(a.rotateOptions)),(a.attribution!==void 0?a.attribution:!0)&&t.push(new aw(a.attributionOptions)),t}const Jd={ACTIVE:"active"};class Ro extends ci{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Jd.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(Jd.ACTIVE,t)}setMap(t){this.map_=t}}function cw(a,t,e){const i=a.getCenterInternal();if(i){const r=[i[0]+t[0],i[1]+t[1]];a.animateInternal({duration:e!==void 0?e:250,easing:B2,center:a.getConstrainedCenter(r)})}}function qg(a,t,e,i){const r=a.getZoom();if(r===void 0)return;const o=a.getConstrainedZoom(r+t),u=a.getResolutionForZoom(o);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:u,anchor:e,duration:i!==void 0?i:250,easing:Fa})}class hw extends Ro{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let e=!1;if(t.type==Dt.DBLCLICK){const i=t.originalEvent,r=t.map,o=t.coordinate,u=i.shiftKey?-this.delta_:this.delta_,h=r.getView();qg(h,u,o,this.duration_),i.preventDefault(),e=!0}return!e}}function $d(a){const t=arguments;return function(e){let i=!0;for(let r=0,o=t.length;r<o&&(i=i&&t[r](e),!!i);++r);return i}}const fw=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},dw=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},gw=function(a){const t=a.map.getTargetElement(),e=t.getRootNode(),i=a.map.getOwnerDocument().activeElement;return e instanceof ShadowRoot?e.host.contains(i):t.contains(i)},Sv=function(a){const t=a.map.getTargetElement(),e=t.getRootNode();return(e instanceof ShadowRoot?e.host:t).hasAttribute("tabindex")?gw(a):!0},pc=yr,Cv=function(a){const t=a.originalEvent;return t.button==0&&!(qT&&U1&&t.ctrlKey)},_w=xr,mw=function(a){return a.type==Dt.SINGLECLICK},Kg=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},yw=function(a){const t=a.originalEvent;return U1?t.metaKey:t.ctrlKey},Tv=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Rv=function(a){const t=a.originalEvent,e=t.target.tagName;return e!=="INPUT"&&e!=="SELECT"&&e!=="TEXTAREA"&&!t.target.isContentEditable},Sd=function(a){const t=a.originalEvent;return zt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},wv=function(a){const t=a.originalEvent;return zt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};class Ns extends Ro{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Dt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Dt.POINTERUP){const i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Dt.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==Dt.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Wg(a){const t=a.length;let e=0,i=0;for(let r=0;r<t;r++)e+=a[r].clientX,i+=a[r].clientY;return{clientX:e/t,clientY:i/t}}class pw extends Ns{constructor(t){super({stopDown:xr}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:$d(Kg,wv);this.condition_=t.onFocusOnly?$d(Sv,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const i=this.targetPointers,r=e.getEventPixel(Wg(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=t.map.getView();HC(o,h.getResolution()),fg(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,i=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),u=i.getCenterInternal(),h=e.getPixelFromCoordinateInternal(u),f=e.getCoordinateFromPixelInternal([h[0]-r*Math.cos(o),h[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(f),duration:500,easing:Fa})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class vw extends Ns{constructor(t){t=t||{},super({stopDown:xr}),this.condition_=t.condition?t.condition:dw,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Sd(t))return;const e=t.map,i=e.getView();if(i.getConstraints().rotation===Xg)return;const r=e.getSize(),o=t.pixel,u=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=u-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=u}handleUpEvent(t){return Sd(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Sd(t)&&Cv(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Ew extends Sc{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+i,r.top=Math.min(t[1],e[1])+i,r.width=Math.abs(e[0]-t[0])+i,r.height=Math.abs(e[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,r=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new oi([r])}getGeometry(){return this.geometry_}}const ha={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Xl extends Dn{constructor(t,e,i){super(t),this.coordinate=e,this.mapBrowserEvent=i}}class xw extends Ns{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new Ew(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??Cv,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,i){const r=i[0]-e[0],o=i[1]-e[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Xl(ha.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Xl(e?ha.BOXEND:ha.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Xl(ha.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Xl(ha.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Xl(ha.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class Sw extends xw{constructor(t){t=t||{};const e=t.condition?t.condition:Tv;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(r),u=i.getResolutionForExtentInternal(o),h=i.getResolution()/u;r=r.clone(),r.scale(h*h)}i.fitInternal(r,{duration:this.duration_,easing:Fa})}}const or={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Cw extends Ro{constructor(t){super(),t=t||{},this.defaultCondition_=function(e){return Kg(e)&&Rv(e)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==mt.KEYDOWN){const i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==or.DOWN||r==or.LEFT||r==or.RIGHT||r==or.UP)){const u=t.map.getView(),h=u.getResolution()*this.pixelDelta_;let f=0,g=0;r==or.DOWN?g=-h:r==or.LEFT?f=-h:r==or.RIGHT?f=h:g=h;const _=[f,g];fg(_,u.getRotation()),cw(u,_,this.duration_),i.preventDefault(),e=!0}}return!e}}class Tw extends Ro{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(e){return!yw(e)&&Rv(e)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let e=!1;if(t.type==mt.KEYDOWN||t.type==mt.KEYPRESS){const i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==="+"||r==="-")){const o=t.map,u=r==="+"?this.delta_:-this.delta_,h=o.getView();qg(h,u,void 0,this.duration_),i.preventDefault(),e=!0}}return!e}}class Rw extends Ro{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const e=t.condition?t.condition:pc;this.condition_=t.onFocusOnly?$d(Sv,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==mt.WHEEL)return!0;const i=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==mt.WHEEL&&(o=r.deltaY,VT&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Y1),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const u=Date.now();this.startTime_===void 0&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=i.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=u,!1;this.totalDelta_+=o;const f=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),f),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let i=-ie(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),qg(e,i,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class ww extends Ns{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=xr),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let e=0;const i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const f=o-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=f}this.lastAngle_=o;const u=t.map,h=u.getView();h.getConstraints().rotation!==Xg&&(this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(Wg(this.targetPointers))),this.rotating_&&(u.render(),h.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}class bw extends Ns{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=xr),super(e),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,u=i.clientY-r.clientY,h=Math.sqrt(o*o+u*u);this.lastDistance_!==void 0&&(e=this.lastDistance_/h),this.lastDistance_=h;const f=t.map,g=f.getView();e!=1&&(this.lastScaleDelta_=e),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(Wg(this.targetPointers))),f.render(),g.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const i=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}function Mw(a){a=a||{};const t=new wn,e=new ew(-.005,.05,100);return(a.altShiftDragRotate!==void 0?a.altShiftDragRotate:!0)&&t.push(new vw),(a.doubleClickZoom!==void 0?a.doubleClickZoom:!0)&&t.push(new hw({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan!==void 0?a.dragPan:!0)&&t.push(new pw({onFocusOnly:a.onFocusOnly,kinetic:e})),(a.pinchRotate!==void 0?a.pinchRotate:!0)&&t.push(new ww),(a.pinchZoom!==void 0?a.pinchZoom:!0)&&t.push(new bw({duration:a.zoomDuration})),(a.keyboard!==void 0?a.keyboard:!0)&&(t.push(new Cw),t.push(new Tw({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom!==void 0?a.mouseWheelZoom:!0)&&t.push(new Rw({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom!==void 0?a.shiftDragZoom:!0)&&t.push(new Sw({duration:a.zoomDuration})),t}class Ts extends Dn{constructor(t,e){super(t),this.layer=e}}const Cd={LAYERS:"layers"};class Ga extends vv{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let i=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Cd.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new wn(i.slice(),{unique:!0}):zt(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new wn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Bt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(wt(t,pe.ADD,this.handleLayersAdd_,this),wt(t,pe.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Bt);yo(this.listenerKeys_);const e=t.getArray();for(let i=0,r=e.length;i<r;i++){const o=e[i];this.registerLayerListeners_(o),this.dispatchEvent(new Ts("addlayer",o))}this.changed()}registerLayerListeners_(t){const e=[wt(t,wa.PROPERTYCHANGE,this.handleLayerChange_,this),wt(t,mt.CHANGE,this.handleLayerChange_,this)];t instanceof Ga&&e.push(wt(t,"addlayer",this.handleLayerGroupAdd_,this),wt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[St(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new Ts("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Ts("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Ts("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,i=St(e);this.listenerKeys_[i].forEach(Bt),delete this.listenerKeys_[i],this.dispatchEvent(new Ts("removelayer",e)),this.changed()}getLayers(){return this.get(Cd.LAYERS)}setLayers(t){const e=this.getLayers();if(e){const i=e.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Ts("removelayer",i[r]))}this.set(Cd.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}getLayerStatesArray(t){const e=t!==void 0?t:[],i=e.length;this.getLayers().forEach(function(u){u.getLayerStatesArray(e)});const r=this.getLayerState();let o=r.zIndex;!t&&r.zIndex===void 0&&(o=0);for(let u=i,h=e.length;u<h;u++){const f=e[u];f.opacity*=r.opacity,f.visible=f.visible&&r.visible,f.maxResolution=Math.min(f.maxResolution,r.maxResolution),f.minResolution=Math.max(f.minResolution,r.minResolution),f.minZoom=Math.max(f.minZoom,r.minZoom),f.maxZoom=Math.min(f.maxZoom,r.maxZoom),r.extent!==void 0&&(f.extent!==void 0?f.extent=gr(f.extent,r.extent):f.extent=r.extent),f.zIndex===void 0&&(f.zIndex=o)}return e}getSourceState(){return"ready"}}class Aw extends Sc{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){Nt()}calculateMatrices2D(t){const e=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Vi(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),M1(r,i)}forEachFeatureAtCoordinate(t,e,i,r,o,u,h,f){let g;const _=e.viewState;function y(L,D,V,W){return o.call(u,D,L?V:null,W)}const p=_.projection,E=x1(t.slice(),p),x=[[0,0]];if(p.canWrapX()&&r){const L=p.getExtent(),D=Pt(L);x.push([-D,0],[D,0])}const T=e.layerStatesArray,C=T.length,R=[],M=[];for(let L=0;L<x.length;L++)for(let D=C-1;D>=0;--D){const V=T[D],W=V.layer;if(W.hasRenderer()&&Hg(V,_)&&h.call(f,W)){const H=W.getRenderer(),F=W.getSource();if(H&&F){const q=F.getWrapX()?E:t,it=y.bind(null,V.managed);M[0]=q[0]+x[L][0],M[1]=q[1]+x[L][1],g=H.forEachFeatureAtCoordinate(M,e,i,it,R)}if(g)return g}}if(R.length===0)return;const A=1/R.length;return R.forEach((L,D)=>L.distanceSq+=D*A),R.sort((L,D)=>L.distanceSq-D.distanceSq),R.some(L=>g=L.callback(L.feature,L.layer,L.geometry)),g}hasFeatureAtCoordinate(t,e,i,r,o,u){return this.forEachFeatureAtCoordinate(t,e,i,r,yr,this,o,u)!==void 0}getMap(){return this.map_}renderFrame(t){Nt()}scheduleExpireIconCache(t){Mn.canExpireCache()&&t.postRenderFunctions.push(Dw)}}function Dw(a,t){Mn.expire()}class Lw extends Aw{constructor(t){super(t),this.fontChangeListenerKey_=wt(Ii,wa.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=Fc+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const i=this.getMap();if(i.hasListener(t)){const r=new uv(t,void 0,e);i.dispatchEvent(r)}}disposeInternal(){Bt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(bn.PRECOMPOSE,t);const e=t.layerStatesArray.sort((h,f)=>h.zIndex-f.zIndex);e.some(h=>h.layer instanceof Ev&&h.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const o=[];let u=null;for(let h=0,f=e.length;h<f;++h){const g=e[h];t.layerIndex=h;const _=g.layer,y=_.getSourceState();if(!Hg(g,r)||y!="ready"&&y!="undefined"){_.unrender();continue}const p=_.render(t,u);p&&(p!==u&&(this.children_.push(p),u=p),o.push(g))}this.declutter(t,o),nR(this.element_,this.children_),this.dispatchRenderEvent(bn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let i=e.length-1;i>=0;--i){const r=e[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(t,r)}e.forEach(i=>i.layer.renderDeferred(t))}}}function bv(a){if(a instanceof Hc){a.setMapInternal(null);return}a instanceof Ga&&a.getLayers().forEach(bv)}function Mv(a,t){if(a instanceof Hc){a.setMapInternal(t);return}if(a instanceof Ga){const e=a.getLayers().getArray();for(let i=0,r=e.length;i<r;++i)Mv(e[i],t)}}let Ow=class extends ci{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=Iw(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Y1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Bn(),this.pixelToCoordinateTransform_=Bn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||uw(),this.interactions=e.interactions||Mw({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new sw(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ie.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ie.VIEW,this.handleViewChanged_),this.addChangeListener(Ie.SIZE,this.handleSizeChanged_),this.addChangeListener(Ie.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const i=this;t.view&&!(t.view instanceof ii)&&t.view.then(function(r){i.setView(new ii(r))}),this.controls.addEventListener(pe.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(pe.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(pe.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(pe.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(pe.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(pe.REMOVE,r=>{const o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Mv(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,u=i.layerFilter!==void 0?i.layerFilter:yr,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,h,e,null,u,null)}getFeaturesAtPixel(t,e){const i=[];return this.forEachFeatureAtPixel(t,function(r){i.push(r)},e),i}getAllLayers(){const t=[];function e(i){i.forEach(function(r){r instanceof Ga?e(r.getLayers()):t.push(r)})}return e(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};const r=e.layerFilter!==void 0?e.layerFilter:yr,o=e.hitTolerance!==void 0?e.hitTolerance:0,u=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,u,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],u=i.height/r[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-i.left)/o,(h.clientY-i.top)/u]}getTarget(){return this.get(Ie.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Ls(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?ye(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ie.LAYERGROUP)}setLayers(t){const e=this.getLayerGroup();if(t instanceof wn){e.setLayers(t);return}const i=e.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const r=t[e];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const u=r.layer.getSource();if(u&&u.loading)return!0}return!1}getPixelFromCoordinate(t){const e=Vt(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?ye(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ie.SIZE)}getView(){return this.get(Ie.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,i,r){return rw(this.frameState_,t,e,i,r)}handleBrowserEvent(t,e){e=e||t.type;const i=new Ni(e,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,i=e.type;if(i===Qd.POINTERDOWN||i===mt.WHEEL||i===mt.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,u=e.target,h=o instanceof ShadowRoot?o.host===u?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(u)||!h.contains(u))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const u=r[o];if(u.getMap()!==this||!u.getActive()||!this.getTargetElement())continue;if(!u.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let r=this.maxTilesLoading_,o=r;if(t){const u=t.viewHints;if(u[ze.ANIMATING]||u[ze.INTERACTING]){const h=Date.now()-t.time>8;r=h?0:8,o=h?0:2}}e.getTilesLoading()<r&&(e.reprioritize(),e.loadMoreTiles(r,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(bn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(bn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ya(Cs.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ya(Cs.LOADSTART,this,t))));const i=this.postRenderFunctions_;if(t)for(let r=0,o=i.length;r<o;++r)i[r](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Bt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(mt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(mt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const t=this.getTarget(),e=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Lw(this)),this.mapBrowserEventHandler_=new nw(this,this.moveTolerance_);for(const o in Dt)this.mapBrowserEventHandler_.addEventListener(Dt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(mt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(mt.WHEEL,this.boundHandleBrowserEvent_,H1?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const o=e.getRootNode();i=o instanceof ShadowRoot?o.host:e}this.targetChangeHandlerKeys_=[wt(i,mt.KEYDOWN,this.handleBrowserEvent,this),wt(i,mt.KEYPRESS,this.handleBrowserEvent,this)];const r=e.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(e)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Bt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Bt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=wt(t,wa.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=wt(t,mt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Bt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Ts("addlayer",t)),this.layerGroupPropertyListenerKeys_=[wt(t,wa.PROPERTYCHANGE,this.render,this),wt(t,mt.CHANGE,this.render,this),wt(t,"addlayer",this.handleLayerAdd_,this),wt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){bv(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),i=this.getView(),r=this.frameState_;let o=null;if(e!==void 0&&xp(e)&&i&&i.isDef()){const u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Pd(h.center,h.resolution,h.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:u,wantedTiles:{},mapId:St(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const f=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=Pd(h.nextCenter,h.nextResolution,f,e)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!bc(this.previousExtent_)&&!to(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ya(Cs.MOVESTART,this,r)),this.previousExtent_=Eo(this.previousExtent_)),this.previousExtent_&&!o.viewHints[ze.ANIMATING]&&!o.viewHints[ze.INTERACTING]&&!to(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ya(Cs.MOVEEND,this,o)),g1(o.extent,this.previousExtent_))),this.dispatchEvent(new ya(Cs.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Cs.LOADSTART)||this.hasListener(Cs.LOADEND)||this.hasListener(bn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new Ts("removelayer",e)),this.set(Ie.LAYERGROUP,t)}setSize(t){this.set(Ie.SIZE,t)}setTarget(t){this.set(Ie.TARGET,t)}setView(t){if(!t||t instanceof ii){this.set(Ie.VIEW,t);return}this.set(Ie.VIEW,new ii);const e=this;t.then(function(i){e.setView(new ii(i))})}updateSize(){const t=this.getTargetElement();let e;if(t){const r=getComputedStyle(t),o=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),u=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(u)&&(e=[Math.max(0,o),Math.max(0,u)],!xp(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&E1("No map visible because the map container's width or height are 0."))}const i=this.getSize();e&&(!i||!qi(e,i))&&(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}};function Iw(a){let t=null;a.keyboardEventTarget!==void 0&&(t=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const e={},i=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new Ga({layers:a.layers});e[Ie.LAYERGROUP]=i,e[Ie.TARGET]=a.target,e[Ie.VIEW]=a.view instanceof ii?a.view:new ii;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new wn(a.controls.slice()):(zt(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let o;a.interactions!==void 0&&(Array.isArray(a.interactions)?o=new wn(a.interactions.slice()):(zt(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=a.interactions));let u;return a.overlays!==void 0?Array.isArray(a.overlays)?u=new wn(a.overlays.slice()):(zt(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),u=a.overlays):u=new wn,{controls:r,interactions:o,keyboardEventTarget:t,overlays:u,values:e}}class Qg{constructor(t,e,i,r){this.minX=t,this.maxX=e,this.minY=i,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function fa(a,t,e,i,r){return r!==void 0?(r.minX=a,r.maxX=t,r.minY=e,r.maxY=i,r):new Qg(a,t,e,i)}function tg(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const Nw=new Error("disposed"),zw=[256,256];class Up extends Vg{constructor(t){const e=ft.IDLE;super(t.tileCoord,e,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=tg(this.data_);return t?[t.width,t.height]:zw}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ft.IDLE&&this.state!==ft.ERROR)return;this.state=ft.LOADING,this.changed();const t=this;this.loader_().then(function(e){t.data_=e,t.state=ft.LOADED,t.changed()}).catch(function(e){t.error_=e,t.state=ft.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(Nw),this.controller_=null),super.disposeInternal()}}let Td;const Ta=[];function Yp(a,t,e,i,r){a.beginPath(),a.moveTo(0,0),a.lineTo(t,e),a.lineTo(i,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(t,i)+1,Math.max(e,r)),a.restore()}function Rd(a,t){return Math.abs(a[t*4]-210)>2||Math.abs(a[t*4+3]-.75*255)>2}function Fw(){if(Td===void 0){const a=ve(6,6,Ta);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",Yp(a,4,5,4,0),Yp(a,4,5,0,5);const t=a.getImageData(0,0,3,3).data;Td=Rd(t,0)||Rd(t,4)||Rd(t,8),zc(a),Ta.push(a.canvas)}return Td}function Xp(a,t,e,i){const r=b1(e,t,a);let o=ep(t,i,e);const u=t.getMetersPerUnit();u!==void 0&&(o*=u);const h=a.getMetersPerUnit();h!==void 0&&(o/=h);const f=a.getExtent();if(!f||Aa(f,r)){const g=ep(a,o,r)/o;isFinite(g)&&g>0&&(o/=g)}return o}function Gw(a,t,e,i){const r=Ds(e);let o=Xp(a,t,r,i);return(!isFinite(o)||o<=0)&&cg(e,function(u){return o=Xp(a,t,u,i),isFinite(o)&&o>0}),o}function kw(a,t,e,i,r,o,u,h,f,g,_,y,p,E){const x=ve(Math.round(e*a),Math.round(e*t),Ta);if(y||(x.imageSmoothingEnabled=!1),f.length===0)return x.canvas;x.scale(e,e);function T(D){return Math.round(D*e)/e}x.globalCompositeOperation="lighter";const C=hn();f.forEach(function(D,V,W){_1(C,D.extent)});let R;const M=e/i,A=(y?1:1+Math.pow(2,-24))/M;R=ve(Math.round(Pt(C)*M),Math.round(je(C)*M),Ta),y||(R.imageSmoothingEnabled=!1),f.forEach(function(D,V,W){if(D.image.width>0&&D.image.height>0){if(D.clipExtent){R.save();const rt=(D.clipExtent[0]-C[0])*M,ot=-(D.clipExtent[3]-C[3])*M,tt=Pt(D.clipExtent)*M,gt=je(D.clipExtent)*M;R.rect(y?rt:Math.round(rt),y?ot:Math.round(ot),y?tt:Math.round(rt+tt)-Math.round(rt),y?gt:Math.round(ot+gt)-Math.round(ot)),R.clip()}const H=(D.extent[0]-C[0])*M,F=-(D.extent[3]-C[3])*M,q=Pt(D.extent)*M,it=je(D.extent)*M;R.drawImage(D.image,g,g,D.image.width-2*g,D.image.height-2*g,y?H:Math.round(H),y?F:Math.round(F),y?q:Math.round(H+q)-Math.round(H),y?it:Math.round(F+it)-Math.round(F)),D.clipExtent&&R.restore()}});const L=Cr(u);return h.getTriangles().forEach(function(D,V,W){const H=D.source,F=D.target;let q=H[0][0],it=H[0][1],rt=H[1][0],ot=H[1][1],tt=H[2][0],gt=H[2][1];const P=T((F[0][0]-L[0])/o),J=T(-(F[0][1]-L[1])/o),Q=T((F[1][0]-L[0])/o),nt=T(-(F[1][1]-L[1])/o),b=T((F[2][0]-L[0])/o),U=T(-(F[2][1]-L[1])/o),k=q,et=it;q=0,it=0,rt-=k,ot-=et,tt-=k,gt-=et;const $=[[rt,ot,0,0,Q-P],[tt,gt,0,0,b-P],[0,0,rt,ot,nt-J],[0,0,tt,gt,U-J]],at=UC($);if(!at)return;if(x.save(),x.beginPath(),Fw()||!y){x.moveTo(Q,nt);const Gt=4,yt=P-Q,Ut=J-nt;for(let vt=0;vt<Gt;vt++)x.lineTo(Q+T((vt+1)*yt/Gt),nt+T(vt*Ut/(Gt-1))),vt!=Gt-1&&x.lineTo(Q+T((vt+1)*yt/Gt),nt+T((vt+1)*Ut/(Gt-1)));x.lineTo(b,U)}else x.moveTo(Q,nt),x.lineTo(P,J),x.lineTo(b,U);x.clip(),x.transform(at[0],at[2],at[1],at[3],P,J),x.translate(C[0]-k,C[3]-et);let ct;if(R)ct=R.canvas,x.scale(A,-A);else{const Gt=f[0],yt=Gt.extent;ct=Gt.image,x.scale(Pt(yt)/ct.width,-je(yt)/ct.height)}x.drawImage(ct,0,0),x.restore()}),R&&(zc(R),Ta.push(R.canvas)),_&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,h.getTriangles().forEach(function(D,V,W){const H=D.target,F=(H[0][0]-L[0])/o,q=-(H[0][1]-L[1])/o,it=(H[1][0]-L[0])/o,rt=-(H[1][1]-L[1])/o,ot=(H[2][0]-L[0])/o,tt=-(H[2][1]-L[1])/o;x.beginPath(),x.moveTo(it,rt),x.lineTo(F,q),x.lineTo(ot,tt),x.closePath(),x.stroke()}),x.restore()),x.canvas}const Pw=10,Bp=.25;class Uw{constructor(t,e,i,r,o,u,h){this.sourceProj_=t,this.targetProj_=e;let f={};const g=h?ET(A=>ye(h,b1(A,this.targetProj_,this.sourceProj_))):ac(this.targetProj_,this.sourceProj_);this.transformInv_=function(A){const L=A[0]+"/"+A[1];return f[L]||(f[L]=g(A)),f[L]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Pt(r)>=Pt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Pt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Pt(this.targetProj_.getExtent()):null;const _=Cr(i),y=wc(i),p=Rc(i),E=Tc(i),x=this.transformInv_(_),T=this.transformInv_(y),C=this.transformInv_(p),R=this.transformInv_(E),M=Pw+(u?Math.max(0,Math.ceil(Math.log2(kd(i)/(u*u*256*256)))):0);if(this.addQuad_(_,y,p,E,x,T,C,R,M),this.wrapsXInSource_){let A=1/0;this.triangles_.forEach(function(L,D,V){A=Math.min(A,L.source[0][0],L.source[1][0],L.source[2][0])}),this.triangles_.forEach(L=>{if(Math.max(L.source[0][0],L.source[1][0],L.source[2][0])-A>this.sourceWorldWidth_/2){const D=[[L.source[0][0],L.source[0][1]],[L.source[1][0],L.source[1][1]],[L.source[2][0],L.source[2][1]]];D[0][0]-A>this.sourceWorldWidth_/2&&(D[0][0]-=this.sourceWorldWidth_),D[1][0]-A>this.sourceWorldWidth_/2&&(D[1][0]-=this.sourceWorldWidth_),D[2][0]-A>this.sourceWorldWidth_/2&&(D[2][0]-=this.sourceWorldWidth_);const V=Math.min(D[0][0],D[1][0],D[2][0]);Math.max(D[0][0],D[1][0],D[2][0])-V<this.sourceWorldWidth_/2&&(L.source=D)}})}f={}}addTriangle_(t,e,i,r,o,u){this.triangles_.push({source:[r,o,u],target:[t,e,i]})}addQuad_(t,e,i,r,o,u,h,f,g){const _=Te([o,u,h,f]),y=this.sourceWorldWidth_?Pt(_)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,E=this.sourceProj_.canWrapX()&&y>.5&&y<1;let x=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=Te([t,e,i,r]);x=Pt(C)/this.targetWorldWidth_>Bp||x}!E&&this.sourceProj_.isGlobal()&&y&&(x=y>Bp||x)}if(!x&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!He(_,this.maxSourceExtent_))return;let T=0;if(!x&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(f[0])||!isFinite(f[1]))){if(g>0)x=!0;else if(T=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(u[0])||!isFinite(u[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),T!=1&&T!=2&&T!=4&&T!=8)return}if(g>0){if(!x){const C=[(t[0]+i[0])/2,(t[1]+i[1])/2],R=this.transformInv_(C);let M;E?M=(_r(o[0],p)+_r(h[0],p))/2-_r(R[0],p):M=(o[0]+h[0])/2-R[0];const A=(o[1]+h[1])/2-R[1];x=M*M+A*A>this.errorThresholdSquared_}if(x){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const C=[(e[0]+i[0])/2,(e[1]+i[1])/2],R=this.transformInv_(C),M=[(r[0]+t[0])/2,(r[1]+t[1])/2],A=this.transformInv_(M);this.addQuad_(t,e,C,M,o,u,R,A,g-1),this.addQuad_(M,C,i,r,A,R,h,f,g-1)}else{const C=[(t[0]+e[0])/2,(t[1]+e[1])/2],R=this.transformInv_(C),M=[(i[0]+r[0])/2,(i[1]+r[1])/2],A=this.transformInv_(M);this.addQuad_(t,C,M,r,o,R,A,f,g-1),this.addQuad_(C,e,i,M,R,u,h,A,g-1)}return}}if(E){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(T&11)==0&&this.addTriangle_(t,i,r,o,h,f),(T&14)==0&&this.addTriangle_(t,i,e,o,h,u),T&&((T&13)==0&&this.addTriangle_(e,r,t,u,f,o),(T&7)==0&&this.addTriangle_(e,r,i,u,f,h))}calculateSourceExtent(){const t=hn();return this.triangles_.forEach(function(e,i,r){const o=e.source;Ql(t,o[0]),Ql(t,o[1]),Ql(t,o[2])}),t}getTriangles(){return this.triangles_}}const Yw=.5;class Av extends Vg{constructor(t,e,i,r,o,u,h,f,g,_,y,p){super(o,ft.IDLE,p),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=r,this.wrappedTileCoord_=u||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const E=r.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let T=this.sourceTileGrid_.getExtent();const C=x?gr(E,x):E;if(kd(C)===0){this.state=ft.EMPTY;return}const R=t.getExtent();R&&(T?T=gr(T,R):T=R);const M=r.getResolution(this.wrappedTileCoord_[0]),A=Gw(t,i,C,M);if(!isFinite(A)||A<=0){this.state=ft.EMPTY;return}const L=_!==void 0?_:Yw;if(this.triangulation_=new Uw(t,i,C,T,A*L,M),this.triangulation_.getTriangles().length===0){this.state=ft.EMPTY;return}this.sourceZ_=e.getZForResolution(A);let D=this.triangulation_.calculateSourceExtent();if(T&&(t.canWrapX()?(D[1]=ie(D[1],T[1],T[3]),D[3]=ie(D[3],T[1],T[3])):D=gr(D,T)),!kd(D))this.state=ft.EMPTY;else{let V=0,W=0;t.canWrapX()&&(V=Pt(R),W=Math.floor((D[0]-R[0])/V)),v1(D.slice(),t,!0).forEach(F=>{const q=e.getTileRangeForExtentAndZ(F,this.sourceZ_);for(let it=q.minX;it<=q.maxX;it++)for(let rt=q.minY;rt<=q.maxY;rt++){const ot=g(this.sourceZ_,it,rt,h);if(ot){const tt=W*V;this.sourceTiles_.push({tile:ot,offset:tt})}}++W}),this.sourceTiles_.length===0&&(this.state=ft.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(e=>{var r;const i=e.tile;if(i&&i.getState()==ft.LOADED){const o=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);o[0]+=e.offset,o[2]+=e.offset;const u=(r=this.clipExtent_)==null?void 0:r.slice();u&&(u[0]+=e.offset,u[2]+=e.offset),t.push({extent:o,clipExtent:u,image:i.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ft.ERROR;else{const e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],u=this.targetTileGrid_.getResolution(e),h=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=kw(r,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),u,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ft.LOADED}this.changed()}load(){if(this.state==ft.IDLE){this.state=ft.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:e})=>{const i=e.getState();if(i==ft.IDLE||i==ft.LOADING){t++;const r=wt(e,mt.CHANGE,o=>{const u=e.getState();(u==ft.LOADED||u==ft.ERROR||u==ft.EMPTY)&&(Bt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:e},i,r){e.getState()==ft.IDLE&&e.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Bt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(zc(this.canvas_.getContext("2d")),Ta.push(this.canvas_),this.canvas_=null),super.release()}}class Xw{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Sc&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const i=this.entries_[t];return zt(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const e=this.entries_[t];return zt(e!==void 0,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e=0,i;for(i=this.newest_;i;i=i.older)t[e++]=i.key_;return t}getValues(){const t=new Array(this.count_);let e=0,i;for(i=this.newest_;i;i=i.older)t[e++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var e;return(e=this.entries_[t])==null?void 0:e.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){zt(!(t in this.entries_),"Tried to set a value for a key that is used already");const i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}}function vc(a,t,e,i){return i!==void 0?(i[0]=a,i[1]=t,i[2]=e,i):[a,t,e]}function Bw(a,t,e){return a+"/"+t+"/"+e}function Hw(a){return jw(a[0],a[1],a[2])}function jw(a,t,e){return(t<<a)+e}function Vw(a,t){const e=a[0],i=a[1],r=a[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;const o=t.getFullTileRange(e);return o?o.containsXY(i,r):!0}function wd(a,t,e,i){return`${a},${Bw(t,e,i)}`}function bd(a,t,e){if(!(e in a))return a[e]=new Set([t]),!0;const i=a[e],r=i.has(t);return r||i.add(t),!r}function Zw(a,t,e){const i=a[e];return i?i.delete(t):!1}function Hp(a,t){const e=a.layerStatesArray[a.layerIndex];e.extent&&(t=gr(t,Gi(e.extent,a.viewState.projection)));const i=e.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(a.viewState.projection).getExtent();r&&(t=gr(t,r))}return t}class qw extends cv{constructor(t,e){super(t),e=e||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=hn(),this.tempTileRange_=new Qg(0,0,0,0),this.tempTileCoord_=vc(0,0,0);const i=e.cacheSize!==void 0?e.cacheSize:512;this.tileCache_=new Xw(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,e,i,r){const o=this.tileCache_,h=this.getLayer().getSource(),f=wd(h.getKey(),t,e,i);let g;if(o.containsKey(f))g=o.get(f);else{if(g=h.getTile(t,e,i,r.pixelRatio,r.viewState.projection),!g)return null;o.set(f,g)}return g}getTile(t,e,i,r){const o=this.getOrCreateTile(t,e,i,r);return o||null}getData(t){const e=this.frameState;if(!e)return null;const i=this.getLayer(),r=ye(e.pixelToCoordinateTransform,t.slice()),o=i.getExtent();if(o&&!Aa(o,r))return null;const u=e.viewState,h=i.getRenderSource(),f=h.getTileGridForProjection(u.projection),g=h.getTilePixelRatio(e.pixelRatio);for(let _=f.getZForResolution(u.resolution);_>=f.getMinZoom();--_){const y=f.getTileCoordForCoordAndZ(r,_),p=this.getTile(_,y[1],y[2],e);if(!p||p.getState()!==ft.LOADED)continue;const E=f.getOrigin(_),x=$e(f.getTileSize(_)),T=f.getResolution(_);let C;if(p instanceof xv||p instanceof Av)C=p.getImage();else if(p instanceof Up){if(C=tg(p.getData()),!C)continue}else continue;const R=Math.floor(g*((r[0]-E[0])/T-y[1]*x[0])),M=Math.floor(g*((E[1]-r[1])/T-y[2]*x[1])),A=Math.round(g*h.getGutterForProjection(u.projection));return this.getImageData(C,R+A,M+A)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const e=this.getLayer().getSource();if(!e)return!1;const i=e.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===e.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(t,e,i,r,o){const u=t.viewState,h=this.getLayer(),f=h.getRenderSource(),g=f.getTileGridForProjection(u.projection),_=St(f);_ in t.wantedTiles||(t.wantedTiles[_]={});const y=t.wantedTiles[_],p=h.getMapInternal(),E=Math.max(i-o,g.getMinZoom(),g.getZForResolution(Math.min(h.getMaxResolution(),p?p.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):g.getResolution(0)),f.zDirection)),x=u.rotation,T=x?y1(u.center,u.resolution,x,t.size):void 0;for(let C=i;C>=E;--C){const R=g.getTileRangeForExtentAndZ(e,C,this.tempTileRange_),M=g.getResolution(C);for(let A=R.minX;A<=R.maxX;++A)for(let L=R.minY;L<=R.maxY;++L){if(x&&!g.tileCoordIntersectsViewport([C,A,L],T))continue;const D=this.getTile(C,A,L,t);if(!D||!bd(r,D,C))continue;const W=D.getKey();if(y[W]=!0,D.getState()===ft.IDLE&&!t.tileQueue.isKeyQueued(W)){const H=vc(C,A,L,this.tempTileCoord_);t.tileQueue.enqueue([D,_,g.getTileCoordCenter(H),M])}}}}findStaleTile_(t,e){const i=this.tileCache_,r=t[0],o=t[1],u=t[2],h=this.getStaleKeys();for(let f=0;f<h.length;++f){const g=wd(h[f],r,o,u);if(i.containsKey(g)){const _=i.peek(g);if(_.getState()===ft.LOADED)return _.endTransition(St(this)),bd(e,_,r),!0}}return!1}findAltTiles_(t,e,i,r){const o=t.getTileRangeForTileCoordAndZ(e,i,this.tempTileRange_);if(!o)return!1;let u=!0;const h=this.tileCache_,g=this.getLayer().getRenderSource().getKey();for(let _=o.minX;_<=o.maxX;++_)for(let y=o.minY;y<=o.maxY;++y){const p=wd(g,i,_,y);let E=!1;if(h.containsKey(p)){const x=h.peek(p);x.getState()===ft.LOADED&&(bd(r,x,i),E=!0)}E||(u=!1)}return u}renderFrame(t,e){let i=!0;this.renderComplete=!0;const r=t.layerStatesArray[t.layerIndex],o=t.viewState,u=o.projection,h=o.resolution,f=o.center,g=t.pixelRatio,_=this.getLayer(),y=_.getSource(),p=y.getTileGridForProjection(u),E=p.getZForResolution(h,y.zDirection),x=p.getResolution(E),T=y.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==T&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=T):this.renderedSourceKey_=T;let C=t.extent;const R=y.getTilePixelRatio(g);this.prepareContainer(t,e);const M=this.context.canvas.width,A=this.context.canvas.height,L=r.extent&&Gi(r.extent);L&&(C=gr(C,Gi(r.extent)));const D=x*M/2/R,V=x*A/2/R,W=[f[0]-D,f[1]-V,f[0]+D,f[1]+V],H={};this.renderedTiles.length=0;const F=_.getPreload();if(t.nextExtent){const nt=p.getZForResolution(o.nextResolution,y.zDirection),b=Hp(t,t.nextExtent);this.enqueueTiles(t,b,nt,H,F)}const q=Hp(t,C);if(this.enqueueTiles(t,q,E,H,0),F>0&&setTimeout(()=>{this.enqueueTiles(t,q,E-1,H,F-1)},0),!(E in H))return this.container;const it=St(this),rt=t.time;for(const nt of H[E]){const b=nt.getState();if(b===ft.EMPTY)continue;const U=nt.tileCoord;if(b===ft.LOADED&&nt.getAlpha(it,rt)===1){nt.endTransition(it);continue}if(b!==ft.IDLE&&(i=!1),b!==ft.ERROR&&(this.renderComplete=!1),this.findStaleTile_(U,H)){Zw(H,nt,E),t.animate=!0;continue}if(this.findAltTiles_(p,U,E+1,H))continue;const $=p.getMinZoom();for(let at=E-1;at>=$&&!this.findAltTiles_(p,U,at,H);--at);}const ot=x/h*g/R,tt=this.getRenderContext(t);Vi(this.tempTransform,M/2,A/2,ot,ot,0,-M/2,-A/2),r.extent&&this.clipUnrotated(tt,t,L),y.getInterpolate()||(tt.imageSmoothingEnabled=!1),this.preRender(tt,t);const gt=Object.keys(H).map(Number);gt.sort(Pi);let P;const J=[],Q=[];for(let nt=gt.length-1;nt>=0;--nt){const b=gt[nt],U=y.getTilePixelSize(b,g,u),et=p.getResolution(b)/x,$=U[0]*et*ot,at=U[1]*et*ot,ct=p.getTileCoordForCoordAndZ(Cr(W),b),Gt=p.getTileCoordExtent(ct),yt=ye(this.tempTransform,[R*(Gt[0]-W[0])/x,R*(W[3]-Gt[3])/x]),Ut=R*y.getGutterForProjection(u);for(const vt of H[b]){if(vt.getState()!==ft.LOADED)continue;const Ge=vt.tileCoord,jn=ct[1]-Ge[1],en=Math.round(yt[0]-(jn-1)*$),nn=ct[2]-Ge[2],Vn=Math.round(yt[1]-(nn-1)*at),Ee=Math.round(yt[0]-jn*$),Ve=Math.round(yt[1]-nn*at),Ln=en-Ee,On=Vn-Ve,Zn=gt.length===1;let hi=!1;P=[Ee,Ve,Ee+Ln,Ve,Ee+Ln,Ve+On,Ee,Ve+On];for(let In=0,fi=J.length;In<fi;++In)if(!Zn&&b<Q[In]){const Ht=J[In];He([Ee,Ve,Ee+Ln,Ve+On],[Ht[0],Ht[3],Ht[4],Ht[7]])&&(hi||(tt.save(),hi=!0),tt.beginPath(),tt.moveTo(P[0],P[1]),tt.lineTo(P[2],P[3]),tt.lineTo(P[4],P[5]),tt.lineTo(P[6],P[7]),tt.moveTo(Ht[6],Ht[7]),tt.lineTo(Ht[4],Ht[5]),tt.lineTo(Ht[2],Ht[3]),tt.lineTo(Ht[0],Ht[1]),tt.clip())}J.push(P),Q.push(b),this.drawTile(vt,t,Ee,Ve,Ln,On,Ut,Zn),hi&&tt.restore(),this.renderedTiles.unshift(vt),this.updateUsedTiles(t.usedTiles,y,vt)}}if(this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!to(this.renderedExtent_,W),this.renderedExtent_=W,this.renderedPixelRatio=g,this.postRender(this.context,t),r.extent&&tt.restore(),tt.imageSmoothingEnabled=!0,this.renderComplete){const nt=(b,U)=>{const k=St(y),et=U.wantedTiles[k],$=et?Object.keys(et).length:0;this.updateCacheSize($),this.tileCache_.expireCache()};t.postRenderFunctions.push(nt)}return!this.renderComplete&&!i&&(t.animate=!0),this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,e,i,r,o,u,h,f){let g;if(t instanceof Up){if(g=tg(t.getData()),!g)throw new Error("Rendering array data is not yet supported")}else g=this.getTileImage(t);if(!g)return;const _=this.getRenderContext(e),y=St(this),p=e.layerStatesArray[e.layerIndex],E=p.opacity*(f?t.getAlpha(y,e.time):1),x=E!==_.globalAlpha;x&&(_.save(),_.globalAlpha=E),_.drawImage(g,h,h,g.width-2*h,g.height-2*h,i,r,o,u),x&&_.restore(),E!==p.opacity?e.animate=!0:f&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,e,i){const r=St(e);r in t||(t[r]={}),t[r][i.getKey()]=!0}}const Zu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Kw extends Hc{constructor(t){t=t||{};const e=Object.assign({},t),i=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Zu.PRELOAD)}setPreload(t){this.set(Zu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Zu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Zu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class Ww extends Kw{constructor(t){super(t)}createRenderer(){return new qw(this,{cacheSize:this.getCacheSize()})}}const da=[0,0,0],Ss=5;class Dv{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,zt(DC(this.resolutions_,(r,o)=>o-r),"`resolutions` must be sorted in descending order");let e;if(!t.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!e)e=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,zt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Cr(i)),zt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,zt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Bg,zt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,o)=>{const u=new Qg(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const h=this.getTileRangeForExtentAndZ(i,o);u.minX=Math.max(h.minX,u.minX),u.maxX=Math.min(h.maxX,u.maxX),u.minY=Math.max(h.minY,u.minY),u.maxY=Math.min(h.maxY,u.maxY)}return u}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,e,i){const r=this.getTileRangeForExtentAndZ(t,e);for(let o=r.minX,u=r.maxX;o<=u;++o)for(let h=r.minY,f=r.maxY;h<=f;++h)i([e,o,h])}forEachTileCoordParentTileRange(t,e,i,r){let o,u,h,f=null,g=t[0]-1;for(this.zoomFactor_===2?(u=t[1],h=t[2]):f=this.getTileCoordExtent(t,r);g>=this.minZoom;){if(u!==void 0&&h!==void 0?(u=Math.floor(u/2),h=Math.floor(h/2),o=fa(u,u,h,h,i)):o=this.getTileRangeForExtentAndZ(f,g,i),e(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,u=t[2]*2;return fa(o,o+1,u,u+1,e)}const r=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;const r=t[0],o=t[1],u=t[2];if(e===r)return fa(o,u,o,u,i);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,e-r),g=Math.floor(o*f),_=Math.floor(u*f);if(e<r)return fa(g,g,_,_,i);const y=Math.floor(f*(o+1))-1,p=Math.floor(f*(u+1))-1;return fa(g,y,_,p,i)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,i)}getTileRangeForExtentAndZ(t,e,i){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,da);const r=da[1],o=da[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,da);const u=da[1],h=da[2];return fa(r,u,o,h,i)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=$e(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]-(t[2]+.5)*r[1]*i]}getTileCoordExtent(t,e){const i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=$e(this.getTileSize(t[0]),this.tmpSize_),u=i[0]+t[1]*o[0]*r,h=i[1]-(t[2]+1)*o[1]*r,f=u+o[0]*r,g=h+o[1]*r;return ji(u,h,f,g,e)}getTileCoordForCoordAndResolution(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)}getTileCoordForXYAndResolution_(t,e,i,r,o){const u=this.getZForResolution(i),h=i/this.getResolution(u),f=this.getOrigin(u),g=$e(this.getTileSize(u),this.tmpSize_);let _=h*(t-f[0])/i/g[0],y=h*(f[1]-e)/i/g[1];return r?(_=Pu(_,Ss)-1,y=Pu(y,Ss)-1):(_=ku(_,Ss),y=ku(y,Ss)),vc(u,_,y,o)}getTileCoordForXYAndZ_(t,e,i,r,o){const u=this.getOrigin(i),h=this.getResolution(i),f=$e(this.getTileSize(i),this.tmpSize_);let g=(t-u[0])/h/f[0],_=(u[1]-e)/h/f[1];return r?(g=Pu(g,Ss)-1,_=Pu(_,Ss)-1):(g=ku(g,Ss),_=ku(_,Ss)),vc(i,g,_,o)}getTileCoordForCoordAndZ(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const i=lg(this.resolutions_,t,e||0);return ie(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return F1(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,i=new Array(e);for(let r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i}}function Lv(a){let t=a.getDefaultTileGrid();return t||(t=tb(a),a.setDefaultTileGrid(t)),t}function Qw(a,t,e){const i=t[0],r=a.getTileCoordCenter(t),o=Jg(e);if(!Aa(o,r)){const u=Pt(o),h=Math.ceil((o[0]-r[0])/u);return r[0]+=u*h,a.getTileCoordForCoordAndZ(r,i)}return t}function Jw(a,t,e,i){i=i!==void 0?i:"top-left";const r=Ov(a,t,e);return new Dv({extent:a,origin:FC(a,i),resolutions:r,tileSize:e})}function $w(a){const t=a||{},e=t.extent||tn("EPSG:3857").getExtent(),i={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Ov(e,t.maxZoom,t.tileSize,t.maxResolution)};return new Dv(i)}function Ov(a,t,e,i){t=t!==void 0?t:q2,e=$e(e!==void 0?e:Bg);const r=je(a),o=Pt(a);i=i>0?i:Math.max(o/e[0],r/e[1]);const u=t+1,h=new Array(u);for(let f=0;f<u;++f)h[f]=i/Math.pow(2,f);return h}function tb(a,t,e,i){const r=Jg(a);return Jw(r,t,e,i)}function Jg(a){a=tn(a);let t=a.getExtent();if(!t){const e=180*dg.degrees/a.getMetersPerUnit();t=ji(-e,-e,e,e)}return t}const eb=/\{z\}/g,nb=/\{x\}/g,ib=/\{y\}/g,sb=/\{-y\}/g;function rb(a,t,e,i,r){return a.replace(eb,t.toString()).replace(nb,e.toString()).replace(ib,i.toString()).replace(sb,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function ab(a){const t=[];let e=/\{([a-z])-([a-z])\}/.exec(a);if(e){const i=e[1].charCodeAt(0),r=e[2].charCodeAt(0);let o;for(o=i;o<=r;++o)t.push(a.replace(e[0],String.fromCharCode(o)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(a),e){const i=parseInt(e[2],10);for(let r=parseInt(e[1],10);r<=i;r++)t.push(a.replace(e[0],r.toString()));return t}return t.push(a),t}function lb(a,t){return function(e,i,r){if(!e)return;let o;const u=e[0];if(t){const h=t.getFullTileRange(u);h&&(o=h.getHeight()-1)}return rb(a,u,e[1],e[2],o)}}function ob(a,t){const e=a.length,i=new Array(e);for(let r=0;r<e;++r)i[r]=lb(a[r],t);return ub(i)}function ub(a){return a.length===1?a[0]:function(t,e,i){if(!t)return;const r=Hw(t),o=_r(r,a.length);return a[o](t,e,i)}}class cb extends sv{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const e=[256,256];this.tileGrid&&$e(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tmpSize=[0,0],this.key_=t.key||St(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,i,r,o){return Nt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Lv(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,i){const r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),u=$e(r.getTileSize(t),this.tmpSize);return o==1?u:zR(u,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){const i=e!==void 0?e:this.getProjection(),r=e!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=Qw(r,t,i)),Vw(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class hb extends Dn{constructor(t,e){super(t),this.tile=e}}const Md={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class $g extends cb{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===$g.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=St(e),r=e.getState();let o;r==ft.LOADING?(this.tileLoadingKeys_[i]=!0,o=Md.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==ft.ERROR?Md.TILELOADERROR:r==ft.LOADED?Md.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new hb(o,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,typeof e<"u"?this.setKey(e):this.changed()}setUrl(t){const e=ab(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(ob(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}}class fb extends $g{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:db,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:xv,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!ld(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||ld(e,t)))return this.tileGrid;const i=St(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Lv(t)),this.tileGridForProjection[i]}createTile_(t,e,i,r,o,u){const h=[t,e,i],f=this.getTileCoordForTileUrlFunction(h,o),g=f?this.tileUrlFunction(f,r,o):void 0,_=new this.tileClass(h,g!==void 0?ft.IDLE:ft.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=u,_.addEventListener(mt.CHANGE,this.handleTileChange.bind(this)),_}getTile(t,e,i,r,o){const u=this.getProjection();if(!u||!o||ld(u,o))return this.getTileInternal(t,e,i,r,u||o);const h=[t,e,i],f=this.getKey(),g=this.getTileGridForProjection(u),_=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(h,o),p=new Av(u,g,o,_,h,y,this.getTilePixelRatio(r),this.getGutter(),(E,x,T,C)=>this.getTileInternal(E,x,T,C,u),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=f,p}getTileInternal(t,e,i,r,o){const u=this.getKey();return this.createTile_(t,e,i,r,o,u)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const i=tn(t);if(i){const r=St(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}}function db(a,t){a.getImage().src=t}class gb extends fb{constructor(t){t=t||{};const e=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:$w({extent:Jg(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const _b='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class mb extends gb{constructor(t){t=t||{};let e;t.attributions!==void 0?e=t.attributions:e=[_b];const i=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:e,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const qu={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class Ku extends Dn{constructor(t,e){super(t),this.feature=e}}function yb(a,t){const e=[];for(let i=0;i<t.length;++i){const o=t[i].getGeometry();Iv(a,o,e)}return e}function Wu(a,t){return Ui(a[0],a[1],t[0],t[1])}function Ea(a,t){const e=a.length;return t<0?a[t+e]:t>=e?a[t-e]:a[t]}function Qu(a,t,e){let i,r;t<e?(i=t,r=e):(i=e,r=t);const o=Math.ceil(i),u=Math.floor(r);if(o>u){const f=xa(a,i),g=xa(a,r);return Wu(f,g)}let h=0;if(i<o){const f=xa(a,i),g=Ea(a,o);h+=Wu(f,g)}if(u<r){const f=Ea(a,u),g=xa(a,r);h+=Wu(f,g)}for(let f=o;f<u-1;++f){const g=Ea(a,f),_=Ea(a,f+1);h+=Wu(g,_)}return h}function Iv(a,t,e){if(t instanceof Xi){Ju(a,t.getCoordinates(),!1,e);return}if(t instanceof uo){const i=t.getCoordinates();for(let r=0,o=i.length;r<o;++r)Ju(a,i[r],!1,e);return}if(t instanceof oi){const i=t.getCoordinates();for(let r=0,o=i.length;r<o;++r)Ju(a,i[r],!0,e);return}if(t instanceof co){const i=t.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r];for(let h=0,f=u.length;h<f;++h)Ju(a,u[h],!0,e)}return}if(t instanceof fc){const i=t.getGeometries();for(let r=0;r<i.length;++r)Iv(a,i[r],e);return}}const Ad={index:-1,endIndex:NaN};function pb(a,t,e,i){const r=a[0],o=a[1];let u=1/0,h=-1,f=NaN;for(let y=0;y<t.targets.length;++y){const p=t.targets[y],E=p.coordinates;let x=1/0,T;for(let C=0;C<E.length-1;++C){const R=E[C],M=E[C+1],A=Nv(r,o,R,M);A.squaredDistance<x&&(x=A.squaredDistance,T=C+A.along)}x<u&&(u=x,p.ring&&t.targetIndex===y&&(p.endIndex>p.startIndex?T<p.startIndex&&(T+=E.length):p.endIndex<p.startIndex&&T>p.startIndex&&(T-=E.length)),f=T,h=y)}const g=t.targets[h];let _=g.ring;if(t.targetIndex===h&&_){const y=xa(g.coordinates,f),p=e.getPixelFromCoordinate(y);ic(p,t.startPx)>i&&(_=!1)}if(_){const y=g.coordinates,p=y.length,E=g.startIndex,x=f;if(E<x){const T=Qu(y,E,x);Qu(y,E,x-p)<T&&(f-=p)}else{const T=Qu(y,E,x);Qu(y,E,x+p)<T&&(f+=p)}}return Ad.index=h,Ad.endIndex=f,Ad}function Ju(a,t,e,i){const r=a[0],o=a[1];for(let u=0,h=t.length-1;u<h;++u){const f=t[u],g=t[u+1],_=Nv(r,o,f,g);if(_.squaredDistance===0){const y=u+_.along;i.push({coordinates:t,ring:e,startIndex:y,endIndex:y});return}}}const Dd={along:0,squaredDistance:0};function Nv(a,t,e,i){const r=e[0],o=e[1],u=i[0],h=i[1],f=u-r,g=h-o;let _=0,y=r,p=o;return(f!==0||g!==0)&&(_=ie(((a-r)*f+(t-o)*g)/(f*f+g*g),0,1),y+=f*_,p+=g*_),Dd.along=_,Dd.squaredDistance=Mc(Ui(a,t,y,p),10),Dd}function xa(a,t){const e=a.length;let i=Math.floor(t);const r=t-i;i>=e?i-=e:i<0&&(i+=e);let o=i+1;o>=e&&(o-=e);const u=a[i],h=u[0],f=u[1],g=a[o],_=g[0]-h,y=g[1]-f;return[h+_*r,f+y*r]}class vb extends Ns{constructor(t){const e=t;e.stopDown||(e.stopDown=xr),super(e),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=xb(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:yr,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let i=t.geometryFunction;if(!i){const r=this.mode_;if(r==="Circle")i=(o,u,h)=>{const f=u||new Gc([NaN,NaN]),g=Vt(o[0]),_=Yi(g,Vt(o[o.length-1]));return f.setCenterAndRadius(g,Math.sqrt(_),this.geometryLayout_),f};else{let o;r==="Point"?o=ai:r==="LineString"?o=Xi:r==="Polygon"&&(o=oi),i=(u,h,f)=>(h?r==="Polygon"?u[0].length?h.setCoordinates([u[0].concat([u[0][0]])],this.geometryLayout_):h.setCoordinates([],this.geometryLayout_):h.setCoordinates(u,this.geometryLayout_):h=new o(u,this.geometryLayout_),h)}}this.geometryFunction_=i,this.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new jg({source:new Fg({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:Eb(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:Kg,this.freehandCondition_,t.freehand?this.freehandCondition_=pc:this.freehandCondition_=t.freehandCondition?t.freehandCondition:Tv,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(Jd.ACTIVE,this.updateState_)}setTrace(t){let e;t?t===!0?e=pc:e=t:e=_w,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===mt.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(t);let e=t.type===Dt.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&t.type===Dt.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&t.type===Dt.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===Dt.POINTERDOWN?i=!1:e&&this.getPointerCount()<2?(i=t.type===Dt.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===Dt.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===Dt.DBLCLICK&&(i=!1),super.handleEvent(t)&&i}handleDownEvent(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new Ni(Dt.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))},this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active){this.deactivateTrace_();return}const e=this.getMap(),i=e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),r=e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_]),o=Te([i,r]),u=this.traceSource_.getFeaturesInExtent(o);if(u.length===0)return;const h=yb(t.coordinate,u);h.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:h,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){const i=t.startIndex<=t.endIndex,r=t.startIndex<=e;i===r?i&&e>t.endIndex||!i&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(i&&e<t.endIndex||!i&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let i=0;if(t<e){const r=Math.ceil(t);let o=Math.floor(e);o===e&&(o-=1),i=o-r+1}else{const r=Math.floor(t);let o=Math.ceil(e);o===e&&(o+=1),i=r-o+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(t,e,i){if(e===i)return;const r=[];if(e<i){const o=Math.ceil(e);let u=Math.floor(i);u===i&&(u-=1);for(let h=o;h<=u;++h)r.push(Ea(t.coordinates,h))}else{const o=Math.floor(e);let u=Math.ceil(i);u===i&&(u+=1);for(let h=o;h>=u;--h)r.push(Ea(t.coordinates,h))}r.length&&this.appendCoordinates(r)}updateTrace_(t){const e=this.traceState_;if(!e.active||e.targetIndex===-1&&ic(e.startPx,t.pixel)<this.snapTolerance_)return;const i=pb(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==i.index){if(e.targetIndex!==-1){const f=e.targets[e.targetIndex];this.removeTracedCoordinates_(f.startIndex,f.endIndex)}const h=e.targets[i.index];this.addTracedCoordinates_(h,h.startIndex,i.endIndex)}else{const h=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(h,i.endIndex)}e.targetIndex=i.index;const r=e.targets[e.targetIndex];r.endIndex=i.endIndex;const o=xa(r.coordinates,r.endIndex),u=this.getMap().getPixelFromCoordinate(o);t.coordinate=o,t.pixel=[Math.round(u[0]),Math.round(u[1])]}handleUpEvent(t){let e=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);const i=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(t.coordinate),!r&&this.freehand_?this.finishDrawing():!this.freehand_&&(!r||this.mode_==="Point")&&(this.atFinish_(t.pixel,i)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const e=this.downPx_,i=t.pixel,r=e[0]-i[0],o=e[1]-i[1],u=r*r+o*o;if(this.shouldHandle_=this.freehand_?u>this.squaredClickTolerance_:u<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(t.coordinate.slice());return}this.updateTrace_(t),this.modifyDrawing_(t.coordinate)}atFinish_(t,e){let i=!1;if(this.sketchFeature_){let r=!1,o=[this.finishCoordinate_];const u=this.mode_;if(u==="Point")i=!0;else if(u==="Circle")i=this.sketchCoords_.length===2;else if(u==="LineString")r=!e&&this.sketchCoords_.length>this.minPoints_;else if(u==="Polygon"){const h=this.sketchCoords_;r=h[0].length>this.minPoints_,o=[h[0][0],h[0][h[0].length-2]],e?o=[h[0][0]]:o=[h[0][0],h[0][h[0].length-2]]}if(r){const h=this.getMap();for(let f=0,g=o.length;f<g;f++){const _=o[f],y=h.getPixelFromCoordinate(_),p=t[0]-y[0],E=t[1]-y[1],x=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(p*p+E*E)<=x,i){this.finishCoordinate_=_;break}}}}return i}createOrUpdateSketchPoint_(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new Fi(new ai(t)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new Fi);const e=t.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new Xi(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(t){const e=this.getMap().getView().getProjection(),i=lc(this.geometryLayout_);for(;t.length<i;)t.push(0);this.finishCoordinate_=t,this.mode_==="Point"?this.sketchCoords_=t.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Fi(new Xi(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Fi,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new Ku(qu.DRAWSTART,this.sketchFeature_))}modifyDrawing_(t){const e=this.getMap(),i=this.sketchFeature_.getGeometry(),r=e.getView().getProjection(),o=lc(this.geometryLayout_);let u,h;for(;t.length<o;)t.push(0);this.mode_==="Point"?h=this.sketchCoords_:this.mode_==="Polygon"?(u=this.sketchCoords_[0],h=u[u.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(u=this.sketchCoords_,h=u[u.length-1]),h[0]=t[0],h[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,r),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),i.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(t){const e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let r,o;const u=this.mode_;return u==="LineString"||u==="Circle"?(this.finishCoordinate_=t.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():r=!0),o.push(t.slice()),this.geometryFunction_(o,e,i)):u==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():r=!0),o.push(t.slice()),r&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,e,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),r?this.finishDrawing():this.sketchFeature_}removeLastPoints_(t){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),r=this.mode_;for(let o=0;o<t;++o){let u;if(r==="LineString"||r==="Circle"){if(u=this.sketchCoords_,u.splice(-2,1),u.length>=2){this.finishCoordinate_=u[u.length-2].slice();const h=this.finishCoordinate_.slice();u[u.length-1]=h,this.createOrUpdateSketchPoint_(h)}this.geometryFunction_(u,e,i),e.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(r==="Polygon"){u=this.sketchCoords_[0],u.splice(-2,1);const h=this.sketchLine_.getGeometry();if(u.length>=2){const f=u[u.length-2].slice();u[u.length-1]=f,this.createOrUpdateSketchPoint_(f)}h.setCoordinates(u),this.geometryFunction_(this.sketchCoords_,e,i)}if(u.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const t=this.abortDrawing_();if(!t)return null;let e=this.sketchCoords_;const i=t.getGeometry(),r=this.getMap().getView().getProjection();return this.mode_==="LineString"?(e.pop(),this.geometryFunction_(e,i,r)):this.mode_==="Polygon"&&(e[0].pop(),this.geometryFunction_(e,i,r),e=i.getCoordinates()),this.type_==="MultiPoint"?t.setGeometry(new kc([e])):this.type_==="MultiLineString"?t.setGeometry(new uo([e])):this.type_==="MultiPolygon"&&t.setGeometry(new co([e])),this.dispatchEvent(new Ku(qu.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t),t}abortDrawing_(){this.finishCoordinate_=null;const t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){const t=this.abortDrawing_();t&&this.dispatchEvent(new Ku(qu.DRAWABORT,t))}appendCoordinates(t){const e=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(t[0]);let r;if(e==="LineString"||e==="Circle")r=this.sketchCoords_;else if(e==="Polygon")r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&r.shift(),r.pop();for(let u=0;u<t.length;u++)this.addToDrawing_(t[u]);const o=t[t.length-1];this.sketchFeature_=this.addToDrawing_(o),this.modifyDrawing_(o)}extend(t){const i=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=i.getCoordinates();const r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.sketchPoint_=new Fi(new ai(r)),this.updateSketchFeatures_(),this.dispatchEvent(new Ku(qu.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);const e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){const t=this.getMap(),e=this.getActive();(!t||!e)&&this.abortDrawing(),this.overlay_.setMap(e?t:null)}}function Eb(){const a=av();return function(t,e){return a[t.getGeometry().getType()]}}function xb(a){switch(a){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+a)}}const jp=0,Jl=1,Vp=[0,0,0,0],Ra=[],Ld={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class Od extends Dn{constructor(t,e,i){super(t),this.features=e,this.mapBrowserEvent=i}}class Sb extends Ns{constructor(t){super(t),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=t.condition?t.condition:wv,this.defaultDeleteCondition_=function(i){return fw(i)&&mw(i)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:pc,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new dc,this.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new jg({source:new Fg({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:Tb(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let e;if(t.features?e=t.features:t.source&&(this.source_=t.source,e=new wn(this.source_.getFeatures()),this.source_.addEventListener(Ne.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(Ne.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!e)throw new Error("The modify interaction requires features, a source or a layer");t.hitDetection&&(this.hitDetection_=t.hitDetection),this.features_=e,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(pe.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(pe.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=t.snapToPointer===void 0?!this.hitDetection_:t.snapToPointer}addFeature_(t){const e=t.getGeometry();if(e){const r=this.SEGMENT_WRITERS_[e.getType()];r&&r(t,e)}const i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(i.getCoordinateFromPixel(this.lastPixel_)),t.addEventListener(mt.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new wn;const i=this.featuresBeingModified_.getArray();for(let r=0,o=e.length;r<o;++r){const u=e[r].feature;u&&!i.includes(u)&&this.featuresBeingModified_.push(u)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new Od(Ld.MODIFYSTART,this.featuresBeingModified_,t))}}removeFeature_(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(mt.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(t){const e=this.rBush_,i=[];e.forEach(function(r){t===r.feature&&i.push(r)});for(let r=i.length-1;r>=0;--r){const o=i[r];for(let u=this.dragSegments_.length-1;u>=0;--u)this.dragSegments_[u][0]===o&&this.dragSegments_.splice(u,1);e.remove(o)}}setActive(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(t)}setMap(t){this.overlay_.setMap(t),super.setMap(t)}getOverlay(){return this.overlay_}handleSourceAdd_(t){t.feature&&this.features_.push(t.feature)}handleSourceRemove_(t){t.feature&&this.features_.remove(t.feature)}handleFeatureAdd_(t){this.addFeature_(t.element)}handleFeatureChange_(t){if(!this.changingFeature_){const e=t.target;this.removeFeature_(e),this.addFeature_(e)}}handleFeatureRemove_(t){this.removeFeature_(t.element)}writePointGeometry_(t,e){const i=e.getCoordinates(),r={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),r)}writeMultiPointGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r],h={feature:t,geometry:e,depth:[r],index:r,segment:[u,u]};this.rBush_.insert(e.getExtent(),h)}}writeLineStringGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length-1;r<o;++r){const u=i.slice(r,r+2),h={feature:t,geometry:e,index:r,segment:u};this.rBush_.insert(Te(u),h)}}writeMultiLineStringGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r];for(let h=0,f=u.length-1;h<f;++h){const g=u.slice(h,h+2),_={feature:t,geometry:e,depth:[r],index:h,segment:g};this.rBush_.insert(Te(g),_)}}}writePolygonGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r];for(let h=0,f=u.length-1;h<f;++h){const g=u.slice(h,h+2),_={feature:t,geometry:e,depth:[r],index:h,segment:g};this.rBush_.insert(Te(g),_)}}}writeMultiPolygonGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r];for(let h=0,f=u.length;h<f;++h){const g=u[h];for(let _=0,y=g.length-1;_<y;++_){const p=g.slice(_,_+2),E={feature:t,geometry:e,depth:[h,r],index:_,segment:p};this.rBush_.insert(Te(p),E)}}}}writeCircleGeometry_(t,e){const i=e.getCenter(),r={feature:t,geometry:e,index:jp,segment:[i,i]},o={feature:t,geometry:e,index:Jl,segment:[i,i]},u=[r,o];r.featureSegments=u,o.featureSegments=u,this.rBush_.insert(Wl(i),r);let h=e;this.rBush_.insert(h.getExtent(),o)}writeGeometryCollectionGeometry_(t,e){const i=e.getGeometriesArray();for(let r=0;r<i.length;++r){const o=i[r],u=this.SEGMENT_WRITERS_[o.getType()];u(t,o)}}createOrUpdateVertexFeature_(t,e,i,r){let o=this.vertexFeature_;return o?o.getGeometry().setCoordinates(t):(o=new Fi(new ai(t)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o)),o.set("features",e),o.set("geometries",i),o.set("existing",r),o}handleEvent(t){if(!t.originalEvent)return!0;this.lastPointerEvent_=t;let e;return!t.map.getView().getInteracting()&&t.type==Dt.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type!=Dt.SINGLECLICK||!this.ignoreNextSingleClick_?e=this.removePoint():e=!0),t.type==Dt.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(t)&&!e}findInsertVerticesAndUpdateDragSegments_(t){this.handlePointerAtPixel_(t),this.dragSegments_.length=0,this.featuresBeingModified_=null;const e=this.vertexFeature_;if(!e)return;this.getMap().getView().getProjection();const i=[],r=e.getGeometry().getCoordinates(),o=Te([r]),u=this.rBush_.getInExtent(o),h={};u.sort(Cb);for(let f=0,g=u.length;f<g;++f){const _=u[f],y=_.segment;let p=St(_.geometry);const E=_.depth;if(E&&(p+="-"+E.join("-")),h[p]||(h[p]=new Array(2)),_.geometry.getType()==="Circle"&&_.index===Jl){const x=qp(t,_);Xe(x,r)&&!h[p][0]&&(this.dragSegments_.push([_,0]),h[p][0]=_);continue}if(Xe(y[0],r)&&!h[p][0]){this.dragSegments_.push([_,0]),h[p][0]=_;continue}if(Xe(y[1],r)&&!h[p][1]){if(h[p][0]&&h[p][0].index===0){let x=_.geometry.getCoordinates();switch(_.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":x=x[E[1]];case"Polygon":if(_.index!==x[E[0]].length-2)continue;break}}this.dragSegments_.push([_,1]),h[p][1]=_;continue}St(y)in this.vertexSegments_&&!h[p][0]&&!h[p][1]&&i.push(_)}return i}handleDragEvent(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_.map(([o])=>o));const e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],i=[],r=[];for(let o=0,u=this.dragSegments_.length;o<u;++o){const h=this.dragSegments_[o],f=h[0],g=f.feature;i.includes(g)||i.push(g);const _=f.geometry;r.includes(_)||r.push(_);const y=f.depth;let p;const E=f.segment,x=h[1];for(;e.length<_.getStride();)e.push(E[x][e.length]);switch(_.getType()){case"Point":p=e,E[0]=e,E[1]=e;break;case"MultiPoint":p=_.getCoordinates(),p[f.index]=e,E[0]=e,E[1]=e;break;case"LineString":p=_.getCoordinates(),p[f.index+x]=e,E[x]=e;break;case"MultiLineString":p=_.getCoordinates(),p[y[0]][f.index+x]=e,E[x]=e;break;case"Polygon":p=_.getCoordinates(),p[y[0]][f.index+x]=e,E[x]=e;break;case"MultiPolygon":p=_.getCoordinates(),p[y[1]][y[0]][f.index+x]=e,E[x]=e;break;case"Circle":const T=_;if(E[0]=e,E[1]=e,f.index===jp)this.changingFeature_=!0,T.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0,t.map.getView().getProjection();let C=ic(Vt(T.getCenter()),Vt(e));T.setRadius(C),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(_,p)}this.createOrUpdateVertexFeature_(e,i,r,!0)}handleDownEvent(t){if(!this.condition_(t))return!1;const e=t.coordinate,i=this.findInsertVerticesAndUpdateDragSegments_(e);if(i!=null&&i.length&&this.insertVertexCondition_(t)&&(this.willModifyFeatures_(t,i),this.vertexFeature_)){const r=this.vertexFeature_.getGeometry().getCoordinates();for(let o=i.length-1;o>=0;--o)this.insertVertex_(i[o],r);this.ignoreNextSingleClick_=!0}return!!this.vertexFeature_}handleUpEvent(t){for(let e=this.dragSegments_.length-1;e>=0;--e){const i=this.dragSegments_[e][0],r=i.geometry;if(r.getType()==="Circle"){const o=r,u=o.getCenter(),h=i.featureSegments[0],f=i.featureSegments[1];h.segment[0]=u,h.segment[1]=u,f.segment[0]=u,f.segment[1]=u,this.rBush_.update(Wl(u),h);let g=o;this.rBush_.update(g.getExtent(),f)}else this.rBush_.update(Te(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new Od(Ld.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1}handlePointerMove_(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.coordinate)}handlePointerAtPixel_(t){const e=this.getMap(),i=e.getPixelFromCoordinate(t);e.getView().getProjection();const r=function(h,f){return Zp(t,h)-Zp(t,f)};let o,u;if(this.hitDetection_){const h=typeof this.hitDetection_=="object"?f=>f===this.hitDetection_:void 0;e.forEachFeatureAtPixel(i,(f,g,_)=>{_&&_.getType()==="Point"&&(_=new ai(Ls(_.getCoordinates())));const y=_||f.getGeometry();if(y&&y.getType()==="Point"&&f instanceof Fi&&this.features_.getArray().includes(f)){u=y;const p=f.getGeometry().getFlatCoordinates().slice(0,2);o=[{feature:f,geometry:u,segment:[p,p]}]}return!0},{layerFilter:h})}if(!o){const h=Gi(Wl(t,Vp)),f=e.getView().getResolution()*this.pixelTolerance_,g=Lc(vo(h,f,Vp));o=this.rBush_.getInExtent(g)}if(o&&o.length>0){const h=o.sort(r)[0],f=h.segment;let g=qp(t,h);const _=e.getPixelFromCoordinate(g);let y=ic(i,_);if(u||y<=this.pixelTolerance_){const p={};if(p[St(f)]=!0,this.snapToPointer_||(this.delta_[0]=g[0]-t[0],this.delta_[1]=g[1]-t[1]),h.geometry.getType()==="Circle"&&h.index===Jl)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(g,[h.feature],[h.geometry],this.snappedToVertex_);else{const E=e.getPixelFromCoordinate(f[0]),x=e.getPixelFromCoordinate(f[1]),T=Yi(_,E),C=Yi(_,x);if(y=Math.sqrt(Math.min(T,C)),this.snappedToVertex_=y<=this.pixelTolerance_,!this.snappedToVertex_&&!this.insertVertexCondition_(this.lastPointerEvent_)){this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);return}this.snappedToVertex_&&(g=T>C?f[1]:f[0]),this.createOrUpdateVertexFeature_(g,[h.feature],[h.geometry],this.snappedToVertex_);const R={};R[St(h.geometry)]=!0;for(let M=1,A=o.length;M<A;++M){const L=o[M].segment;if(Xe(f[0],L[0])&&Xe(f[1],L[1])||Xe(f[0],L[1])&&Xe(f[1],L[0])){const D=St(o[M].geometry);D in R||(R[D]=!0,p[St(L)]=!0)}else break}}this.vertexSegments_=p;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(t,e){const i=t.segment,r=t.feature,o=t.geometry,u=t.depth,h=t.index;let f;for(;e.length<o.getStride();)e.push(0);switch(o.getType()){case"MultiLineString":f=o.getCoordinates(),f[u[0]].splice(h+1,0,e);break;case"Polygon":f=o.getCoordinates(),f[u[0]].splice(h+1,0,e);break;case"MultiPolygon":f=o.getCoordinates(),f[u[1]][u[0]].splice(h+1,0,e);break;case"LineString":f=o.getCoordinates(),f.splice(h+1,0,e);break;default:return!1}this.setGeometryCoordinates_(o,f);const g=this.rBush_;g.remove(t),this.updateSegmentIndices_(o,h,u,1);const _={segment:[i[0],e],feature:r,geometry:o,depth:u,index:h};g.insert(Te(_.segment),_),this.dragSegments_.push([_,1]);const y={segment:[e,i[1]],feature:r,geometry:o,depth:u,index:h+1};return g.insert(Te(y.segment),y),this.dragSegments_.push([y,0]),!0}updatePointer_(t){var e;return t&&this.findInsertVerticesAndUpdateDragSegments_(t),(e=this.vertexFeature_)==null?void 0:e.getGeometry().getCoordinates()}getPoint(){var e;const t=(e=this.vertexFeature_)==null?void 0:e.getGeometry().getCoordinates();return t?Ls(t,this.getMap().getView().getProjection()):null}canRemovePoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(i=>i.getType()==="Circle"||i.getType().endsWith("Point")))return!1;const t=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(Te([t])).some(({segment:i})=>Xe(i[0],t)||Xe(i[1],t))}removePoint(t){if(t&&(t=Vt(t,this.getMap().getView().getProjection()),this.updatePointer_(t)),!this.lastPointerEvent_||this.lastPointerEvent_&&this.lastPointerEvent_.type!=Dt.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_.map(([r])=>r));const i=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new Od(Ld.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,i}return!1}removeVertex_(){const t=this.dragSegments_,e={};let i=!1,r,o,u,h,f,g,_,y,p,E,x;for(f=t.length-1;f>=0;--f)u=t[f],E=u[0],x=St(E.feature),E.depth&&(x+="-"+E.depth.join("-")),x in e||(e[x]={}),u[1]===0?(e[x].right=E,e[x].index=E.index):u[1]==1&&(e[x].left=E,e[x].index=E.index+1);for(x in e){switch(p=e[x].right,_=e[x].left,g=e[x].index,y=g-1,_!==void 0?E=_:E=p,y<0&&(y=0),h=E.geometry,o=h.getCoordinates(),r=o,i=!1,h.getType()){case"MultiLineString":o[E.depth[0]].length>2&&(o[E.depth[0]].splice(g,1),i=!0);break;case"LineString":o.length>2&&(o.splice(g,1),i=!0);break;case"MultiPolygon":r=r[E.depth[1]];case"Polygon":r=r[E.depth[0]],r.length>4&&(g==r.length-1&&(g=0),r.splice(g,1),i=!0,g===0&&(r.pop(),r.push(r[0]),y=r.length-1));break}if(i){this.setGeometryCoordinates_(h,o);const T=[];if(_!==void 0&&(this.rBush_.remove(_),T.push(_.segment[0])),p!==void 0&&(this.rBush_.remove(p),T.push(p.segment[1])),_!==void 0&&p!==void 0){const C={depth:E.depth,feature:E.feature,geometry:E.geometry,index:y,segment:T};this.rBush_.insert(Te(C.segment),C)}this.updateSegmentIndices_(h,g,E.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return i}canInsertPoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(i=>i.getType()==="Circle"||i.getType().endsWith("Point")))return!1;const t=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(Te([t])).some(({segment:i})=>!(Xe(i[0],t)||Xe(i[1],t)))}insertPoint(t){var r;const e=t?Vt(t,this.getMap().getView().getProjection()):(r=this.vertexFeature_)==null?void 0:r.getGeometry().getCoordinates();return e?this.findInsertVerticesAndUpdateDragSegments_(e).reduce((o,u)=>o||this.insertVertex_(u,e),!1):!1}setGeometryCoordinates_(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1}updateSegmentIndices_(t,e,i,r){this.rBush_.forEachInExtent(t.getExtent(),function(o){o.geometry===t&&(i===void 0||o.depth===void 0||qi(o.depth,i))&&o.index>e&&(o.index+=r)})}}function Cb(a,t){return a.index-t.index}function Zp(a,t,e){const i=t.geometry;if(i.getType()==="Circle"){let o=i;if(t.index===Jl){const u=Yi(o.getCenter(),Vt(a)),h=Math.sqrt(u)-o.getRadius();return h*h}}const r=Vt(a);return Ra[0]=Vt(t.segment[0]),Ra[1]=Vt(t.segment[1]),jC(r,Ra)}function qp(a,t,e){const i=t.geometry;if(i.getType()==="Circle"&&t.index===Jl)return Ls(i.getClosestPoint(Vt(a)));const r=Vt(a);return Ra[0]=Vt(t.segment[0]),Ra[1]=Vt(t.segment[1]),Ls(hg(r,Ra))}function Tb(){const a=av();return function(t,e){return a.Point}}const Rb={SNAP:"snap"};class wb extends Dn{constructor(t,e){super(t),this.vertex=e.vertex,this.vertexPixel=e.vertexPixel,this.feature=e.feature,this.segment=e.segment}}function Kp(a){return a.feature?a.feature:a.element?a.element:null}const Id=[];class bb extends Ns{constructor(t){t=t||{};const e=t;e.handleDownEvent||(e.handleDownEvent=yr),e.stopDown||(e.stopDown=xr),super(e),this.on,this.once,this.un,this.source_=t.source?t.source:null,this.vertex_=t.vertex!==void 0?t.vertex:!0,this.edge_=t.edge!==void 0?t.edge:!0,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,this.rBush_=new dc,this.GEOMETRY_SEGMENTERS_={Point:this.segmentPointGeometry_.bind(this),LineString:this.segmentLineStringGeometry_.bind(this),LinearRing:this.segmentLineStringGeometry_.bind(this),Polygon:this.segmentPolygonGeometry_.bind(this),MultiPoint:this.segmentMultiPointGeometry_.bind(this),MultiLineString:this.segmentMultiLineStringGeometry_.bind(this),MultiPolygon:this.segmentMultiPolygonGeometry_.bind(this),GeometryCollection:this.segmentGeometryCollectionGeometry_.bind(this),Circle:this.segmentCircleGeometry_.bind(this)}}addFeature(t,e){e=e!==void 0?e:!0;const i=St(t),r=t.getGeometry();if(r){const o=this.GEOMETRY_SEGMENTERS_[r.getType()];if(o){this.indexedFeaturesExtents_[i]=r.getExtent(hn());const u=[];if(o(u,r),u.length===1)this.rBush_.insert(Te(u[0]),{feature:t,segment:u[0]});else if(u.length>1){const h=u.map(g=>Te(g)),f=u.map(g=>({feature:t,segment:g}));this.rBush_.load(h,f)}}}e&&(this.featureChangeListenerKeys_[i]=wt(t,mt.CHANGE,this.handleFeatureChange_,this))}getFeatures_(){let t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t}handleEvent(t){const e=this.snapTo(t.pixel,t.coordinate,t.map);return e&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel,this.dispatchEvent(new wb(Rb.SNAP,{vertex:t.coordinate,vertexPixel:t.pixel,feature:e.feature,segment:e.segment}))),super.handleEvent(t)}handleFeatureAdd_(t){const e=Kp(t);e&&this.addFeature(e)}handleFeatureRemove_(t){const e=Kp(t);e&&this.removeFeature(e)}handleFeatureChange_(t){const e=t.target;if(this.handlingDownUpSequence){const i=St(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)}handleUpEvent(t){const e=Object.values(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}removeFeature(t,e){const i=e!==void 0?e:!0,r=St(t),o=this.indexedFeaturesExtents_[r];if(o){const u=this.rBush_,h=[];u.forEachInExtent(o,function(f){t===f.feature&&h.push(f)});for(let f=h.length-1;f>=0;--f)u.remove(h[f])}i&&(Bt(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])}setMap(t){const e=this.getMap(),i=this.featuresListenerKeys_,r=this.getFeatures_();e&&(i.forEach(Bt),i.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(Bt),this.featureChangeListenerKeys_={}),super.setMap(t),t&&(this.features_?i.push(wt(this.features_,pe.ADD,this.handleFeatureAdd_,this),wt(this.features_,pe.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(wt(this.source_,Ne.ADDFEATURE,this.handleFeatureAdd_,this),wt(this.source_,Ne.REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(o=>this.addFeature(o)))}snapTo(t,e,i){i.getView().getProjection();const r=Vt(e),o=Lc(vo(Te([r]),i.getView().getResolution()*this.pixelTolerance_)),u=this.rBush_.getInExtent(o),h=u.length;if(h===0)return null;let f,g=1/0,_,y=null;const p=this.pixelTolerance_*this.pixelTolerance_,E=()=>{if(f){const x=i.getPixelFromCoordinate(f);if(Yi(t,x)<=p)return{vertex:f,vertexPixel:[Math.round(x[0]),Math.round(x[1])],feature:_,segment:y}}return null};if(this.vertex_){for(let T=0;T<h;++T){const C=u[T];C.feature.getGeometry().getType()!=="Circle"&&C.segment.forEach(R=>{const M=Vt(R),A=Yi(r,M);A<g&&(f=R,g=A,_=C.feature)})}const x=E();if(x)return x}if(this.edge_){for(let T=0;T<h;++T){let C=null;const R=u[T];if(R.feature.getGeometry().getType()==="Circle"){let M=R.feature.getGeometry();C=BC(r,M)}else{const[M,A]=R.segment;A&&(Id[0]=Vt(M),Id[1]=Vt(A),C=hg(r,Id))}if(C){const M=Yi(r,C);M<g&&(f=Ls(C),y=R.feature.getGeometry().getType()==="Circle"?null:R.segment,g=M,_=R.feature)}}const x=E();if(x)return x}return null}updateFeature_(t){this.removeFeature(t,!1),this.addFeature(t,!1)}segmentCircleGeometry_(t,e){this.getMap().getView().getProjection();const o=BT(e).getCoordinates()[0];for(let u=0,h=o.length-1;u<h;++u)t.push(o.slice(u,u+2))}segmentGeometryCollectionGeometry_(t,e){const i=e.getGeometriesArray();for(let r=0;r<i.length;++r){const o=this.GEOMETRY_SEGMENTERS_[i[r].getType()];o&&o(t,i[r])}}segmentLineStringGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length-1;r<o;++r)t.push(i.slice(r,r+2))}segmentMultiLineStringGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r];for(let h=0,f=u.length-1;h<f;++h)t.push(u.slice(h,h+2))}}segmentMultiPointGeometry_(t,e){e.getCoordinates().forEach(i=>{t.push([i])})}segmentMultiPolygonGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r];for(let h=0,f=u.length;h<f;++h){const g=u[h];for(let _=0,y=g.length-1;_<y;++_)t.push(g.slice(_,_+2))}}}segmentPointGeometry_(t,e){t.push([e.getCoordinates()])}segmentPolygonGeometry_(t,e){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const u=i[r];for(let h=0,f=u.length-1;h<f;++h)t.push(u.slice(h,h+2))}}}const Mb=({userData:a})=>{const t=j.useRef(null),e=j.useRef(new Fg),i=j.useRef(new jg({source:e.current}));return j.useEffect(()=>{const r=new Ow({target:t.current,layers:[new Ww({source:new mb}),i.current],view:new ii({center:[0,0],zoom:2})}),o=new vb({source:e.current,type:"Polygon"}),u=new Sb({source:e.current}),h=new bb({source:e.current});return r.addInteraction(o),r.addInteraction(u),r.addInteraction(h),()=>{r.setTarget(null)}},[]),Re.jsxs("div",{children:[Re.jsxs("h1",{className:"text-center text-xl p-4 bg-gray-200",children:[(a==null?void 0:a.firstName)||"User","'s Map"]}),Re.jsx("div",{ref:t,className:"h-[500px] w-full"})]})},Ab=()=>{const[a,t]=j.useState(null);return Re.jsx(mC,{children:Re.jsxs(VS,{children:[Re.jsx(zd,{path:"/ottermap-project",element:Re.jsx(wC,{setUserData:t})}),Re.jsx(zd,{path:"/map",element:Re.jsx(Mb,{userData:a})})]})})};nS.createRoot(document.getElementById("root")).render(Re.jsx(j.StrictMode,{children:Re.jsx(Ab,{})}));
